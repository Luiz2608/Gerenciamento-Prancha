function Aj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Pj={exports:{}},Pf={},Cj={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),yT=Symbol.for("react.portal"),bT=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),wT=Symbol.for("react.profiler"),_T=Symbol.for("react.provider"),ST=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),NT=Symbol.for("react.memo"),OT=Symbol.for("react.lazy"),wb=Symbol.iterator;function ET(e){return e===null||typeof e!="object"?null:(e=wb&&e[wb]||e["@@iterator"],typeof e=="function"?e:null)}var Tj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$j=Object.assign,Ij={};function mo(e,t,r){this.props=e,this.context=t,this.refs=Ij,this.updater=r||Tj}mo.prototype.isReactComponent={};mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rj(){}Rj.prototype=mo.prototype;function Kg(e,t,r){this.props=e,this.context=t,this.refs=Ij,this.updater=r||Tj}var Hg=Kg.prototype=new Rj;Hg.constructor=Kg;$j(Hg,mo.prototype);Hg.isPureReactComponent=!0;var _b=Array.isArray,Mj=Object.prototype.hasOwnProperty,Gg={current:null},Dj={key:!0,ref:!0,__self:!0,__source:!0};function Lj(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Mj.call(t,n)&&!Dj.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Pc,type:e,key:i,ref:s,props:a,_owner:Gg.current}}function AT(e,t){return{$$typeof:Pc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function PT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sb=/\/+/g;function Qh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PT(""+e.key):t.toString(36)}function Lu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Pc:case yT:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Qh(s,0):n,_b(a)?(r="",e!=null&&(r=e.replace(Sb,"$&/")+"/"),Lu(a,t,r,"",function(c){return c})):a!=null&&(Yg(a)&&(a=AT(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Sb,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",_b(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Qh(i,o);s+=Lu(i,t,r,l,a)}else if(l=ET(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Qh(i,o++),s+=Lu(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jc(e,t,r){if(e==null)return e;var n=[],a=0;return Lu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function CT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},Bu={transition:null},TT={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:Gg};function Bj(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Jc,forEach:function(e,t,r){Jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jc(e,function(){t++}),t},toArray:function(e){return Jc(e,function(t){return t})||[]},only:function(e){if(!Yg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=mo;Ee.Fragment=bT;Ee.Profiler=wT;Ee.PureComponent=Kg;Ee.StrictMode=xT;Ee.Suspense=kT;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TT;Ee.act=Bj;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$j({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Gg.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Mj.call(t,l)&&!Dj.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Pc,type:e.type,key:a,ref:i,props:n,_owner:s}};Ee.createContext=function(e){return e={$$typeof:ST,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_T,_context:e},e.Consumer=e};Ee.createElement=Lj;Ee.createFactory=function(e){var t=Lj.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:jT,render:e}};Ee.isValidElement=Yg;Ee.lazy=function(e){return{$$typeof:OT,_payload:{_status:-1,_result:e},_init:CT}};Ee.memo=function(e,t){return{$$typeof:NT,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Bu.transition;Bu.transition={};try{e()}finally{Bu.transition=t}};Ee.unstable_act=Bj;Ee.useCallback=function(e,t){return or.current.useCallback(e,t)};Ee.useContext=function(e){return or.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return or.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return or.current.useEffect(e,t)};Ee.useId=function(){return or.current.useId()};Ee.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return or.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};Ee.useRef=function(e){return or.current.useRef(e)};Ee.useState=function(e){return or.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return or.current.useTransition()};Ee.version="18.3.1";Cj.exports=Ee;var O=Cj.exports;const T=ze(O),$T=Aj({__proto__:null,default:T},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=O,RT=Symbol.for("react.element"),MT=Symbol.for("react.fragment"),DT=Object.prototype.hasOwnProperty,LT=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BT={key:!0,ref:!0,__self:!0,__source:!0};function Fj(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)DT.call(t,n)&&!BT.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:RT,type:e,key:i,ref:s,props:a,_owner:LT.current}}Pf.Fragment=MT;Pf.jsx=Fj;Pf.jsxs=Fj;Pj.exports=Pf;var u=Pj.exports,Uj={exports:{}},$r={},zj={exports:{}},qj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var C=R.length;R.push(L);e:for(;0<C;){var H=C-1>>>1,q=R[H];if(0<a(q,L))R[H]=L,R[C]=q,C=H;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],C=R.pop();if(C!==L){R[0]=C;e:for(var H=0,q=R.length,Z=q>>>1;H<Z;){var le=2*(H+1)-1,je=R[le],Ae=le+1,bt=R[Ae];if(0>a(je,C))Ae<q&&0>a(bt,je)?(R[H]=bt,R[Ae]=C,H=Ae):(R[H]=je,R[le]=C,H=le);else if(Ae<q&&0>a(bt,C))R[H]=bt,R[Ae]=C,H=Ae;else break e}}return L}function a(R,L){var C=R.sortIndex-L.sortIndex;return C!==0?C:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=R)n(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(c)}}function v(R){if(y=!1,_(R),!m)if(r(l)!==null)m=!0,U(x);else{var L=r(c);L!==null&&M(v,L.startTime-R)}}function x(R,L){m=!1,y&&(y=!1,b(E),E=-1),p=!0;var C=h;try{for(_(L),d=r(l);d!==null&&(!(d.expirationTime>L)||R&&!P());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var q=H(d.expirationTime<=L);L=e.unstable_now(),typeof q=="function"?d.callback=q:d===r(l)&&n(l),_(L)}else n(l);d=r(l)}if(d!==null)var Z=!0;else{var le=r(c);le!==null&&M(v,le.startTime-L),Z=!1}return Z}finally{d=null,h=C,p=!1}}var S=!1,k=null,E=-1,A=5,j=-1;function P(){return!(e.unstable_now()-j<A)}function I(){if(k!==null){var R=e.unstable_now();j=R;var L=!0;try{L=k(!0,R)}finally{L?D():(S=!1,k=null)}}else S=!1}var D;if(typeof w=="function")D=function(){w(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=I,D=function(){F.postMessage(null)}}else D=function(){g(I,0)};function U(R){k=R,S||(S=!0,D())}function M(R,L){E=g(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,U(x))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var C=h;h=L;try{return R()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var C=h;h=R;try{return L()}finally{h=C}},e.unstable_scheduleCallback=function(R,L,C){var H=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?H+C:H):C=H,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=C+q,R={id:f++,callback:L,priorityLevel:R,startTime:C,expirationTime:q,sortIndex:-1},C>H?(R.sortIndex=C,t(c,R),r(l)===null&&R===r(c)&&(y?(b(E),E=-1):y=!0,M(v,C-H))):(R.sortIndex=q,t(l,R),m||p||(m=!0,U(x))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var L=h;return function(){var C=h;h=L;try{return R.apply(this,arguments)}finally{h=C}}}})(qj);zj.exports=qj;var FT=zj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=O,Tr=FT;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wj=new Set,Nl={};function Mi(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Nl[e]=t,e=0;e<t.length;e++)Wj.add(t[e])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,zT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},kb={};function qT(e){return lm.call(kb,e)?!0:lm.call(jb,e)?!1:zT.test(e)?kb[e]=!0:(jb[e]=!0,!1)}function WT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VT(e,t,r,n){if(t===null||typeof t>"u"||WT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function Xg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jg,Xg);Ht[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jg,Xg);Ht[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jg,Xg);Ht[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qg(e,t,r,n){var a=Ht.hasOwnProperty(t)?Ht[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VT(t,r,a,n)&&(r=null),n||a===null?qT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sa=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xc=Symbol.for("react.element"),is=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Zg=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),Vj=Symbol.for("react.provider"),Kj=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),Hj=Symbol.for("react.offscreen"),Nb=Symbol.iterator;function Mo(e){return e===null||typeof e!="object"?null:(e=Nb&&e[Nb]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Zh;function tl(e){if(Zh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zh=t&&t[1]||""}return`
`+Zh+e}var ep=!1;function tp(e,t){if(!e||ep)return"";ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{ep=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tl(e):""}function KT(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=tp(e.type,!1),e;case 11:return e=tp(e.type.render,!1),e;case 1:return e=tp(e.type,!0),e;default:return""}}function fm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ss:return"Fragment";case is:return"Portal";case cm:return"Profiler";case Zg:return"StrictMode";case um:return"Suspense";case dm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kj:return(e.displayName||"Context")+".Consumer";case Vj:return(e._context.displayName||"Context")+".Provider";case ey:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ty:return t=e.displayName||null,t!==null?t:fm(e.type)||"Memo";case ya:t=e._payload,e=e._init;try{return fm(e(t))}catch{}}return null}function HT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fm(t);case 8:return t===Zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GT(e){var t=Gj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qc(e){e._valueTracker||(e._valueTracker=GT(e))}function Yj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Gj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hm(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ob(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ba(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jj(e,t){t=t.checked,t!=null&&Qg(e,"checked",t,!1)}function pm(e,t){Jj(e,t);var r=Ba(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mm(e,t.type,r):t.hasOwnProperty("defaultValue")&&mm(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mm(e,t,r){(t!=="number"||Qu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rl=Array.isArray;function Ss(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ba(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ab(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(rl(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ba(r)}}function Xj(e,t){var r=Ba(t.value),n=Ba(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zc,Zj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ol(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YT=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){YT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ll[t]=ll[e]})});function ek(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ll.hasOwnProperty(e)&&ll[e]?(""+t).trim():t+"px"}function tk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=ek(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JT=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(e,t){if(t){if(JT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function bm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function ry(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wm=null,js=null,ks=null;function Cb(e){if(e=$c(e)){if(typeof wm!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Rf(t),wm(e.stateNode,e.type,t))}}function rk(e){js?ks?ks.push(e):ks=[e]:js=e}function nk(){if(js){var e=js,t=ks;if(ks=js=null,Cb(e),t)for(e=0;e<t.length;e++)Cb(t[e])}}function ak(e,t){return e(t)}function ik(){}var rp=!1;function sk(e,t,r){if(rp)return e(t,r);rp=!0;try{return ak(e,t,r)}finally{rp=!1,(js!==null||ks!==null)&&(ik(),nk())}}function El(e,t){var r=e.stateNode;if(r===null)return null;var n=Rf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var _m=!1;if(Zn)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){_m=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{_m=!1}function XT(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var cl=!1,Zu=null,ed=!1,Sm=null,QT={onError:function(e){cl=!0,Zu=e}};function ZT(e,t,r,n,a,i,s,o,l){cl=!1,Zu=null,XT.apply(QT,arguments)}function e$(e,t,r,n,a,i,s,o,l){if(ZT.apply(this,arguments),cl){if(cl){var c=Zu;cl=!1,Zu=null}else throw Error(Y(198));ed||(ed=!0,Sm=c)}}function Di(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ok(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tb(e){if(Di(e)!==e)throw Error(Y(188))}function t$(e){var t=e.alternate;if(!t){if(t=Di(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Tb(a),e;if(i===n)return Tb(a),t;i=i.sibling}throw Error(Y(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function lk(e){return e=t$(e),e!==null?ck(e):null}function ck(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ck(e);if(t!==null)return t;e=e.sibling}return null}var uk=Tr.unstable_scheduleCallback,$b=Tr.unstable_cancelCallback,r$=Tr.unstable_shouldYield,n$=Tr.unstable_requestPaint,xt=Tr.unstable_now,a$=Tr.unstable_getCurrentPriorityLevel,ny=Tr.unstable_ImmediatePriority,dk=Tr.unstable_UserBlockingPriority,td=Tr.unstable_NormalPriority,i$=Tr.unstable_LowPriority,fk=Tr.unstable_IdlePriority,Cf=null,Nn=null;function s$(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Cf,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:c$,o$=Math.log,l$=Math.LN2;function c$(e){return e>>>=0,e===0?32:31-(o$(e)/l$|0)|0}var eu=64,tu=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=nl(o):(i&=s,i!==0&&(n=nl(i)))}else s=r&~a,s!==0?n=nl(s):i!==0&&(n=nl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pn(t),a=1<<r,n|=e[r],t&=~a;return n}function u$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-pn(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=u$(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function jm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hk(){var e=eu;return eu<<=1,!(eu&4194240)&&(eu=64),e}function np(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=r}function f$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-pn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ay(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ue=0;function pk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mk,iy,vk,gk,yk,km=!1,ru=[],Aa=null,Pa=null,Ca=null,Al=new Map,Pl=new Map,wa=[],h$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ib(e,t){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(t.pointerId)}}function Lo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$c(t),t!==null&&iy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function p$(e,t,r,n,a){switch(t){case"focusin":return Aa=Lo(Aa,e,t,r,n,a),!0;case"dragenter":return Pa=Lo(Pa,e,t,r,n,a),!0;case"mouseover":return Ca=Lo(Ca,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Al.set(i,Lo(Al.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Pl.set(i,Lo(Pl.get(i)||null,e,t,r,n,a)),!0}return!1}function bk(e){var t=hi(e.target);if(t!==null){var r=Di(t);if(r!==null){if(t=r.tag,t===13){if(t=ok(r),t!==null){e.blockedOn=t,yk(e.priority,function(){vk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xm=n,r.target.dispatchEvent(n),xm=null}else return t=$c(r),t!==null&&iy(t),e.blockedOn=r,!1;t.shift()}return!0}function Rb(e,t,r){Fu(e)&&r.delete(t)}function m$(){km=!1,Aa!==null&&Fu(Aa)&&(Aa=null),Pa!==null&&Fu(Pa)&&(Pa=null),Ca!==null&&Fu(Ca)&&(Ca=null),Al.forEach(Rb),Pl.forEach(Rb)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,km||(km=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,m$)))}function Cl(e){function t(a){return Bo(a,e)}if(0<ru.length){Bo(ru[0],e);for(var r=1;r<ru.length;r++){var n=ru[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Aa!==null&&Bo(Aa,e),Pa!==null&&Bo(Pa,e),Ca!==null&&Bo(Ca,e),Al.forEach(t),Pl.forEach(t),r=0;r<wa.length;r++)n=wa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wa.length&&(r=wa[0],r.blockedOn===null);)bk(r),r.blockedOn===null&&wa.shift()}var Ns=sa.ReactCurrentBatchConfig,nd=!0;function v$(e,t,r,n){var a=Ue,i=Ns.transition;Ns.transition=null;try{Ue=1,sy(e,t,r,n)}finally{Ue=a,Ns.transition=i}}function g$(e,t,r,n){var a=Ue,i=Ns.transition;Ns.transition=null;try{Ue=4,sy(e,t,r,n)}finally{Ue=a,Ns.transition=i}}function sy(e,t,r,n){if(nd){var a=Nm(e,t,r,n);if(a===null)hp(e,t,n,ad,r),Ib(e,n);else if(p$(a,e,t,r,n))n.stopPropagation();else if(Ib(e,n),t&4&&-1<h$.indexOf(e)){for(;a!==null;){var i=$c(a);if(i!==null&&mk(i),i=Nm(e,t,r,n),i===null&&hp(e,t,n,ad,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else hp(e,t,n,null,r)}}var ad=null;function Nm(e,t,r,n){if(ad=null,e=ry(n),e=hi(e),e!==null)if(t=Di(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ok(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ad=e,null}function xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a$()){case ny:return 1;case dk:return 4;case td:case i$:return 16;case fk:return 536870912;default:return 16}default:return 16}}var ka=null,oy=null,Uu=null;function wk(){if(Uu)return Uu;var e,t=oy,r=t.length,n,a="value"in ka?ka.value:ka.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Uu=a.slice(e,1<n?1-n:void 0)}function zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function Mb(){return!1}function Ir(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nu:Mb,this.isPropagationStopped=Mb,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ly=Ir(vo),Tc=pt({},vo,{view:0,detail:0}),y$=Ir(Tc),ap,ip,Fo,Tf=pt({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fo&&(Fo&&e.type==="mousemove"?(ap=e.screenX-Fo.screenX,ip=e.screenY-Fo.screenY):ip=ap=0,Fo=e),ap)},movementY:function(e){return"movementY"in e?e.movementY:ip}}),Db=Ir(Tf),b$=pt({},Tf,{dataTransfer:0}),x$=Ir(b$),w$=pt({},Tc,{relatedTarget:0}),sp=Ir(w$),_$=pt({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),S$=Ir(_$),j$=pt({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k$=Ir(j$),N$=pt({},vo,{data:0}),Lb=Ir(N$),O$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A$[e])?!!t[e]:!1}function cy(){return P$}var C$=pt({},Tc,{key:function(e){if(e.key){var t=O$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cy,charCode:function(e){return e.type==="keypress"?zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T$=Ir(C$),$$=pt({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bb=Ir($$),I$=pt({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cy}),R$=Ir(I$),M$=pt({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),D$=Ir(M$),L$=pt({},Tf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B$=Ir(L$),F$=[9,13,27,32],uy=Zn&&"CompositionEvent"in window,ul=null;Zn&&"documentMode"in document&&(ul=document.documentMode);var U$=Zn&&"TextEvent"in window&&!ul,_k=Zn&&(!uy||ul&&8<ul&&11>=ul),Fb=" ",Ub=!1;function Sk(e,t){switch(e){case"keyup":return F$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var os=!1;function z$(e,t){switch(e){case"compositionend":return jk(t);case"keypress":return t.which!==32?null:(Ub=!0,Fb);case"textInput":return e=t.data,e===Fb&&Ub?null:e;default:return null}}function q$(e,t){if(os)return e==="compositionend"||!uy&&Sk(e,t)?(e=wk(),Uu=oy=ka=null,os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _k&&t.locale!=="ko"?null:t.data;default:return null}}var W$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W$[e.type]:t==="textarea"}function kk(e,t,r,n){rk(n),t=id(t,"onChange"),0<t.length&&(r=new ly("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dl=null,Tl=null;function V$(e){Mk(e,0)}function $f(e){var t=us(e);if(Yj(t))return e}function K$(e,t){if(e==="change")return t}var Nk=!1;if(Zn){var op;if(Zn){var lp="oninput"in document;if(!lp){var qb=document.createElement("div");qb.setAttribute("oninput","return;"),lp=typeof qb.oninput=="function"}op=lp}else op=!1;Nk=op&&(!document.documentMode||9<document.documentMode)}function Wb(){dl&&(dl.detachEvent("onpropertychange",Ok),Tl=dl=null)}function Ok(e){if(e.propertyName==="value"&&$f(Tl)){var t=[];kk(t,Tl,e,ry(e)),sk(V$,t)}}function H$(e,t,r){e==="focusin"?(Wb(),dl=t,Tl=r,dl.attachEvent("onpropertychange",Ok)):e==="focusout"&&Wb()}function G$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $f(Tl)}function Y$(e,t){if(e==="click")return $f(t)}function J$(e,t){if(e==="input"||e==="change")return $f(t)}function X$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:X$;function $l(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!lm.call(t,a)||!gn(e[a],t[a]))return!1}return!0}function Vb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kb(e,t){var r=Vb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vb(r)}}function Ek(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ek(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ak(){for(var e=window,t=Qu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qu(e.document)}return t}function dy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q$(e){var t=Ak(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ek(r.ownerDocument.documentElement,r)){if(n!==null&&dy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Kb(r,i);var s=Kb(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z$=Zn&&"documentMode"in document&&11>=document.documentMode,ls=null,Om=null,fl=null,Em=!1;function Hb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Em||ls==null||ls!==Qu(n)||(n=ls,"selectionStart"in n&&dy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fl&&$l(fl,n)||(fl=n,n=id(Om,"onSelect"),0<n.length&&(t=new ly("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ls)))}function au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cs={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},cp={},Pk={};Zn&&(Pk=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function If(e){if(cp[e])return cp[e];if(!cs[e])return e;var t=cs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pk)return cp[e]=t[r];return e}var Ck=If("animationend"),Tk=If("animationiteration"),$k=If("animationstart"),Ik=If("transitionend"),Rk=new Map,Gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ua(e,t){Rk.set(e,t),Mi(t,[e])}for(var up=0;up<Gb.length;up++){var dp=Gb[up],e2=dp.toLowerCase(),t2=dp[0].toUpperCase()+dp.slice(1);Ua(e2,"on"+t2)}Ua(Ck,"onAnimationEnd");Ua(Tk,"onAnimationIteration");Ua($k,"onAnimationStart");Ua("dblclick","onDoubleClick");Ua("focusin","onFocus");Ua("focusout","onBlur");Ua(Ik,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Yb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,e$(n,t,void 0,e),e.currentTarget=null}function Mk(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Yb(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Yb(a,o,c),i=l}}}if(ed)throw e=Sm,ed=!1,Sm=null,e}function et(e,t){var r=t[$m];r===void 0&&(r=t[$m]=new Set);var n=e+"__bubble";r.has(n)||(Dk(t,e,2,!1),r.add(n))}function fp(e,t,r){var n=0;t&&(n|=4),Dk(r,e,n,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[iu]){e[iu]=!0,Wj.forEach(function(r){r!=="selectionchange"&&(r2.has(r)||fp(r,!1,e),fp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,fp("selectionchange",!1,t))}}function Dk(e,t,r,n){switch(xk(t)){case 1:var a=v$;break;case 4:a=g$;break;default:a=sy}r=a.bind(null,t,r,e),a=void 0,!_m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function hp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=hi(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}sk(function(){var c=i,f=ry(r),d=[];e:{var h=Rk.get(e);if(h!==void 0){var p=ly,m=e;switch(e){case"keypress":if(zu(r)===0)break e;case"keydown":case"keyup":p=T$;break;case"focusin":m="focus",p=sp;break;case"focusout":m="blur",p=sp;break;case"beforeblur":case"afterblur":p=sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=R$;break;case Ck:case Tk:case $k:p=S$;break;case Ik:p=D$;break;case"scroll":p=y$;break;case"wheel":p=B$;break;case"copy":case"cut":case"paste":p=k$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bb}var y=(t&4)!==0,g=!y&&e==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,_;w!==null;){_=w;var v=_.stateNode;if(_.tag===5&&v!==null&&(_=v,b!==null&&(v=El(w,b),v!=null&&y.push(Rl(w,v,_)))),g)break;w=w.return}0<y.length&&(h=new p(h,m,null,r,f),d.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==xm&&(m=r.relatedTarget||r.fromElement)&&(hi(m)||m[ea]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?hi(m):null,m!==null&&(g=Di(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=Db,v="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Bb,v="onPointerLeave",b="onPointerEnter",w="pointer"),g=p==null?h:us(p),_=m==null?h:us(m),h=new y(v,w+"leave",p,r,f),h.target=g,h.relatedTarget=_,v=null,hi(f)===c&&(y=new y(b,w+"enter",m,r,f),y.target=_,y.relatedTarget=g,v=y),g=v,p&&m)t:{for(y=p,b=m,w=0,_=y;_;_=Vi(_))w++;for(_=0,v=b;v;v=Vi(v))_++;for(;0<w-_;)y=Vi(y),w--;for(;0<_-w;)b=Vi(b),_--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Vi(y),b=Vi(b)}y=null}else y=null;p!==null&&Jb(d,h,p,y,!1),m!==null&&g!==null&&Jb(d,g,m,y,!0)}}e:{if(h=c?us(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=K$;else if(zb(h))if(Nk)x=J$;else{x=G$;var S=H$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Y$);if(x&&(x=x(e,c))){kk(d,x,r,f);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&mm(h,"number",h.value)}switch(S=c?us(c):window,e){case"focusin":(zb(S)||S.contentEditable==="true")&&(ls=S,Om=c,fl=null);break;case"focusout":fl=Om=ls=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Hb(d,r,f);break;case"selectionchange":if(Z$)break;case"keydown":case"keyup":Hb(d,r,f)}var k;if(uy)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else os?Sk(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(_k&&r.locale!=="ko"&&(os||E!=="onCompositionStart"?E==="onCompositionEnd"&&os&&(k=wk()):(ka=f,oy="value"in ka?ka.value:ka.textContent,os=!0)),S=id(c,E),0<S.length&&(E=new Lb(E,e,null,r,f),d.push({event:E,listeners:S}),k?E.data=k:(k=jk(r),k!==null&&(E.data=k)))),(k=U$?z$(e,r):q$(e,r))&&(c=id(c,"onBeforeInput"),0<c.length&&(f=new Lb("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=k))}Mk(d,t)})}function Rl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function id(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=El(e,r),i!=null&&n.unshift(Rl(e,i,a)),i=El(e,t),i!=null&&n.push(Rl(e,i,a))),e=e.return}return n}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jb(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=El(r,i),l!=null&&s.unshift(Rl(r,l,o))):a||(l=El(r,i),l!=null&&s.push(Rl(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var n2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function Xb(e){return(typeof e=="string"?e:""+e).replace(n2,`
`).replace(a2,"")}function su(e,t,r){if(t=Xb(t),Xb(e)!==t&&r)throw Error(Y(425))}function sd(){}var Am=null,Pm=null;function Cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,i2=typeof clearTimeout=="function"?clearTimeout:void 0,Qb=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qb<"u"?function(e){return Qb.resolve(null).then(e).catch(o2)}:Tm;function o2(e){setTimeout(function(){throw e})}function pp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Cl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cl(t)}function Ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),jn="__reactFiber$"+go,Ml="__reactProps$"+go,ea="__reactContainer$"+go,$m="__reactEvents$"+go,l2="__reactListeners$"+go,c2="__reactHandles$"+go;function hi(e){var t=e[jn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[jn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zb(e);e!==null;){if(r=e[jn])return r;e=Zb(e)}return t}e=r,r=e.parentNode}return null}function $c(e){return e=e[jn]||e[ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Rf(e){return e[Ml]||null}var Im=[],ds=-1;function za(e){return{current:e}}function nt(e){0>ds||(e.current=Im[ds],Im[ds]=null,ds--)}function Qe(e,t){ds++,Im[ds]=e.current,e.current=t}var Fa={},er=za(Fa),pr=za(!1),ki=Fa;function Is(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mr(e){return e=e.childContextTypes,e!=null}function od(){nt(pr),nt(er)}function ex(e,t,r){if(er.current!==Fa)throw Error(Y(168));Qe(er,t),Qe(pr,r)}function Lk(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,HT(e)||"Unknown",a));return pt({},r,n)}function ld(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,ki=er.current,Qe(er,e),Qe(pr,pr.current),!0}function tx(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=Lk(e,t,ki),n.__reactInternalMemoizedMergedChildContext=e,nt(pr),nt(er),Qe(er,e)):nt(pr),Qe(pr,r)}var qn=null,Mf=!1,mp=!1;function Bk(e){qn===null?qn=[e]:qn.push(e)}function u2(e){Mf=!0,Bk(e)}function qa(){if(!mp&&qn!==null){mp=!0;var e=0,t=Ue;try{var r=qn;for(Ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qn=null,Mf=!1}catch(a){throw qn!==null&&(qn=qn.slice(e+1)),uk(ny,qa),a}finally{Ue=t,mp=!1}}return null}var fs=[],hs=0,cd=null,ud=0,Fr=[],Ur=0,Ni=null,Vn=1,Kn="";function ri(e,t){fs[hs++]=ud,fs[hs++]=cd,cd=e,ud=t}function Fk(e,t,r){Fr[Ur++]=Vn,Fr[Ur++]=Kn,Fr[Ur++]=Ni,Ni=e;var n=Vn;e=Kn;var a=32-pn(n)-1;n&=~(1<<a),r+=1;var i=32-pn(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Vn=1<<32-pn(t)+a|r<<a|n,Kn=i+e}else Vn=1<<i|r<<a|n,Kn=e}function fy(e){e.return!==null&&(ri(e,1),Fk(e,1,0))}function hy(e){for(;e===cd;)cd=fs[--hs],fs[hs]=null,ud=fs[--hs],fs[hs]=null;for(;e===Ni;)Ni=Fr[--Ur],Fr[Ur]=null,Kn=Fr[--Ur],Fr[Ur]=null,Vn=Fr[--Ur],Fr[Ur]=null}var Ar=null,Er=null,at=!1,dn=null;function Uk(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function rx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Er=Ta(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ni!==null?{id:Vn,overflow:Kn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ar=e,Er=null,!0):!1;default:return!1}}function Rm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mm(e){if(at){var t=Er;if(t){var r=t;if(!rx(e,t)){if(Rm(e))throw Error(Y(418));t=Ta(r.nextSibling);var n=Ar;t&&rx(e,t)?Uk(n,r):(e.flags=e.flags&-4097|2,at=!1,Ar=e)}}else{if(Rm(e))throw Error(Y(418));e.flags=e.flags&-4097|2,at=!1,Ar=e}}}function nx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function ou(e){if(e!==Ar)return!1;if(!at)return nx(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cm(e.type,e.memoizedProps)),t&&(t=Er)){if(Rm(e))throw zk(),Error(Y(418));for(;t;)Uk(e,t),t=Ta(t.nextSibling)}if(nx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=Ta(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=Ar?Ta(e.stateNode.nextSibling):null;return!0}function zk(){for(var e=Er;e;)e=Ta(e.nextSibling)}function Rs(){Er=Ar=null,at=!1}function py(e){dn===null?dn=[e]:dn.push(e)}var d2=sa.ReactCurrentBatchConfig;function Uo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function lu(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ax(e){var t=e._init;return t(e._payload)}function qk(e){function t(b,w){if(e){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function n(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function a(b,w){return b=Ma(b,w),b.index=0,b.sibling=null,b}function i(b,w,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,w,_,v){return w===null||w.tag!==6?(w=_p(_,b.mode,v),w.return=b,w):(w=a(w,_),w.return=b,w)}function l(b,w,_,v){var x=_.type;return x===ss?f(b,w,_.props.children,v,_.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ya&&ax(x)===w.type)?(v=a(w,_.props),v.ref=Uo(b,w,_),v.return=b,v):(v=Yu(_.type,_.key,_.props,null,b.mode,v),v.ref=Uo(b,w,_),v.return=b,v)}function c(b,w,_,v){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Sp(_,b.mode,v),w.return=b,w):(w=a(w,_.children||[]),w.return=b,w)}function f(b,w,_,v,x){return w===null||w.tag!==7?(w=_i(_,b.mode,v,x),w.return=b,w):(w=a(w,_),w.return=b,w)}function d(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_p(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xc:return _=Yu(w.type,w.key,w.props,null,b.mode,_),_.ref=Uo(b,null,w),_.return=b,_;case is:return w=Sp(w,b.mode,_),w.return=b,w;case ya:var v=w._init;return d(b,v(w._payload),_)}if(rl(w)||Mo(w))return w=_i(w,b.mode,_,null),w.return=b,w;lu(b,w)}return null}function h(b,w,_,v){var x=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:o(b,w,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xc:return _.key===x?l(b,w,_,v):null;case is:return _.key===x?c(b,w,_,v):null;case ya:return x=_._init,h(b,w,x(_._payload),v)}if(rl(_)||Mo(_))return x!==null?null:f(b,w,_,v,null);lu(b,_)}return null}function p(b,w,_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return b=b.get(_)||null,o(w,b,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xc:return b=b.get(v.key===null?_:v.key)||null,l(w,b,v,x);case is:return b=b.get(v.key===null?_:v.key)||null,c(w,b,v,x);case ya:var S=v._init;return p(b,w,_,S(v._payload),x)}if(rl(v)||Mo(v))return b=b.get(_)||null,f(w,b,v,x,null);lu(w,v)}return null}function m(b,w,_,v){for(var x=null,S=null,k=w,E=w=0,A=null;k!==null&&E<_.length;E++){k.index>E?(A=k,k=null):A=k.sibling;var j=h(b,k,_[E],v);if(j===null){k===null&&(k=A);break}e&&k&&j.alternate===null&&t(b,k),w=i(j,w,E),S===null?x=j:S.sibling=j,S=j,k=A}if(E===_.length)return r(b,k),at&&ri(b,E),x;if(k===null){for(;E<_.length;E++)k=d(b,_[E],v),k!==null&&(w=i(k,w,E),S===null?x=k:S.sibling=k,S=k);return at&&ri(b,E),x}for(k=n(b,k);E<_.length;E++)A=p(k,b,E,_[E],v),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?E:A.key),w=i(A,w,E),S===null?x=A:S.sibling=A,S=A);return e&&k.forEach(function(P){return t(b,P)}),at&&ri(b,E),x}function y(b,w,_,v){var x=Mo(_);if(typeof x!="function")throw Error(Y(150));if(_=x.call(_),_==null)throw Error(Y(151));for(var S=x=null,k=w,E=w=0,A=null,j=_.next();k!==null&&!j.done;E++,j=_.next()){k.index>E?(A=k,k=null):A=k.sibling;var P=h(b,k,j.value,v);if(P===null){k===null&&(k=A);break}e&&k&&P.alternate===null&&t(b,k),w=i(P,w,E),S===null?x=P:S.sibling=P,S=P,k=A}if(j.done)return r(b,k),at&&ri(b,E),x;if(k===null){for(;!j.done;E++,j=_.next())j=d(b,j.value,v),j!==null&&(w=i(j,w,E),S===null?x=j:S.sibling=j,S=j);return at&&ri(b,E),x}for(k=n(b,k);!j.done;E++,j=_.next())j=p(k,b,E,j.value,v),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?E:j.key),w=i(j,w,E),S===null?x=j:S.sibling=j,S=j);return e&&k.forEach(function(I){return t(b,I)}),at&&ri(b,E),x}function g(b,w,_,v){if(typeof _=="object"&&_!==null&&_.type===ss&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xc:e:{for(var x=_.key,S=w;S!==null;){if(S.key===x){if(x=_.type,x===ss){if(S.tag===7){r(b,S.sibling),w=a(S,_.props.children),w.return=b,b=w;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ya&&ax(x)===S.type){r(b,S.sibling),w=a(S,_.props),w.ref=Uo(b,S,_),w.return=b,b=w;break e}r(b,S);break}else t(b,S);S=S.sibling}_.type===ss?(w=_i(_.props.children,b.mode,v,_.key),w.return=b,b=w):(v=Yu(_.type,_.key,_.props,null,b.mode,v),v.ref=Uo(b,w,_),v.return=b,b=v)}return s(b);case is:e:{for(S=_.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(b,w.sibling),w=a(w,_.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else t(b,w);w=w.sibling}w=Sp(_,b.mode,v),w.return=b,b=w}return s(b);case ya:return S=_._init,g(b,w,S(_._payload),v)}if(rl(_))return m(b,w,_,v);if(Mo(_))return y(b,w,_,v);lu(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(b,w.sibling),w=a(w,_),w.return=b,b=w):(r(b,w),w=_p(_,b.mode,v),w.return=b,b=w),s(b)):r(b,w)}return g}var Ms=qk(!0),Wk=qk(!1),dd=za(null),fd=null,ps=null,my=null;function vy(){my=ps=fd=null}function gy(e){var t=dd.current;nt(dd),e._currentValue=t}function Dm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Os(e,t){fd=e,my=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(my!==e)if(e={context:e,memoizedValue:t,next:null},ps===null){if(fd===null)throw Error(Y(308));ps=e,fd.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return t}var pi=null;function yy(e){pi===null?pi=[e]:pi.push(e)}function Vk(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,yy(t)):(r.next=a.next,a.next=r),t.interleaved=r,ta(e,n)}function ta(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ba=!1;function by(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ta(e,r)}return a=n.interleaved,a===null?(t.next=t,yy(n)):(t.next=a.next,a.next=t),n.interleaved=t,ta(e,r)}function qu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ay(e,r)}}function ix(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hd(e,t,r,n){var a=e.updateQueue;ba=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,f=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,y=o;switch(h=t,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=pt({},d,h);break e;case 2:ba=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ei|=s,e.lanes=s,e.memoizedState=d}}function sx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var Ic={},On=za(Ic),Dl=za(Ic),Ll=za(Ic);function mi(e){if(e===Ic)throw Error(Y(174));return e}function xy(e,t){switch(Qe(Ll,t),Qe(Dl,e),Qe(On,Ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gm(t,e)}nt(On),Qe(On,t)}function Ds(){nt(On),nt(Dl),nt(Ll)}function Hk(e){mi(Ll.current);var t=mi(On.current),r=gm(t,e.type);t!==r&&(Qe(Dl,e),Qe(On,r))}function wy(e){Dl.current===e&&(nt(On),nt(Dl))}var ft=za(0);function pd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vp=[];function _y(){for(var e=0;e<vp.length;e++)vp[e]._workInProgressVersionPrimary=null;vp.length=0}var Wu=sa.ReactCurrentDispatcher,gp=sa.ReactCurrentBatchConfig,Oi=0,ht=null,Ct=null,Dt=null,md=!1,hl=!1,Bl=0,f2=0;function Yt(){throw Error(Y(321))}function Sy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gn(e[r],t[r]))return!1;return!0}function jy(e,t,r,n,a,i){if(Oi=i,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wu.current=e===null||e.memoizedState===null?v2:g2,e=r(n,a),hl){i=0;do{if(hl=!1,Bl=0,25<=i)throw Error(Y(301));i+=1,Dt=Ct=null,t.updateQueue=null,Wu.current=y2,e=r(n,a)}while(hl)}if(Wu.current=vd,t=Ct!==null&&Ct.next!==null,Oi=0,Dt=Ct=ht=null,md=!1,t)throw Error(Y(300));return e}function ky(){var e=Bl!==0;return Bl=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ht.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Xr(){if(Ct===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=Dt===null?ht.memoizedState:Dt.next;if(t!==null)Dt=t,Ct=e;else{if(e===null)throw Error(Y(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?ht.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Fl(e,t){return typeof t=="function"?t(e):t}function yp(e){var t=Xr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=Ct,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var f=c.lane;if((Oi&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,ht.lanes|=f,Ei|=f}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,gn(n,t.memoizedState)||(fr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ht.lanes|=i,Ei|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bp(e){var t=Xr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);gn(i,t.memoizedState)||(fr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Gk(){}function Yk(e,t){var r=ht,n=Xr(),a=t(),i=!gn(n.memoizedState,a);if(i&&(n.memoizedState=a,fr=!0),n=n.queue,Ny(Qk.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,Ul(9,Xk.bind(null,r,n,a,t),void 0,null),Ft===null)throw Error(Y(349));Oi&30||Jk(r,t,a)}return a}function Jk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xk(e,t,r,n){t.value=r,t.getSnapshot=n,Zk(t)&&eN(e)}function Qk(e,t,r){return r(function(){Zk(t)&&eN(e)})}function Zk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gn(e,r)}catch{return!0}}function eN(e){var t=ta(e,1);t!==null&&mn(t,e,1,-1)}function ox(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:e},t.queue=e,e=e.dispatch=m2.bind(null,ht,e),[t.memoizedState,e]}function Ul(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tN(){return Xr().memoizedState}function Vu(e,t,r,n){var a=Sn();ht.flags|=e,a.memoizedState=Ul(1|t,r,void 0,n===void 0?null:n)}function Df(e,t,r,n){var a=Xr();n=n===void 0?null:n;var i=void 0;if(Ct!==null){var s=Ct.memoizedState;if(i=s.destroy,n!==null&&Sy(n,s.deps)){a.memoizedState=Ul(t,r,i,n);return}}ht.flags|=e,a.memoizedState=Ul(1|t,r,i,n)}function lx(e,t){return Vu(8390656,8,e,t)}function Ny(e,t){return Df(2048,8,e,t)}function rN(e,t){return Df(4,2,e,t)}function nN(e,t){return Df(4,4,e,t)}function aN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iN(e,t,r){return r=r!=null?r.concat([e]):null,Df(4,4,aN.bind(null,t,e),r)}function Oy(){}function sN(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oN(e,t){var r=Xr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lN(e,t,r){return Oi&21?(gn(r,t)||(r=hk(),ht.lanes|=r,Ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fr=!0),e.memoizedState=r)}function h2(e,t){var r=Ue;Ue=r!==0&&4>r?r:4,e(!0);var n=gp.transition;gp.transition={};try{e(!1),t()}finally{Ue=r,gp.transition=n}}function cN(){return Xr().memoizedState}function p2(e,t,r){var n=Ra(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uN(e))dN(t,r);else if(r=Vk(e,t,r,n),r!==null){var a=sr();mn(r,e,n,a),fN(r,t,n)}}function m2(e,t,r){var n=Ra(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uN(e))dN(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,gn(o,s)){var l=t.interleaved;l===null?(a.next=a,yy(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Vk(e,t,a,n),r!==null&&(a=sr(),mn(r,e,n,a),fN(r,t,n))}}function uN(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function dN(e,t){hl=md=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ay(e,r)}}var vd={readContext:Jr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},v2={readContext:Jr,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:lx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vu(4194308,4,aN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vu(4,2,e,t)},useMemo:function(e,t){var r=Sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=p2.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:ox,useDebugValue:Oy,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=ox(!1),t=e[0];return e=h2.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,a=Sn();if(at){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),Ft===null)throw Error(Y(349));Oi&30||Jk(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,lx(Qk.bind(null,n,i,e),[e]),n.flags|=2048,Ul(9,Xk.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Sn(),t=Ft.identifierPrefix;if(at){var r=Kn,n=Vn;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=f2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g2={readContext:Jr,useCallback:sN,useContext:Jr,useEffect:Ny,useImperativeHandle:iN,useInsertionEffect:rN,useLayoutEffect:nN,useMemo:oN,useReducer:yp,useRef:tN,useState:function(){return yp(Fl)},useDebugValue:Oy,useDeferredValue:function(e){var t=Xr();return lN(t,Ct.memoizedState,e)},useTransition:function(){var e=yp(Fl)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Yk,useId:cN,unstable_isNewReconciler:!1},y2={readContext:Jr,useCallback:sN,useContext:Jr,useEffect:Ny,useImperativeHandle:iN,useInsertionEffect:rN,useLayoutEffect:nN,useMemo:oN,useReducer:bp,useRef:tN,useState:function(){return bp(Fl)},useDebugValue:Oy,useDeferredValue:function(e){var t=Xr();return Ct===null?t.memoizedState=e:lN(t,Ct.memoizedState,e)},useTransition:function(){var e=bp(Fl)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Yk,useId:cN,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lf={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),a=Ra(e),i=Jn(n,a);i.payload=t,r!=null&&(i.callback=r),t=$a(e,i,a),t!==null&&(mn(t,e,a,n),qu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),a=Ra(e),i=Jn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$a(e,i,a),t!==null&&(mn(t,e,a,n),qu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=Ra(e),a=Jn(r,n);a.tag=2,t!=null&&(a.callback=t),t=$a(e,a,n),t!==null&&(mn(t,e,n,r),qu(t,e,n))}};function cx(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!$l(r,n)||!$l(a,i):!0}function hN(e,t,r){var n=!1,a=Fa,i=t.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(a=mr(t)?ki:er.current,n=t.contextTypes,i=(n=n!=null)?Is(e,a):Fa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ux(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lf.enqueueReplaceState(t,t.state,null)}function Bm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},by(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Jr(i):(i=mr(t)?ki:er.current,a.context=Is(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Lm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Lf.enqueueReplaceState(a,a.state,null),hd(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var r="",n=t;do r+=KT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function xp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function pN(e,t,r){r=Jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yd||(yd=!0,Jm=n),Fm(e,t)},r}function mN(e,t,r){r=Jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Fm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Fm(e,t),typeof n!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function dx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$2.bind(null,e,t,r),t.then(e,e))}function fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jn(-1,1),t.tag=2,$a(r,t,1))),r.lanes|=1),e)}var x2=sa.ReactCurrentOwner,fr=!1;function tr(e,t,r,n){t.child=e===null?Wk(t,null,r,n):Ms(t,e.child,r,n)}function px(e,t,r,n,a){r=r.render;var i=t.ref;return Os(t,a),n=jy(e,t,r,n,i,a),r=ky(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ra(e,t,a)):(at&&r&&fy(t),t.flags|=1,tr(e,t,n,a),t.child)}function mx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Ry(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vN(e,t,i,n,a)):(e=Yu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:$l,r(s,n)&&e.ref===t.ref)return ra(e,t,a)}return t.flags|=1,e=Ma(i,n),e.ref=t.ref,e.return=t,t.child=e}function vN(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if($l(i,n)&&e.ref===t.ref)if(fr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(fr=!0);else return t.lanes=e.lanes,ra(e,t,a)}return Um(e,t,r,n,a)}function gN(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(vs,_r),_r|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(vs,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qe(vs,_r),_r|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qe(vs,_r),_r|=n;return tr(e,t,a,r),t.child}function yN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Um(e,t,r,n,a){var i=mr(r)?ki:er.current;return i=Is(t,i),Os(t,a),r=jy(e,t,r,n,i,a),n=ky(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ra(e,t,a)):(at&&n&&fy(t),t.flags|=1,tr(e,t,r,a),t.child)}function vx(e,t,r,n,a){if(mr(r)){var i=!0;ld(t)}else i=!1;if(Os(t,a),t.stateNode===null)Ku(e,t),hN(t,r,n),Bm(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Jr(c):(c=mr(r)?ki:er.current,c=Is(t,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&ux(t,s,n,c),ba=!1;var h=t.memoizedState;s.state=h,hd(t,n,s,a),l=t.memoizedState,o!==n||h!==l||pr.current||ba?(typeof f=="function"&&(Lm(t,r,f,n),l=t.memoizedState),(o=ba||cx(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Kk(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:an(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jr(l):(l=mr(r)?ki:er.current,l=Is(t,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&ux(t,s,n,l),ba=!1,h=t.memoizedState,s.state=h,hd(t,n,s,a);var m=t.memoizedState;o!==d||h!==m||pr.current||ba?(typeof p=="function"&&(Lm(t,r,p,n),m=t.memoizedState),(c=ba||cx(t,r,c,n,h,m,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return zm(e,t,r,n,i,a)}function zm(e,t,r,n,a,i){yN(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&tx(t,r,!1),ra(e,t,i);n=t.stateNode,x2.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,o,i)):tr(e,t,o,i),t.memoizedState=n.state,a&&tx(t,r,!0),t.child}function bN(e){var t=e.stateNode;t.pendingContext?ex(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ex(e,t.context,!1),xy(e,t.containerInfo)}function gx(e,t,r,n,a){return Rs(),py(a),t.flags|=256,tr(e,t,r,n),t.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function xN(e,t,r){var n=t.pendingProps,a=ft.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Qe(ft,a&1),e===null)return Mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Uf(s,n,0,null),e=_i(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wm(r),t.memoizedState=qm,e):Ey(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return w2(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ma(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ma(o,i):(i=_i(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Wm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=qm,n}return i=e.child,e=i.sibling,n=Ma(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ey(e,t){return t=Uf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cu(e,t,r,n){return n!==null&&py(n),Ms(t,e.child,null,r),e=Ey(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w2(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=xp(Error(Y(422))),cu(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Uf({mode:"visible",children:n.children},a,0,null),i=_i(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ms(t,e.child,null,s),t.child.memoizedState=Wm(s),t.memoizedState=qm,i);if(!(t.mode&1))return cu(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Y(419)),n=xp(i,n,void 0),cu(e,t,s,n)}if(o=(s&e.childLanes)!==0,fr||o){if(n=Ft,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ta(e,a),mn(n,e,a,-1))}return Iy(),n=xp(Error(Y(421))),cu(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=I2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Er=Ta(a.nextSibling),Ar=t,at=!0,dn=null,e!==null&&(Fr[Ur++]=Vn,Fr[Ur++]=Kn,Fr[Ur++]=Ni,Vn=e.id,Kn=e.overflow,Ni=t),t=Ey(t,n.children),t.flags|=4096,t)}function yx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Dm(e.return,t,r)}function wp(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function wN(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(tr(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yx(e,r,t);else if(e.tag===19)yx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ft,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&pd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pd(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wp(t,!0,r,null,i);break;case"together":wp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ra(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Ma(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ma(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _2(e,t,r){switch(t.tag){case 3:bN(t),Rs();break;case 5:Hk(t);break;case 1:mr(t.type)&&ld(t);break;case 4:xy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Qe(dd,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?xN(e,t,r):(Qe(ft,ft.current&1),e=ra(e,t,r),e!==null?e.sibling:null);Qe(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return wN(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Qe(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,gN(e,t,r)}return ra(e,t,r)}var _N,Vm,SN,jN;_N=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vm=function(){};SN=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,mi(On.current);var i=null;switch(r){case"input":a=hm(e,a),n=hm(e,n),i=[];break;case"select":a=pt({},a,{value:void 0}),n=pt({},n,{value:void 0}),i=[];break;case"textarea":a=vm(e,a),n=vm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sd)}ym(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&et("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};jN=function(e,t,r,n){r!==n&&(t.flags|=4)};function zo(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function S2(e,t,r){var n=t.pendingProps;switch(hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return mr(t.type)&&od(),Jt(t),null;case 3:return n=t.stateNode,Ds(),nt(pr),nt(er),_y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(Zm(dn),dn=null))),Vm(e,t),Jt(t),null;case 5:wy(t);var a=mi(Ll.current);if(r=t.type,e!==null&&t.stateNode!=null)SN(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Jt(t),null}if(e=mi(On.current),ou(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[jn]=t,n[Ml]=i,e=(t.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(a=0;a<al.length;a++)et(al[a],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":Ob(n,i),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},et("invalid",n);break;case"textarea":Ab(n,i),et("invalid",n)}ym(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&su(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&su(n.textContent,o,e),a=["children",""+o]):Nl.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&et("scroll",n)}switch(r){case"input":Qc(n),Eb(n,i,!0);break;case"textarea":Qc(n),Pb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=sd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[jn]=t,e[Ml]=n,_N(e,t,!1,!1),t.stateNode=e;e:{switch(s=bm(r,n),r){case"dialog":et("cancel",e),et("close",e),a=n;break;case"iframe":case"object":case"embed":et("load",e),a=n;break;case"video":case"audio":for(a=0;a<al.length;a++)et(al[a],e);a=n;break;case"source":et("error",e),a=n;break;case"img":case"image":case"link":et("error",e),et("load",e),a=n;break;case"details":et("toggle",e),a=n;break;case"input":Ob(e,n),a=hm(e,n),et("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pt({},n,{value:void 0}),et("invalid",e);break;case"textarea":Ab(e,n),a=vm(e,n),et("invalid",e);break;default:a=n}ym(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?tk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zj(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ol(e,l):typeof l=="number"&&Ol(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&et("scroll",e):l!=null&&Qg(e,i,l,s))}switch(r){case"input":Qc(e),Eb(e,n,!1);break;case"textarea":Qc(e),Pb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ba(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ss(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ss(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Jt(t),null;case 6:if(e&&t.stateNode!=null)jN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=mi(Ll.current),mi(On.current),ou(t)){if(n=t.stateNode,r=t.memoizedProps,n[jn]=t,(i=n.nodeValue!==r)&&(e=Ar,e!==null))switch(e.tag){case 3:su(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&su(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jn]=t,t.stateNode=n}return Jt(t),null;case 13:if(nt(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&Er!==null&&t.mode&1&&!(t.flags&128))zk(),Rs(),t.flags|=98560,i=!1;else if(i=ou(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[jn]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Jt(t),i=!1}else dn!==null&&(Zm(dn),dn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?$t===0&&($t=3):Iy())),t.updateQueue!==null&&(t.flags|=4),Jt(t),null);case 4:return Ds(),Vm(e,t),e===null&&Il(t.stateNode.containerInfo),Jt(t),null;case 10:return gy(t.type._context),Jt(t),null;case 17:return mr(t.type)&&od(),Jt(t),null;case 19:if(nt(ft),i=t.memoizedState,i===null)return Jt(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)zo(i,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=pd(e),s!==null){for(t.flags|=128,zo(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ft,ft.current&1|2),t.child}e=e.sibling}i.tail!==null&&xt()>Bs&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304)}else{if(!n)if(e=pd(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!at)return Jt(t),null}else 2*xt()-i.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,n=!0,zo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xt(),t.sibling=null,r=ft.current,Qe(ft,n?r&1|2:r&1),t):(Jt(t),null);case 22:case 23:return $y(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function j2(e,t){switch(hy(t),t.tag){case 1:return mr(t.type)&&od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),nt(pr),nt(er),_y(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wy(t),null;case 13:if(nt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ft),null;case 4:return Ds(),null;case 10:return gy(t.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var uu=!1,Qt=!1,k2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ms(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(e,t,n)}else r.current=null}function Km(e,t,r){try{r()}catch(n){gt(e,t,n)}}var bx=!1;function N2(e,t){if(Am=nd,e=Ak(),dy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++f===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pm={focusedElem:e,selectionRange:r},nd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,g=m.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:an(t.type,y),g);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(v){gt(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return m=bx,bx=!1,m}function pl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Km(t,r,i)}a=a.next}while(a!==n)}}function Bf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kN(e){var t=e.alternate;t!==null&&(e.alternate=null,kN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[Ml],delete t[$m],delete t[l2],delete t[c2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function NN(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||NN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sd));else if(n!==4&&(e=e.child,e!==null))for(Gm(e,t,r),e=e.sibling;e!==null;)Gm(e,t,r),e=e.sibling}function Ym(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ym(e,t,r),e=e.sibling;e!==null;)Ym(e,t,r),e=e.sibling}var Vt=null,on=!1;function ma(e,t,r){for(r=r.child;r!==null;)ON(e,t,r),r=r.sibling}function ON(e,t,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Cf,r)}catch{}switch(r.tag){case 5:Qt||ms(r,t);case 6:var n=Vt,a=on;Vt=null,ma(e,t,r),Vt=n,on=a,Vt!==null&&(on?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(on?(e=Vt,r=r.stateNode,e.nodeType===8?pp(e.parentNode,r):e.nodeType===1&&pp(e,r),Cl(e)):pp(Vt,r.stateNode));break;case 4:n=Vt,a=on,Vt=r.stateNode.containerInfo,on=!0,ma(e,t,r),Vt=n,on=a;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Km(r,t,s),a=a.next}while(a!==n)}ma(e,t,r);break;case 1:if(!Qt&&(ms(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){gt(r,t,o)}ma(e,t,r);break;case 21:ma(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,ma(e,t,r),Qt=n):ma(e,t,r);break;default:ma(e,t,r)}}function wx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new k2),t.forEach(function(n){var a=R2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function tn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Vt=o.stateNode,on=!1;break e;case 3:Vt=o.stateNode.containerInfo,on=!0;break e;case 4:Vt=o.stateNode.containerInfo,on=!0;break e}o=o.return}if(Vt===null)throw Error(Y(160));ON(i,s,a),Vt=null,on=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){gt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EN(t,e),t=t.sibling}function EN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),_n(e),n&4){try{pl(3,e,e.return),Bf(3,e)}catch(y){gt(e,e.return,y)}try{pl(5,e,e.return)}catch(y){gt(e,e.return,y)}}break;case 1:tn(t,e),_n(e),n&512&&r!==null&&ms(r,r.return);break;case 5:if(tn(t,e),_n(e),n&512&&r!==null&&ms(r,r.return),e.flags&32){var a=e.stateNode;try{Ol(a,"")}catch(y){gt(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Jj(a,i),bm(o,s);var c=bm(o,i);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?tk(a,d):f==="dangerouslySetInnerHTML"?Zj(a,d):f==="children"?Ol(a,d):Qg(a,f,d,c)}switch(o){case"input":pm(a,i);break;case"textarea":Xj(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ss(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ss(a,!!i.multiple,i.defaultValue,!0):Ss(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ml]=i}catch(y){gt(e,e.return,y)}}break;case 6:if(tn(t,e),_n(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){gt(e,e.return,y)}}break;case 3:if(tn(t,e),_n(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cl(t.containerInfo)}catch(y){gt(e,e.return,y)}break;case 4:tn(t,e),_n(e);break;case 13:tn(t,e),_n(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cy=xt())),n&4&&wx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(c=Qt)||f,tn(t,e),Qt=c):tn(t,e),_n(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(ne=e,f=e.child;f!==null;){for(d=ne=f;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:pl(4,h,h.return);break;case 1:ms(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){gt(n,r,y)}}break;case 5:ms(h,h.return);break;case 22:if(h.memoizedState!==null){Sx(d);continue}}p!==null?(p.return=h,ne=p):Sx(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ek("display",s))}catch(y){gt(e,e.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){gt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(t,e),_n(e),n&4&&wx(e);break;case 21:break;default:tn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(NN(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ol(a,""),n.flags&=-33);var i=xx(e);Ym(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=xx(e);Gm(e,o,s);break;default:throw Error(Y(161))}}catch(l){gt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O2(e,t,r){ne=e,AN(e)}function AN(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var a=ne,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||uu;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Qt;o=uu;var c=Qt;if(uu=s,(Qt=l)&&!c)for(ne=a;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?jx(a):l!==null?(l.return=s,ne=l):jx(a);for(;i!==null;)ne=i,AN(i),i=i.sibling;ne=a,uu=o,Qt=c}_x(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ne=i):_x(e)}}function _x(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Bf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:an(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sx(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}sx(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Cl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||t.flags&512&&Hm(t)}catch(h){gt(t,t.return,h)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Sx(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function jx(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bf(4,t)}catch(l){gt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){gt(t,a,l)}}var i=t.return;try{Hm(t)}catch(l){gt(t,i,l)}break;case 5:var s=t.return;try{Hm(t)}catch(l){gt(t,s,l)}}}catch(l){gt(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var E2=Math.ceil,gd=sa.ReactCurrentDispatcher,Ay=sa.ReactCurrentOwner,Gr=sa.ReactCurrentBatchConfig,Ie=0,Ft=null,Nt=null,Kt=0,_r=0,vs=za(0),$t=0,zl=null,Ei=0,Ff=0,Py=0,ml=null,ur=null,Cy=0,Bs=1/0,Fn=null,yd=!1,Jm=null,Ia=null,du=!1,Na=null,bd=0,vl=0,Xm=null,Hu=-1,Gu=0;function sr(){return Ie&6?xt():Hu!==-1?Hu:Hu=xt()}function Ra(e){return e.mode&1?Ie&2&&Kt!==0?Kt&-Kt:d2.transition!==null?(Gu===0&&(Gu=hk()),Gu):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:xk(e.type)),e):1}function mn(e,t,r,n){if(50<vl)throw vl=0,Xm=null,Error(Y(185));Cc(e,r,n),(!(Ie&2)||e!==Ft)&&(e===Ft&&(!(Ie&2)&&(Ff|=r),$t===4&&_a(e,Kt)),vr(e,n),r===1&&Ie===0&&!(t.mode&1)&&(Bs=xt()+500,Mf&&qa()))}function vr(e,t){var r=e.callbackNode;d$(e,t);var n=rd(e,e===Ft?Kt:0);if(n===0)r!==null&&$b(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$b(r),t===1)e.tag===0?u2(kx.bind(null,e)):Bk(kx.bind(null,e)),s2(function(){!(Ie&6)&&qa()}),r=null;else{switch(pk(n)){case 1:r=ny;break;case 4:r=dk;break;case 16:r=td;break;case 536870912:r=fk;break;default:r=td}r=DN(r,PN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function PN(e,t){if(Hu=-1,Gu=0,Ie&6)throw Error(Y(327));var r=e.callbackNode;if(Es()&&e.callbackNode!==r)return null;var n=rd(e,e===Ft?Kt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xd(e,n);else{t=n;var a=Ie;Ie|=2;var i=TN();(Ft!==e||Kt!==t)&&(Fn=null,Bs=xt()+500,wi(e,t));do try{C2();break}catch(o){CN(e,o)}while(!0);vy(),gd.current=i,Ie=a,Nt!==null?t=0:(Ft=null,Kt=0,t=$t)}if(t!==0){if(t===2&&(a=jm(e),a!==0&&(n=a,t=Qm(e,a))),t===1)throw r=zl,wi(e,0),_a(e,n),vr(e,xt()),r;if(t===6)_a(e,n);else{if(a=e.current.alternate,!(n&30)&&!A2(a)&&(t=xd(e,n),t===2&&(i=jm(e),i!==0&&(n=i,t=Qm(e,i))),t===1))throw r=zl,wi(e,0),_a(e,n),vr(e,xt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:ni(e,ur,Fn);break;case 3:if(_a(e,n),(n&130023424)===n&&(t=Cy+500-xt(),10<t)){if(rd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Tm(ni.bind(null,e,ur,Fn),t);break}ni(e,ur,Fn);break;case 4:if(_a(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-pn(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E2(n/1960))-n,10<n){e.timeoutHandle=Tm(ni.bind(null,e,ur,Fn),n);break}ni(e,ur,Fn);break;case 5:ni(e,ur,Fn);break;default:throw Error(Y(329))}}}return vr(e,xt()),e.callbackNode===r?PN.bind(null,e):null}function Qm(e,t){var r=ml;return e.current.memoizedState.isDehydrated&&(wi(e,t).flags|=256),e=xd(e,t),e!==2&&(t=ur,ur=r,t!==null&&Zm(t)),e}function Zm(e){ur===null?ur=e:ur.push.apply(ur,e)}function A2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!gn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t){for(t&=~Py,t&=~Ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pn(t),n=1<<r;e[r]=-1,t&=~n}}function kx(e){if(Ie&6)throw Error(Y(327));Es();var t=rd(e,0);if(!(t&1))return vr(e,xt()),null;var r=xd(e,t);if(e.tag!==0&&r===2){var n=jm(e);n!==0&&(t=n,r=Qm(e,n))}if(r===1)throw r=zl,wi(e,0),_a(e,t),vr(e,xt()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ni(e,ur,Fn),vr(e,xt()),null}function Ty(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(Bs=xt()+500,Mf&&qa())}}function Ai(e){Na!==null&&Na.tag===0&&!(Ie&6)&&Es();var t=Ie;Ie|=1;var r=Gr.transition,n=Ue;try{if(Gr.transition=null,Ue=1,e)return e()}finally{Ue=n,Gr.transition=r,Ie=t,!(Ie&6)&&qa()}}function $y(){_r=vs.current,nt(vs)}function wi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i2(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(hy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&od();break;case 3:Ds(),nt(pr),nt(er),_y();break;case 5:wy(n);break;case 4:Ds();break;case 13:nt(ft);break;case 19:nt(ft);break;case 10:gy(n.type._context);break;case 22:case 23:$y()}r=r.return}if(Ft=e,Nt=e=Ma(e.current,null),Kt=_r=t,$t=0,zl=null,Py=Ff=Ei=0,ur=ml=null,pi!==null){for(t=0;t<pi.length;t++)if(r=pi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}pi=null}return e}function CN(e,t){do{var r=Nt;try{if(vy(),Wu.current=vd,md){for(var n=ht.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}md=!1}if(Oi=0,Dt=Ct=ht=null,hl=!1,Bl=0,Ay.current=null,r===null||r.return===null){$t=1,zl=t,Nt=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Kt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fx(s);if(p!==null){p.flags&=-257,hx(p,s,o,i,t),p.mode&1&&dx(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){dx(i,c,t),Iy();break e}l=Error(Y(426))}}else if(at&&o.mode&1){var g=fx(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),hx(g,s,o,i,t),py(Ls(l,o));break e}}i=l=Ls(l,o),$t!==4&&($t=2),ml===null?ml=[i]:ml.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=pN(i,l,t);ix(i,b);break e;case 1:o=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ia===null||!Ia.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=mN(i,o,t);ix(i,v);break e}}i=i.return}while(i!==null)}IN(r)}catch(x){t=x,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function TN(){var e=gd.current;return gd.current=vd,e===null?vd:e}function Iy(){($t===0||$t===3||$t===2)&&($t=4),Ft===null||!(Ei&268435455)&&!(Ff&268435455)||_a(Ft,Kt)}function xd(e,t){var r=Ie;Ie|=2;var n=TN();(Ft!==e||Kt!==t)&&(Fn=null,wi(e,t));do try{P2();break}catch(a){CN(e,a)}while(!0);if(vy(),Ie=r,gd.current=n,Nt!==null)throw Error(Y(261));return Ft=null,Kt=0,$t}function P2(){for(;Nt!==null;)$N(Nt)}function C2(){for(;Nt!==null&&!r$();)$N(Nt)}function $N(e){var t=MN(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?IN(e):Nt=t,Ay.current=null}function IN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j2(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$t=6,Nt=null;return}}else if(r=S2(r,t,_r),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);$t===0&&($t=5)}function ni(e,t,r){var n=Ue,a=Gr.transition;try{Gr.transition=null,Ue=1,T2(e,t,r,n)}finally{Gr.transition=a,Ue=n}return null}function T2(e,t,r,n){do Es();while(Na!==null);if(Ie&6)throw Error(Y(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(f$(e,i),e===Ft&&(Nt=Ft=null,Kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||du||(du=!0,DN(td,function(){return Es(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Gr.transition,Gr.transition=null;var s=Ue;Ue=1;var o=Ie;Ie|=4,Ay.current=null,N2(e,r),EN(r,e),Q$(Pm),nd=!!Am,Pm=Am=null,e.current=r,O2(r),n$(),Ie=o,Ue=s,Gr.transition=i}else e.current=r;if(du&&(du=!1,Na=e,bd=a),i=e.pendingLanes,i===0&&(Ia=null),s$(r.stateNode),vr(e,xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yd)throw yd=!1,e=Jm,Jm=null,e;return bd&1&&e.tag!==0&&Es(),i=e.pendingLanes,i&1?e===Xm?vl++:(vl=0,Xm=e):vl=0,qa(),null}function Es(){if(Na!==null){var e=pk(bd),t=Gr.transition,r=Ue;try{if(Gr.transition=null,Ue=16>e?16:e,Na===null)var n=!1;else{if(e=Na,Na=null,bd=0,Ie&6)throw Error(Y(331));var a=Ie;for(Ie|=4,ne=e.current;ne!==null;){var i=ne,s=i.child;if(ne.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ne=c;ne!==null;){var f=ne;switch(f.tag){case 0:case 11:case 15:pl(8,f,i)}var d=f.child;if(d!==null)d.return=f,ne=d;else for(;ne!==null;){f=ne;var h=f.sibling,p=f.return;if(kN(f),f===c){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(y!==null)}}ne=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ne=s;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ne=b;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){s=ne;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ne=_;else e:for(s=w;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bf(9,o)}}catch(x){gt(o,o.return,x)}if(o===s){ne=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,ne=v;break e}ne=o.return}}if(Ie=a,qa(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Cf,e)}catch{}n=!0}return n}finally{Ue=r,Gr.transition=t}}return!1}function Nx(e,t,r){t=Ls(r,t),t=pN(e,t,1),e=$a(e,t,1),t=sr(),e!==null&&(Cc(e,1,t),vr(e,t))}function gt(e,t,r){if(e.tag===3)Nx(e,e,r);else for(;t!==null;){if(t.tag===3){Nx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ia===null||!Ia.has(n))){e=Ls(r,e),e=mN(t,e,1),t=$a(t,e,1),e=sr(),t!==null&&(Cc(t,1,e),vr(t,e));break}}t=t.return}}function $2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,Ft===e&&(Kt&r)===r&&($t===4||$t===3&&(Kt&130023424)===Kt&&500>xt()-Cy?wi(e,0):Py|=r),vr(e,t)}function RN(e,t){t===0&&(e.mode&1?(t=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):t=1);var r=sr();e=ta(e,t),e!==null&&(Cc(e,t,r),vr(e,r))}function I2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RN(e,r)}function R2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),RN(e,r)}var MN;MN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)fr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fr=!1,_2(e,t,r);fr=!!(e.flags&131072)}else fr=!1,at&&t.flags&1048576&&Fk(t,ud,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ku(e,t),e=t.pendingProps;var a=Is(t,er.current);Os(t,r),a=jy(null,t,n,e,a,r);var i=ky();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(n)?(i=!0,ld(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,by(t),a.updater=Lf,t.stateNode=a,a._reactInternals=t,Bm(t,n,e,r),t=zm(null,t,n,!0,i,r)):(t.tag=0,at&&i&&fy(t),tr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=D2(n),e=an(n,e),a){case 0:t=Um(null,t,n,e,r);break e;case 1:t=vx(null,t,n,e,r);break e;case 11:t=px(null,t,n,e,r);break e;case 14:t=mx(null,t,n,an(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),Um(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),vx(e,t,n,a,r);case 3:e:{if(bN(t),e===null)throw Error(Y(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Kk(e,t),hd(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ls(Error(Y(423)),t),t=gx(e,t,n,r,a);break e}else if(n!==a){a=Ls(Error(Y(424)),t),t=gx(e,t,n,r,a);break e}else for(Er=Ta(t.stateNode.containerInfo.firstChild),Ar=t,at=!0,dn=null,r=Wk(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rs(),n===a){t=ra(e,t,r);break e}tr(e,t,n,r)}t=t.child}return t;case 5:return Hk(t),e===null&&Mm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Cm(n,a)?s=null:i!==null&&Cm(n,i)&&(t.flags|=32),yN(e,t),tr(e,t,s,r),t.child;case 6:return e===null&&Mm(t),null;case 13:return xN(e,t,r);case 4:return xy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,r):tr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),px(e,t,n,a,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Qe(dd,n._currentValue),n._currentValue=s,i!==null)if(gn(i.value,s)){if(i.children===a.children&&!pr.current){t=ra(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Jn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Dm(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Y(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Dm(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Os(t,r),a=Jr(a),n=n(a),t.flags|=1,tr(e,t,n,r),t.child;case 14:return n=t.type,a=an(n,t.pendingProps),a=an(n.type,a),mx(e,t,n,a,r);case 15:return vN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:an(n,a),Ku(e,t),t.tag=1,mr(n)?(e=!0,ld(t)):e=!1,Os(t,r),hN(t,n,a),Bm(t,n,a,r),zm(null,t,n,!0,e,r);case 19:return wN(e,t,r);case 22:return gN(e,t,r)}throw Error(Y(156,t.tag))};function DN(e,t){return uk(e,t)}function M2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,n){return new M2(e,t,r,n)}function Ry(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D2(e){if(typeof e=="function")return Ry(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ey)return 11;if(e===ty)return 14}return 2}function Ma(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yu(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Ry(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ss:return _i(r.children,a,i,t);case Zg:s=8,a|=8;break;case cm:return e=Vr(12,r,t,a|2),e.elementType=cm,e.lanes=i,e;case um:return e=Vr(13,r,t,a),e.elementType=um,e.lanes=i,e;case dm:return e=Vr(19,r,t,a),e.elementType=dm,e.lanes=i,e;case Hj:return Uf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vj:s=10;break e;case Kj:s=9;break e;case ey:s=11;break e;case ty:s=14;break e;case ya:s=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Vr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function _i(e,t,r,n){return e=Vr(7,e,n,t),e.lanes=r,e}function Uf(e,t,r,n){return e=Vr(22,e,n,t),e.elementType=Hj,e.lanes=r,e.stateNode={isHidden:!1},e}function _p(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function My(e,t,r,n,a,i,s,o,l){return e=new L2(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(i),e}function B2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function LN(e){if(!e)return Fa;e=e._reactInternals;e:{if(Di(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(mr(r))return Lk(e,r,t)}return t}function BN(e,t,r,n,a,i,s,o,l){return e=My(r,n,!0,e,a,i,s,o,l),e.context=LN(null),r=e.current,n=sr(),a=Ra(r),i=Jn(n,a),i.callback=t??null,$a(r,i,a),e.current.lanes=a,Cc(e,a,n),vr(e,n),e}function zf(e,t,r,n){var a=t.current,i=sr(),s=Ra(a);return r=LN(r),t.context===null?t.context=r:t.pendingContext=r,t=Jn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$a(a,t,s),e!==null&&(mn(e,a,s,i),qu(e,a,s)),s}function wd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ox(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dy(e,t){Ox(e,t),(e=e.alternate)&&Ox(e,t)}function F2(){return null}var FN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ly(e){this._internalRoot=e}qf.prototype.render=Ly.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));zf(e,t,null,null)};qf.prototype.unmount=Ly.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ai(function(){zf(null,e,null,null)}),t[ea]=null}};function qf(e){this._internalRoot=e}qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=gk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wa.length&&t!==0&&t<wa[r].priority;r++);wa.splice(r,0,e),r===0&&bk(e)}};function By(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function U2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=wd(s);i.call(c)}}var s=BN(t,n,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=s,e[ea]=s.current,Il(e.nodeType===8?e.parentNode:e),Ai(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=wd(l);o.call(c)}}var l=My(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=l,e[ea]=l.current,Il(e.nodeType===8?e.parentNode:e),Ai(function(){zf(t,l,r,n)}),l}function Vf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=wd(s);o.call(l)}}zf(t,s,e,a)}else s=U2(r,t,e,a,n);return wd(s)}mk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nl(t.pendingLanes);r!==0&&(ay(t,r|1),vr(t,xt()),!(Ie&6)&&(Bs=xt()+500,qa()))}break;case 13:Ai(function(){var n=ta(e,1);if(n!==null){var a=sr();mn(n,e,1,a)}}),Dy(e,1)}};iy=function(e){if(e.tag===13){var t=ta(e,134217728);if(t!==null){var r=sr();mn(t,e,134217728,r)}Dy(e,134217728)}};vk=function(e){if(e.tag===13){var t=Ra(e),r=ta(e,t);if(r!==null){var n=sr();mn(r,e,t,n)}Dy(e,t)}};gk=function(){return Ue};yk=function(e,t){var r=Ue;try{return Ue=e,t()}finally{Ue=r}};wm=function(e,t,r){switch(t){case"input":if(pm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Rf(n);if(!a)throw Error(Y(90));Yj(n),pm(n,a)}}}break;case"textarea":Xj(e,r);break;case"select":t=r.value,t!=null&&Ss(e,!!r.multiple,t,!1)}};ak=Ty;ik=Ai;var z2={usingClientEntryPoint:!1,Events:[$c,us,Rf,rk,nk,Ty]},qo={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q2={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lk(e),e===null?null:e.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||F2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Cf=fu.inject(q2),Nn=fu}catch{}}$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;$r.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!By(t))throw Error(Y(200));return B2(e,t,null,r)};$r.createRoot=function(e,t){if(!By(e))throw Error(Y(299));var r=!1,n="",a=FN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=My(e,1,!1,null,null,r,!1,n,a),e[ea]=t.current,Il(e.nodeType===8?e.parentNode:e),new Ly(t)};$r.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=lk(t),e=e===null?null:e.stateNode,e};$r.flushSync=function(e){return Ai(e)};$r.hydrate=function(e,t,r){if(!Wf(t))throw Error(Y(200));return Vf(null,e,t,!0,r)};$r.hydrateRoot=function(e,t,r){if(!By(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=FN;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=BN(t,null,e,1,r??null,a,!1,i,s),e[ea]=t.current,Il(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new qf(t)};$r.render=function(e,t,r){if(!Wf(t))throw Error(Y(200));return Vf(null,e,t,!1,r)};$r.unmountComponentAtNode=function(e){if(!Wf(e))throw Error(Y(40));return e._reactRootContainer?(Ai(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[ea]=null})}),!0):!1};$r.unstable_batchedUpdates=Ty;$r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wf(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Vf(e,t,r,!1,n)};$r.version="18.3.1-next-f1338f8080-20240426";function UN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UN)}catch(e){console.error(e)}}UN(),Uj.exports=$r;var W2=Uj.exports,zN,Ax=W2;zN=Ax.createRoot,Ax.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}var Oa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oa||(Oa={}));const Px="popstate";function V2(e){e===void 0&&(e={});function t(a,i){let{pathname:s="/",search:o="",hash:l=""}=Li(a.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ev("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let l=a.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof i=="string"?i:_d(i))}function n(a,i){Kf(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return H2(t,r,n,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K2(){return Math.random().toString(36).substr(2,8)}function Cx(e,t){return{usr:e.state,key:e.key,idx:t}}function ev(e,t,r,n){return r===void 0&&(r=null),ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Li(t):t,{state:r,key:t&&t.key||n||K2()})}function _d(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function H2(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Oa.Pop,l=null,c=f();c==null&&(c=0,s.replaceState(ql({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function d(){o=Oa.Pop;let g=f(),b=g==null?null:g-c;c=g,l&&l({action:o,location:y.location,delta:b})}function h(g,b){o=Oa.Push;let w=ev(y.location,g,b);r&&r(w,g),c=f()+1;let _=Cx(w,c),v=y.createHref(w);try{s.pushState(_,"",v)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;a.location.assign(v)}i&&l&&l({action:o,location:y.location,delta:1})}function p(g,b){o=Oa.Replace;let w=ev(y.location,g,b);r&&r(w,g),c=f();let _=Cx(w,c),v=y.createHref(w);s.replaceState(_,"",v),i&&l&&l({action:o,location:y.location,delta:0})}function m(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof g=="string"?g:_d(g);return w=w.replace(/ $/,"%20"),wt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return o},get location(){return e(a,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Px,d),l=g,()=>{a.removeEventListener(Px,d),l=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let b=m(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(g){return s.go(g)}};return y}var Tx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tx||(Tx={}));function G2(e,t,r){return r===void 0&&(r="/"),Y2(e,t,r)}function Y2(e,t,r,n){let a=typeof t=="string"?Li(t):t,i=Fy(a.pathname||"/",r);if(i==null)return null;let s=qN(e);J2(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=lI(i);o=iI(s[l],c)}return o}function qN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Da([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qN(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:nI(c,i.index),routesMeta:f})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of WN(i.path))a(i,s,l)}),t}function WN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=WN(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function J2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:aI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const X2=/^:[\w-]+$/,Q2=3,Z2=2,eI=1,tI=10,rI=-2,$x=e=>e==="*";function nI(e,t){let r=e.split("/"),n=r.length;return r.some($x)&&(n+=rI),t&&(n+=Z2),r.filter(a=>!$x(a)).reduce((a,i)=>a+(X2.test(i)?Q2:i===""?eI:tI),n)}function aI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function iI(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=sI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),h=l.route;if(!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Da([i,d.pathname]),pathnameBase:hI(Da([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Da([i,d.pathnameBase]))}return s}function sI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let y=o[d]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function oI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function lI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const cI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uI=e=>cI.test(e);function dI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Li(e):e,i;if(r)if(uI(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Kf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=Ix(r.substring(1),"/"):i=Ix(r,t)}else i=t;return{pathname:i,search:pI(n),hash:mI(a)}}function Ix(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function jp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uy(e,t){let r=fI(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zy(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Li(e):(a=ql({},e),wt(!a.pathname||!a.pathname.includes("?"),jp("?","pathname","search",a)),wt(!a.pathname||!a.pathname.includes("#"),jp("#","pathname","hash",a)),wt(!a.search||!a.search.includes("#"),jp("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=dI(a,o),c=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Da=e=>e.join("/").replace(/\/\/+/g,"/"),hI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VN=["post","put","patch","delete"];new Set(VN);const gI=["get",...VN];new Set(gI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(this,arguments)}const qy=O.createContext(null),yI=O.createContext(null),Wa=O.createContext(null),Hf=O.createContext(null),oa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),KN=O.createContext(null);function bI(e,t){let{relative:r}=t===void 0?{}:t;yo()||wt(!1);let{basename:n,navigator:a}=O.useContext(Wa),{hash:i,pathname:s,search:o}=GN(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Da([n,s])),a.createHref({pathname:l,search:o,hash:i})}function yo(){return O.useContext(Hf)!=null}function Bi(){return yo()||wt(!1),O.useContext(Hf).location}function HN(e){O.useContext(Wa).static||O.useLayoutEffect(e)}function Gf(){let{isDataRoute:e}=O.useContext(oa);return e?II():xI()}function xI(){yo()||wt(!1);let e=O.useContext(qy),{basename:t,future:r,navigator:n}=O.useContext(Wa),{matches:a}=O.useContext(oa),{pathname:i}=Bi(),s=JSON.stringify(Uy(a,r.v7_relativeSplatPath)),o=O.useRef(!1);return HN(()=>{o.current=!0}),O.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=zy(c,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Da([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,s,i,e])}const wI=O.createContext(null);function _I(e){let t=O.useContext(oa).outlet;return t&&O.createElement(wI.Provider,{value:e},t)}function GN(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(Wa),{matches:a}=O.useContext(oa),{pathname:i}=Bi(),s=JSON.stringify(Uy(a,n.v7_relativeSplatPath));return O.useMemo(()=>zy(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function SI(e,t){return jI(e,t)}function jI(e,t,r,n){yo()||wt(!1);let{navigator:a}=O.useContext(Wa),{matches:i}=O.useContext(oa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Bi(),f;if(t){var d;let g=typeof t=="string"?Li(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||wt(!1),f=g}else f=c;let h=f.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=G2(e,{pathname:p}),y=AI(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Da([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Da([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&y?O.createElement(Hf.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Oa.Pop}},y):y}function kI(){let e=$I(),t=vI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:a},r):null,null)}const NI=O.createElement(kI,null);class OI extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(oa.Provider,{value:this.props.routeContext},O.createElement(KN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EI(e){let{routeContext:t,match:r,children:n}=e,a=O.useContext(qy);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(oa.Provider,{value:t},n)}function AI(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||wt(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:p}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let p,m=!1,y=null,g=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||NI,l&&(c<0&&h===0?(RI("route-fallback"),m=!0,g=null):c===h&&(m=!0,g=d.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),w=()=>{let _;return p?_=y:m?_=g:d.route.Component?_=O.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=f,O.createElement(EI,{match:d,routeContext:{outlet:f,matches:b,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(OI,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var YN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(YN||{}),JN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(JN||{});function PI(e){let t=O.useContext(qy);return t||wt(!1),t}function CI(e){let t=O.useContext(yI);return t||wt(!1),t}function TI(e){let t=O.useContext(oa);return t||wt(!1),t}function XN(e){let t=TI(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function $I(){var e;let t=O.useContext(KN),r=CI(),n=XN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function II(){let{router:e}=PI(YN.UseNavigateStable),t=XN(JN.UseNavigateStable),r=O.useRef(!1);return HN(()=>{r.current=!0}),O.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Wl({fromRouteId:t},i)))},[e,t])}const Rx={};function RI(e,t,r){Rx[e]||(Rx[e]=!0)}function MI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function DI(e){let{to:t,replace:r,state:n,relative:a}=e;yo()||wt(!1);let{future:i,static:s}=O.useContext(Wa),{matches:o}=O.useContext(oa),{pathname:l}=Bi(),c=Gf(),f=zy(t,Uy(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(f);return O.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function QN(e){return _I(e.context)}function Br(e){wt(!1)}function LI(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Oa.Pop,navigator:i,static:s=!1,future:o}=e;yo()&&wt(!1);let l=t.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:i,static:s,future:Wl({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Li(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,y=O.useMemo(()=>{let g=Fy(f,l);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:m},navigationType:a}},[l,f,d,h,p,m,a]);return y==null?null:O.createElement(Wa.Provider,{value:c},O.createElement(Hf.Provider,{children:r,value:y}))}function BI(e){let{children:t,location:r}=e;return SI(tv(t),r)}new Promise(()=>{});function tv(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,a)=>{if(!O.isValidElement(n))return;let i=[...t,a];if(n.type===O.Fragment){r.push.apply(r,tv(n.props.children,i));return}n.type!==Br&&wt(!1),!n.props.index||!n.props.children||wt(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=tv(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}function FI(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function UI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zI(e,t){return e.button===0&&(!t||t==="_self")&&!UI(e)}const qI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WI="6";try{window.__reactRouterVersion=WI}catch{}const VI="startTransition",Mx=$T[VI];function KI(e){let{basename:t,children:r,future:n,window:a}=e,i=O.useRef();i.current==null&&(i.current=V2({window:a,v5Compat:!0}));let s=i.current,[o,l]=O.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},f=O.useCallback(d=>{c&&Mx?Mx(()=>l(d)):l(d)},[l,c]);return O.useLayoutEffect(()=>s.listen(f),[s,f]),O.useEffect(()=>MI(n),[n]),O.createElement(LI,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const HI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,va=O.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:f,viewTransition:d}=t,h=FI(t,qI),{basename:p}=O.useContext(Wa),m,y=!1;if(typeof c=="string"&&GI.test(c)&&(m=c,HI))try{let _=new URL(window.location.href),v=c.startsWith("//")?new URL(_.protocol+c):new URL(c),x=Fy(v.pathname,p);v.origin===_.origin&&x!=null?c=x+v.search+v.hash:y=!0}catch{}let g=bI(c,{relative:a}),b=YI(c,{replace:s,state:o,target:l,preventScrollReset:f,relative:a,viewTransition:d});function w(_){n&&n(_),_.defaultPrevented||b(_)}return O.createElement("a",rv({},h,{href:m||g,onClick:y||i?n:w,ref:r,target:l}))});var Dx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dx||(Dx={}));var Lx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lx||(Lx={}));function YI(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Gf(),c=Bi(),f=GN(e,{relative:s});return O.useCallback(d=>{if(zI(d,r)){d.preventDefault();let h=n!==void 0?n:_d(c)===_d(f);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,f,n,a,r,e,i,s,o])}const JI="modulepreload",XI=function(e){return"/Gerenciamento-Prancha/"+e},Bx={},Yf=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=XI(l),l in Bx)return;Bx[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":JI,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};let fe=null;const Rc=async()=>{if(fe)return fe;try{fe=(await Yf(()=>Promise.resolve().then(()=>hE),void 0)).supabase}catch(e){console.warn("Dynamic import of supabaseClient failed",e),fe=null}return fe},ZN="prancha_json_db",Dn={motoristas:"data/motoristas.json",viagens:"data/viagens.json",destinos:"data/destinos.json",tipos:"data/tipos_servico.json",usuarios:"data/usuarios.json",config:"data/config.json",caminhoes:"data/caminhoes.json",pranchas:"data/pranchas.json",custos:"data/custos.json"},eO=e=>typeof btoa<"u"?btoa(e):Buffer.from(e).toString("base64"),Fs=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),Fx="client_id",Ux=()=>{try{let e=localStorage.getItem(Fx);return e||(e=Fs(),localStorage.setItem(Fx,e)),e}catch{return Fs()}},Se=()=>JSON.parse(localStorage.getItem(ZN)||"null"),Te=e=>localStorage.setItem(ZN,JSON.stringify(e)),tO="prancha_ops_queue",rO=()=>{try{return JSON.parse(localStorage.getItem(tO)||"[]")}catch{return[]}},nO=e=>localStorage.setItem(tO,JSON.stringify(e)),st=()=>typeof navigator<"u"?!!navigator.onLine:!0;let zx=!1,Wo=!1;function cr(e){const t=rO();t.push({...e,id:Fs(),when:new Date().toISOString()}),nO(t)}async function nv(){if(!Wo){Wo=!0;try{const e=await Rc();if(!e||!st()){Wo=!1;return}let t=rO();if(!Array.isArray(t)||t.length===0){Wo=!1;return}const r=Se(),n={},a={},i={},s={},o=async(d,h)=>{const{data:p,error:m}=await e.from(d).insert([h]).select().single();if(m||!p)throw m||new Error("insert_failed");return p},l=async(d,h,p,m)=>{const{data:y,error:g}=await e.from(d).update(m).eq(h,p).select().single();if(g||!y)throw g||new Error("update_failed");return y},c=async(d,h,p)=>(await e.from(d).delete().eq(h,p),{ok:!0}),f=[];for(const d of t)try{if(d.table==="motoristas"){if(d.op==="insert"){const h=await o("motoristas",d.payload),p=d.localId;n[p]=h.id;const m=r.motoristas.findIndex(y=>y.id===p);m>=0&&(r.motoristas[m]={...r.motoristas[m],id:h.id}),r.viagens=r.viagens.map(y=>y.driver_id===p?{...y,driver_id:h.id}:y)}else if(d.op==="update"){const h=n[d.localId]||d.remoteId||d.localId;await l("motoristas","id",h,d.payload)}else if(d.op==="delete"){const h=n[d.localId]||d.remoteId||d.localId;await c("motoristas","id",h)}}else if(d.table==="caminhoes"){if(d.op==="insert"){const h=await o("caminhoes",d.payload),p=d.localId;a[p]=h.id;const m=r.caminhoes.findIndex(y=>y.id===p);m>=0&&(r.caminhoes[m]={...r.caminhoes[m],id:h.id}),r.viagens=r.viagens.map(y=>y.truck_id===p?{...y,truck_id:h.id}:y)}else if(d.op==="update"){const h=a[d.localId]||d.remoteId||d.localId;await l("caminhoes","id",h,d.payload)}else if(d.op==="delete"){const h=a[d.localId]||d.remoteId||d.localId;await c("caminhoes","id",h)}}else if(d.table==="pranchas"){if(d.op==="insert"){let h;try{h=await o("pranchas",d.payload)}catch{const g={...d.payload};delete g.plate,delete g.chassis,h={...await o("pranchas",g),plate:d.payload.plate,chassis:d.payload.chassis}}const p=d.localId;i[p]=h.id;const m=r.pranchas.findIndex(y=>y.id===p);m>=0&&(r.pranchas[m]={...r.pranchas[m],id:h.id}),r.viagens=r.viagens.map(y=>y.prancha_id===p?{...y,prancha_id:h.id}:y)}else if(d.op==="update"){const h=i[d.localId]||d.remoteId||d.localId;try{await l("pranchas","id",h,d.payload)}catch{const m={...d.payload};delete m.plate,delete m.chassis,await l("pranchas","id",h,m);const y=Se(),g=y.pranchas.findIndex(b=>b.id===h);g>=0&&(y.pranchas[g]={...y.pranchas[g],...d.payload},Te(y))}}else if(d.op==="delete"){const h=i[d.localId]||d.remoteId||d.localId;await c("pranchas","id",h)}}else if(d.table==="viagens"){if(d.op==="insert"){const h=d.payload;let p={date:h.date,driver_id:Number(n[h.driver_id]||h.driver_id),truck_id:h.truck_id!=null?Number(a[h.truck_id]||h.truck_id):null,prancha_id:h.prancha_id!=null?Number(i[h.prancha_id]||h.prancha_id):null,destination:h.destination||null,location:h.location||null,service_type:h.service_type||null,description:h.description||null,start_time:h.start_time||null,end_time:h.end_time||null,km_start:h.km_start!=null?Number(h.km_start):null,km_end:h.km_end!=null?Number(h.km_end):null,fuel_liters:h.fuel_liters!=null?Number(h.fuel_liters):0,fuel_price:h.fuel_price!=null?Number(h.fuel_price):0,other_costs:h.other_costs!=null?Number(h.other_costs):0,maintenance_cost:h.maintenance_cost!=null?Number(h.maintenance_cost):0,driver_daily:h.driver_daily!=null?Number(h.driver_daily):0,tolls:h.tolls!=null?Number(h.tolls):0,freight_value:h.freight_value!=null?Number(h.freight_value):0,requester:h.requester||null,origin:h.origin||null,cargo_qty:h.cargo_qty||null,trip_type:h.trip_type||"one_way",status:Us(h.end_time,h.km_end)};const m=await o("viagens",p),y=d.localId;s[y]=m.id;const g=r.viagens.findIndex(b=>b.id===y);g>=0&&(r.viagens[g]={...r.viagens[g],id:m.id}),r.custos=r.custos.map(b=>String(b.viagemId)===String(y)?{...b,viagemId:String(m.id)}:b)}else if(d.op==="update"){const h=s[d.localId]||d.remoteId||d.localId,p=d.payload,m={date:p.date,driver_id:Number(p.driver_id),truck_id:p.truck_id!=null?Number(p.truck_id):null,prancha_id:p.prancha_id!=null?Number(p.prancha_id):null,destination:p.destination||null,location:p.location||null,service_type:p.service_type||null,description:p.description||null,start_time:p.start_time||null,end_time:p.end_time||null,km_start:p.km_start!=null?Number(p.km_start):null,km_end:p.km_end!=null?Number(p.km_end):null,fuel_liters:p.fuel_liters!=null?Number(p.fuel_liters):0,fuel_price:p.fuel_price!=null?Number(p.fuel_price):0,other_costs:p.other_costs!=null?Number(p.other_costs):0,maintenance_cost:p.maintenance_cost!=null?Number(p.maintenance_cost):0,driver_daily:p.driver_daily!=null?Number(p.driver_daily):0,tolls:p.tolls!=null?Number(p.tolls):0,freight_value:p.freight_value!=null?Number(p.freight_value):0,requester:p.requester||null,origin:p.origin||null,cargo_qty:p.cargo_qty||null,trip_type:p.trip_type||"one_way",status:Us(p.end_time,p.km_end)};await l("viagens","id",h,m)}else if(d.op==="delete"){const h=s[d.localId]||d.remoteId||d.localId;await c("viagens","id",h)}}else if(d.table==="custos"){if(d.op==="insert"){const h={...d.payload};h.viagemId=h.viagemId!=null?String(s[Number(h.viagemId)]||h.viagemId):h.viagemId,await o("custos",h)}else if(d.op==="update"){const h=d.remoteId||d.localId;await l("custos","id",h,d.payload)}else if(d.op==="delete"){const h=d.remoteId||d.localId;await c("custos","id",h)}}else d.table==="login_logs"&&d.op==="insert"&&await o("login_logs",d.payload)}catch{f.push(d)}Te(r),nO(f)}finally{Wo=!1}}}function qx(){zx||(zx=!0,typeof window<"u"&&window.addEventListener("online",()=>{nv()}))}async function Ln(e,t){try{const r=await fetch(e);return r.ok?await r.json():t}catch{return t}}const Yr=(e,t)=>e==null||t==null?0:Math.max(0,Number(t)-Number(e)),aO=(e,t,r,n)=>{if(!e||!t||!r)return 0;const a=(l,c)=>{const[f,d,h]=String(l).split("-").map(Number),[p,m]=String(c).split(":").map(Number);return!f||!d||!h?null:new Date(f,d-1,h,p||0,m||0)},i=a(e,t),s=a(n||e,r);if(!i||!s)return 0;(!n||n===e)&&s<i&&s.setDate(s.getDate()+1);const o=s-i;return Math.max(0,Math.round(o/6e4))},Pn=(e,t,r,n)=>{const a=aO(e,t,r,n);return Math.round(a/60*100)/100},Us=(e,t)=>!e||e===""||t==null||t===""?"Em Andamento":"Finalizado",Jf=e=>{try{if(!e)return{status:"unknown",days:null};const[t,r,n]=String(e).split("-").map(Number);if(!t||!r||!n)return{status:"unknown",days:null};const a=new Date,i=new Date(t,r-1,n),s=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o=i-s,l=Math.ceil(o/864e5);return l<0?{status:"expired",days:l}:l<=30?{status:"expiring",days:l}:{status:"valid",days:l}}catch{return{status:"unknown",days:null}}};async function Wx(e){!e.viagens||e.viagens.length===0||localStorage.getItem("costs_migrated_v2")==="true"||await Rc()}async function qe(){await Rc();const e=Se();if(e){const d=e;d.motoristas=Array.isArray(d.motoristas)?d.motoristas:[],d.viagens=Array.isArray(d.viagens)?d.viagens:[],d.destinos=Array.isArray(d.destinos)?d.destinos:[],d.tipos_servico=Array.isArray(d.tipos_servico)?d.tipos_servico:[],d.usuarios=Array.isArray(d.usuarios)?d.usuarios:[],d.config=d.config||{},d.caminhoes=Array.isArray(d.caminhoes)?d.caminhoes:[],d.pranchas=Array.isArray(d.pranchas)?d.pranchas:[],d.custos=Array.isArray(d.custos)?d.custos:[],d.documents=Array.isArray(d.documents)?d.documents:[],d.seq=d.seq||{},d.seq.motoristas=Number.isFinite(d.seq.motoristas)?d.seq.motoristas:d.motoristas.reduce((h,p)=>Math.max(h,p.id||0),0)+1,d.seq.viagens=Number.isFinite(d.seq.viagens)?d.seq.viagens:d.viagens.reduce((h,p)=>Math.max(h,p.id||0),0)+1,d.seq.destinos=Number.isFinite(d.seq.destinos)?d.seq.destinos:d.destinos.reduce((h,p)=>Math.max(h,p.id||0),0)+1,d.seq.tipos=Number.isFinite(d.seq.tipos)?d.seq.tipos:d.tipos_servico.reduce((h,p)=>Math.max(h,p.id||0),0)+1,d.seq.caminhoes=Number.isFinite(d.seq.caminhoes)?d.seq.caminhoes:d.caminhoes.reduce((h,p)=>Math.max(h,p.id||0),0)+1,d.seq.pranchas=Number.isFinite(d.seq.pranchas)?d.seq.pranchas:d.pranchas.reduce((h,p)=>Math.max(h,p.id||0),0)+1,Te(d);try{await Wx(d)}catch(h){console.error("Migration error",h)}return qx(),await nv(),d}const[t,r,n,a,i,s,o,l,c]=await Promise.all([Ln(Dn.motoristas,[]),Ln(Dn.viagens,[]),Ln(Dn.destinos,[]),Ln(Dn.tipos,[]),Ln(Dn.usuarios,[]),Ln(Dn.config,{}),Ln(Dn.caminhoes,[]),Ln(Dn.pranchas,[]),Ln(Dn.custos,[])]),f={motoristas:t,viagens:r,destinos:n,tipos_servico:a,usuarios:i,config:s,caminhoes:o,pranchas:l,custos:Array.isArray(c)?c:[],documents:Array.isArray(s&&s.documents)?s.documents:[],seq:{motoristas:t.reduce((d,h)=>Math.max(d,h.id||0),0)+1,viagens:r.reduce((d,h)=>Math.max(d,h.id||0),0)+1,destinos:n.reduce((d,h)=>Math.max(d,h.id||0),0)+1,tipos:a.reduce((d,h)=>Math.max(d,h.id||0),0)+1,caminhoes:o.reduce((d,h)=>Math.max(d,h.id||0),0)+1,pranchas:l.reduce((d,h)=>Math.max(d,h.id||0),0)+1}};Te(f);try{await Wx(f)}catch(d){console.error("Migration error",d)}return qx(),await nv(),f}async function Vx(e,t){await qe();const r=await Rc();if(r&&st()){const{data:s,error:o}=await r.auth.signInWithPassword({email:String(e),password:String(t)});if(o)throw o;const l=(s==null?void 0:s.session)||null,c=(l==null?void 0:l.user)||null,f=(l==null?void 0:l.access_token)||"supabase-token";localStorage.setItem("token",f),localStorage.setItem("user",JSON.stringify({id:c==null?void 0:c.id,username:c==null?void 0:c.email,role:"user"}));try{const d=typeof navigator<"u"?String(navigator.userAgent||"").toLowerCase():"",h=/mobi|android|iphone|ipad|ipod/.test(d)?"mobile":"desktop",p=Ux();await r.from("login_logs").insert([{user_id:String((c==null?void 0:c.id)||""),email:String((c==null?void 0:c.email)||e),device:h,client_id:p}])}catch{}return{token:f,user:{id:c==null?void 0:c.id,username:c==null?void 0:c.email,role:"user"}}}const a=Se().usuarios.find(s=>s.username===e);if(!a)throw new Error("Credenciais invlidas");const i=eO(t);if(a.password_base64!==i)throw new Error("Credenciais invlidas");localStorage.setItem("token","local-token"),localStorage.setItem("user",JSON.stringify({id:a.id,username:a.username,role:a.role||"user"}));try{const s=typeof navigator<"u"?String(navigator.userAgent||"").toLowerCase():"",o=/mobi|android|iphone|ipad|ipod/.test(s)?"mobile":"desktop",l=Ux();cr({table:"login_logs",op:"insert",payload:{user_id:String(a.id),email:String(a.username),device:o,client_id:l}})}catch{}return{token:"local-token",user:{id:a.id,username:a.username,role:a.role||"user"}}}async function QI(e,t,r="user"){await qe();const n=await Rc();if(n&&st()){const{data:o,error:l}=await n.auth.signUp({email:String(e),password:String(t)});if(l)throw l;const c=!!(o!=null&&o.user&&!(o!=null&&o.session));return{username:e,role:r,requiresEmailConfirmation:c}}const a=Se();if(a.usuarios.find(o=>o.username===e))throw new Error("Usurio j existe");const i=a.usuarios.reduce((o,l)=>Math.max(o,l.id||0),0)+1,s=eO(t);return a.usuarios.push({id:i,username:e,password_base64:s,role:r}),Te(a),{id:i,username:e,role:r}}async function Xf(e={}){await qe();const{page:t,pageSize:r,search:n}=e;let a=[];if(fe&&st()){const{data:i}=await fe.from("motoristas").select("*").order("id",{ascending:!1});a=Array.isArray(i)?i:[];const s=Se();s.motoristas=a.slice(),Te(s)}else a=Se().motoristas.slice().reverse();if(n){const i=n.toLowerCase();a=a.filter(s=>s.name.toLowerCase().includes(i)||s.cpf&&s.cpf.includes(i))}if(t&&r){const i=(Number(t)-1)*Number(r);return{data:a.slice(i,i+Number(r)),total:a.length,page:Number(t),pageSize:Number(r)}}return a}async function ZI(e){await qe();const t={name:e.name,cpf:e.cpf||null,cnh_number:e.cnh_number||null,cnh_category:e.cnh_category||null,status:e.status||"Ativo"};if(fe&&st()){const{data:i,error:s}=await fe.from("motoristas").insert([t]).select().single();if(s)throw console.error("Supabase insert error",s),s;if(!i)throw new Error("Erro ao salvar: retorno vazio");const o=Se(),l=o.motoristas.findIndex(c=>c.id===i.id);return l>=0?o.motoristas[l]=i:o.motoristas.push(i),Te(o),i}const r=Se(),n=r.seq.motoristas++,a={id:n,...t};return r.motoristas.push(a),Te(r),cr({table:"motoristas",op:"insert",payload:t,localId:n}),a}async function eR(e,t){await qe();const r={name:t.name,cpf:t.cpf||null,cnh_number:t.cnh_number||null,cnh_category:t.cnh_category||null,status:t.status||"Ativo"};if(fe&&st()){const{data:i,error:s}=await fe.from("motoristas").update(r).eq("id",e).select().single();if(s)throw console.error("Supabase update error",s),s;if(!i)throw new Error("Erro ao atualizar: retorno vazio");const o=Se(),l=o.motoristas.findIndex(c=>c.id===e);return l>=0?o.motoristas[l]=i:o.motoristas.push(i),Te(o),i}const n=Se(),a=n.motoristas.findIndex(i=>i.id===e);return a>=0?n.motoristas[a]={id:e,...r}:n.motoristas.push({id:e,...r}),Te(n),cr({table:"motoristas",op:"update",payload:r,localId:e}),n.motoristas[a>=0?a:n.motoristas.length-1]}async function tR(e){if(await qe(),fe&&st()){await fe.from("motoristas").delete().eq("id",e);const r=Se();return r.motoristas=r.motoristas.filter(n=>n.id!==e),Te(r),{ok:!0}}const t=Se();return t.motoristas=t.motoristas.filter(r=>r.id!==e),Te(t),cr({table:"motoristas",op:"delete",localId:e}),{ok:!0}}async function Ju(e={}){await qe();const{startDate:t,endDate:r,driverId:n,destination:a,status:i,search:s,truckId:o,pranchaId:l,vehicleType:c,plate:f,id:d,location:h,page:p=1,pageSize:m=10}=e;if(fe&&st()){let v=fe.from("viagens").select("*",{count:"exact"}).order("date",{ascending:!1}).order("id",{ascending:!1});t&&(v=v.gte("date",t)),r&&(v=v.lte("date",r)),n&&(v=v.eq("driver_id",Number(n))),i&&(v=v.eq("status",i)),o&&(v=v.eq("truck_id",Number(o))),l&&(v=v.eq("prancha_id",Number(l))),h&&(v=v.eq("location",h));const{data:x}=await v.range(0,19999);let S=Array.isArray(x)?x.slice():[];if(d&&(S=S.filter(j=>String(j.id).includes(String(d)))),a&&(S=S.filter(j=>String(j.destination||"").toLowerCase().includes(a.toLowerCase()))),s&&(S=S.filter(j=>(j.description||"").toLowerCase().includes(s.toLowerCase())||(j.service_type||"").toLowerCase().includes(s.toLowerCase()))),c==="truck"&&(S=S.filter(j=>j.truck_id!=null)),c==="prancha"&&(S=S.filter(j=>j.prancha_id!=null)),f){const{data:j}=await fe.from("caminhoes").select("id, plate");S=S.filter(P=>{const I=(Array.isArray(j)?j:[]).find(D=>D.id===P.truck_id);return I&&String(I.plate||"").toLowerCase().includes(f.toLowerCase())})}S=S.map(j=>({...j,km_rodado:Yr(j.km_start,j.km_end),horas:Pn(j.date,j.start_time,j.end_time,j.end_date),total_cost:Number(j.fuel_liters||0)*Number(j.fuel_price||0)+Number(j.other_costs||0)+Number(j.maintenance_cost||0)+Number(j.driver_daily||0)}));const k=S.length,E=(Number(p)-1)*Number(m);return{data:S.slice(E,E+Number(m)),total:k,page:Number(p),pageSize:Number(m)}}const y=Se();let g=y.viagens.slice().reverse();d&&(g=g.filter(v=>String(v.id).includes(String(d)))),t&&(g=g.filter(v=>v.date>=t)),r&&(g=g.filter(v=>v.date<=r)),n&&(g=g.filter(v=>v.driver_id===Number(n))),a&&(g=g.filter(v=>(v.destination||"").toLowerCase().includes(a.toLowerCase()))),i&&(g=g.filter(v=>v.status===i)),s&&(g=g.filter(v=>(v.description||"").toLowerCase().includes(s.toLowerCase())||(v.service_type||"").toLowerCase().includes(s.toLowerCase()))),o&&(g=g.filter(v=>v.truck_id===Number(o))),l&&(g=g.filter(v=>v.prancha_id===Number(l))),h&&(g=g.filter(v=>v.location===h)),c==="truck"&&(g=g.filter(v=>v.truck_id!=null)),c==="prancha"&&(g=g.filter(v=>v.prancha_id!=null)),f&&(g=g.filter(v=>{const x=y.caminhoes.find(S=>S.id===v.truck_id);return x&&(x.plate||"").toLowerCase().includes(f.toLowerCase())})),g=g.map(v=>({...v,km_rodado:Yr(v.km_start,v.km_end),horas:Pn(v.date,v.start_time,v.end_time,v.end_date),total_cost:Number(v.fuel_liters||0)*Number(v.fuel_price||0)+Number(v.other_costs||0)+Number(v.maintenance_cost||0)+Number(v.driver_daily||0)}));const b=g.length,w=(Number(p)-1)*Number(m);return{data:g.slice(w,w+Number(m)),total:b,page:Number(p),pageSize:Number(m)}}async function rR(e){if(await qe(),fe&&st()){const{data:n}=await fe.from("viagens").select("*").eq("id",Number(e)).single();return n?{...n,end_date:n.end_date||n.date,km_rodado:Yr(n.km_start,n.km_end),horas:Pn(n.date,n.start_time,n.end_time,n.end_date||n.date)}:null}const r=Se().viagens.find(n=>n.id===Number(e));return r?{...r,end_date:r.end_date||r.date,km_rodado:Yr(r.km_start,r.km_end),horas:Pn(r.date,r.start_time,r.end_time,r.end_date||r.date)}:null}async function nR(e){if(await qe(),fe&&st()){const i=e.status||Us(e.end_time,e.km_end),s={date:e.date,driver_id:Number(e.driver_id),truck_id:e.truck_id!=null?Number(e.truck_id):null,prancha_id:e.prancha_id!=null?Number(e.prancha_id):null,destination:e.destination||null,location:e.location||null,service_type:e.service_type||null,description:e.description||null,start_time:e.start_time||null,end_time:e.end_time||null,km_start:e.km_start!=null?Number(e.km_start):null,km_end:e.km_end!=null?Number(e.km_end):null,fuel_liters:e.fuel_liters!=null?Number(e.fuel_liters):0,fuel_price:e.fuel_price!=null?Number(e.fuel_price):0,other_costs:e.other_costs!=null?Number(e.other_costs):0,maintenance_cost:e.maintenance_cost!=null?Number(e.maintenance_cost):0,driver_daily:e.driver_daily!=null?Number(e.driver_daily):0,tolls:e.tolls!=null?Number(e.tolls):0,freight_value:e.freight_value!=null?Number(e.freight_value):0,origin:e.origin||null,cargo_qty:e.cargo_qty||null,trip_type:e.trip_type||"one_way",planned_km:e.planned_km!=null?Number(e.planned_km):0,planned_duration:e.planned_duration||null,planned_fuel_liters:e.planned_fuel_liters!=null?Number(e.planned_fuel_liters):0,planned_toll_cost:e.planned_toll_cost!=null?Number(e.planned_toll_cost):0,planned_driver_cost:e.planned_driver_cost!=null?Number(e.planned_driver_cost):0,planned_maintenance:e.planned_maintenance!=null?Number(e.planned_maintenance):0,planned_total_cost:e.planned_total_cost!=null?Number(e.planned_total_cost):0,requester:e.requester||null,status:i},{data:o,error:l}=await fe.from("viagens").insert([s]).select().single();if(l)throw l;if(o)return o.truck_id!=null&&o.km_end!=null&&await fe.from("caminhoes").update({km_current:Number(o.km_end)}).eq("id",Number(o.truck_id)),{...o,km_rodado:Yr(o.km_start,o.km_end),horas:Pn(o.date,o.start_time,o.end_time,o.end_date||o.date),total_cost:Number(o.fuel_liters||0)*Number(o.fuel_price||0)+Number(o.other_costs||0)+Number(o.maintenance_cost||0)+Number(o.driver_daily||0)}}const t=Se(),r=t.seq.viagens++,n=e.status||Us(e.end_time,e.km_end),a={id:r,date:e.date,end_date:e.end_date||e.date,driver_id:Number(e.driver_id),truck_id:e.truck_id!=null?Number(e.truck_id):null,prancha_id:e.prancha_id!=null?Number(e.prancha_id):null,destination:e.destination||null,location:e.location||null,service_type:e.service_type||null,description:e.description||null,start_time:e.start_time||null,end_time:e.end_time||null,km_start:e.km_start!=null?Number(e.km_start):null,km_end:e.km_end!=null?Number(e.km_end):null,fuel_liters:e.fuel_liters!=null?Number(e.fuel_liters):0,fuel_price:e.fuel_price!=null?Number(e.fuel_price):0,other_costs:e.other_costs!=null?Number(e.other_costs):0,maintenance_cost:e.maintenance_cost!=null?Number(e.maintenance_cost):0,driver_daily:e.driver_daily!=null?Number(e.driver_daily):0,tolls:e.tolls!=null?Number(e.tolls):0,freight_value:e.freight_value!=null?Number(e.freight_value):0,origin:e.origin||null,cargo_qty:e.cargo_qty||null,planned_km:e.planned_km!=null?Number(e.planned_km):0,planned_duration:e.planned_duration||null,planned_fuel_liters:e.planned_fuel_liters!=null?Number(e.planned_fuel_liters):0,planned_toll_cost:e.planned_toll_cost!=null?Number(e.planned_toll_cost):0,planned_driver_cost:e.planned_driver_cost!=null?Number(e.planned_driver_cost):0,planned_maintenance:e.planned_maintenance!=null?Number(e.planned_maintenance):0,planned_total_cost:e.planned_total_cost!=null?Number(e.planned_total_cost):0,requester:e.requester||null,status:n};if(t.viagens.push(a),a.truck_id!=null&&a.km_end!=null){const i=t.caminhoes.findIndex(s=>s.id===Number(a.truck_id));i>=0&&(t.caminhoes[i]={...t.caminhoes[i],km_current:Number(a.km_end)})}return Te(t),cr({table:"viagens",op:"insert",payload:a,localId:r}),{...a,km_rodado:Yr(a.km_start,a.km_end),horas:Pn(a.date,a.start_time,a.end_time,a.end_date),total_cost:Number(a.fuel_liters||0)*Number(a.fuel_price||0)+Number(a.other_costs||0)+Number(a.maintenance_cost||0)+Number(a.driver_daily||0)}}async function Kx(e,t){if(await qe(),fe&&st()){const s=t.status||Us(t.end_time,t.km_end),o={date:t.date,driver_id:Number(t.driver_id),truck_id:t.truck_id!=null?Number(t.truck_id):null,prancha_id:t.prancha_id!=null?Number(t.prancha_id):null,destination:t.destination||null,location:t.location||null,service_type:t.service_type||null,description:t.description||null,start_time:t.start_time||null,end_time:t.end_time||null,km_start:t.km_start!=null?Number(t.km_start):null,km_end:t.km_end!=null?Number(t.km_end):null,fuel_liters:t.fuel_liters!=null?Number(t.fuel_liters):0,fuel_price:t.fuel_price!=null?Number(t.fuel_price):0,other_costs:t.other_costs!=null?Number(t.other_costs):0,maintenance_cost:t.maintenance_cost!=null?Number(t.maintenance_cost):0,driver_daily:t.driver_daily!=null?Number(t.driver_daily):0,tolls:t.tolls!=null?Number(t.tolls):0,freight_value:t.freight_value!=null?Number(t.freight_value):0,origin:t.origin||null,cargo_qty:t.cargo_qty||null,trip_type:t.trip_type||"one_way",planned_km:t.planned_km!=null?Number(t.planned_km):0,planned_duration:t.planned_duration||null,planned_fuel_liters:t.planned_fuel_liters!=null?Number(t.planned_fuel_liters):0,planned_toll_cost:t.planned_toll_cost!=null?Number(t.planned_toll_cost):0,planned_driver_cost:t.planned_driver_cost!=null?Number(t.planned_driver_cost):0,planned_maintenance:t.planned_maintenance!=null?Number(t.planned_maintenance):0,planned_total_cost:t.planned_total_cost!=null?Number(t.planned_total_cost):0,requester:t.requester||null,status:s},{data:l,error:c}=await fe.from("viagens").update(o).eq("id",Number(e)).select().single();if(c)throw c;if(l)return l.truck_id!=null&&l.km_end!=null&&await fe.from("caminhoes").update({km_current:Number(l.km_end)}).eq("id",Number(l.truck_id)),{...l,km_rodado:Yr(l.km_start,l.km_end),horas:Pn(l.date,l.start_time,l.end_time,l.end_date||l.date),total_cost:Number(l.fuel_liters||0)*Number(l.fuel_price||0)+Number(l.other_costs||0)+Number(l.maintenance_cost||0)+Number(l.driver_daily||0)}}const r=Se(),n=r.viagens.findIndex(s=>s.id===Number(e)),a=t.status||Us(t.end_time,t.km_end);n>=0&&(r.viagens[n]={id:Number(e),date:t.date,end_date:t.end_date||t.date,driver_id:Number(t.driver_id),truck_id:t.truck_id!=null?Number(t.truck_id):null,prancha_id:t.prancha_id!=null?Number(t.prancha_id):null,destination:t.destination||null,location:t.location||null,service_type:t.service_type||null,description:t.description||null,start_time:t.start_time||null,end_time:t.end_time||null,km_start:t.km_start!=null?Number(t.km_start):null,km_end:t.km_end!=null?Number(t.km_end):null,fuel_liters:t.fuel_liters!=null?Number(t.fuel_liters):0,fuel_price:t.fuel_price!=null?Number(t.fuel_price):0,other_costs:t.other_costs!=null?Number(t.other_costs):0,maintenance_cost:t.maintenance_cost!=null?Number(t.maintenance_cost):0,driver_daily:t.driver_daily!=null?Number(t.driver_daily):0,tolls:t.tolls!=null?Number(t.tolls):0,freight_value:t.freight_value!=null?Number(t.freight_value):0,origin:t.origin||null,cargo_qty:t.cargo_qty||null,planned_km:t.planned_km!=null?Number(t.planned_km):0,planned_duration:t.planned_duration||null,planned_fuel_liters:t.planned_fuel_liters!=null?Number(t.planned_fuel_liters):0,planned_toll_cost:t.planned_toll_cost!=null?Number(t.planned_toll_cost):0,planned_driver_cost:t.planned_driver_cost!=null?Number(t.planned_driver_cost):0,planned_maintenance:t.planned_maintenance!=null?Number(t.planned_maintenance):0,planned_total_cost:t.planned_total_cost!=null?Number(t.planned_total_cost):0,requester:t.requester||null,status:a});const i=r.viagens[n];if(i.truck_id!=null&&i.km_end!=null){const s=r.caminhoes.findIndex(o=>o.id===Number(i.truck_id));s>=0&&(r.caminhoes[s]={...r.caminhoes[s],km_current:Number(i.km_end)})}return Te(r),cr({table:"viagens",op:"update",payload:i,localId:Number(e)}),{...i,km_rodado:Yr(i.km_start,i.km_end),horas:Pn(i.date,i.start_time,i.end_time,i.end_date),total_cost:Number(i.fuel_liters||0)*Number(i.fuel_price||0)+Number(i.other_costs||0)+Number(i.maintenance_cost||0)+Number(i.driver_daily||0)}}async function aR(e){if(await qe(),fe&&st())return await fe.from("viagens").delete().eq("id",Number(e)),{ok:!0};const t=Se();return t.viagens=t.viagens.filter(r=>r.id!==Number(e)),Te(t),cr({table:"viagens",op:"delete",localId:Number(e)}),{ok:!0}}async function iR(){return await qe(),Se().destinos}async function Mc(e={}){await qe();const{page:t,pageSize:r}=e;let n=[];if(fe&&st()){const{data:a}=await fe.from("caminhoes").select("*").order("id",{ascending:!1}),i=Array.isArray(a)?a:[],s=Se();if(s&&Array.isArray(s.caminhoes)){const o=i.map(l=>{const c=s.caminhoes.find(f=>f.id==l.id);return c?{...l,chassis:c.chassis||l.chassis,plate:c.plate||l.plate,fleet:c.fleet||l.fleet,category:c.category||l.category}:l});s.caminhoes=o.slice(),Te(s),n=o}else n=i}else{const a=Se();n=a&&Array.isArray(a.caminhoes)?a.caminhoes.slice().reverse():[]}if(t&&r){const a=(Number(t)-1)*Number(r);return{data:n.slice(a,a+Number(r)),total:n.length,page:Number(t),pageSize:Number(r)}}return n}async function iO(e){await qe();const t={plate:e.plate||null,model:e.model||null,year:e.year!=null?Number(e.year):null,chassis:e.chassis||null,km_current:e.km_current!=null?Number(e.km_current):null,fleet:e.fleet||null,category:e.category||null,status:e.status||"Ativo"};if(fe&&st()){const{data:i}=await fe.from("caminhoes").insert([t]).select().single(),s=Se();if(s&&Array.isArray(s.caminhoes)){const o=s.caminhoes.findIndex(c=>c.id==i.id),l={...i,chassis:t.chassis||i.chassis,plate:t.plate||i.plate,fleet:t.fleet||i.fleet,category:t.category||i.category};o>=0?s.caminhoes[o]=l:s.caminhoes.push(l),Te(s)}return i}const r=Se(),n=r.seq.caminhoes++,a={id:n,...t};return r.caminhoes.push(a),Te(r),cr({table:"caminhoes",op:"insert",payload:t,localId:n}),a}async function sO(e,t){await qe();const{supabase:r}=await Yf(async()=>{const{supabase:s}=await Promise.resolve().then(()=>hE);return{supabase:s}},void 0),n={plate:t.plate||null,model:t.model||null,year:t.year!=null?Number(t.year):null,chassis:t.chassis||null,km_current:t.km_current!=null?Number(t.km_current):null,fleet:t.fleet||null,category:t.category||null,status:t.status||"Ativo"};if(r&&st()){const{data:s}=await r.from("caminhoes").update(n).eq("id",e).select().single(),o=Se();if(o&&Array.isArray(o.caminhoes)){const l=o.caminhoes.findIndex(f=>f.id==e),c={...s,chassis:n.chassis||s.chassis,plate:n.plate||s.plate,fleet:n.fleet||s.fleet,category:n.category||s.category};l>=0?o.caminhoes[l]=c:o.caminhoes.push(c),Te(o)}return s}const a=Se(),i=a.caminhoes.findIndex(s=>s.id==e);return i>=0?a.caminhoes[i]={id:Number(e),...n}:a.caminhoes.push({id:Number(e),...n}),Te(a),cr({table:"caminhoes",op:"update",payload:n,localId:Number(e)}),a.caminhoes[i>=0?i:a.caminhoes.length-1]}async function sR(e){if(await qe(),fe&&st()){await fe.from("caminhoes").delete().eq("id",e);const r=Se();return r&&Array.isArray(r.caminhoes)&&(r.caminhoes=r.caminhoes.filter(n=>n.id!==Number(e)),Te(r)),{ok:!0}}const t=Se();return t.caminhoes=t.caminhoes.filter(r=>r.id!==Number(e)),Te(t),cr({table:"caminhoes",op:"delete",localId:Number(e)}),{ok:!0}}async function Qf(e={}){await qe();const{page:t,pageSize:r}=e;let n=[];if(fe&&st()){const{data:a}=await fe.from("pranchas").select("*").order("id",{ascending:!1});n=Array.isArray(a)?a:[];const i=Se();if(i&&Array.isArray(i.pranchas)){const s=n.map(o=>{const l=i.pranchas.find(c=>c.id==o.id);return l?{...o,plate:l.plate||o.plate,chassis:l.chassis||o.chassis,fleet:l.fleet||o.fleet,conjunto:l.conjunto||o.conjunto,is_set:l.is_set||o.is_set,asset_number2:l.asset_number2||o.asset_number2,plate2:l.plate2||o.plate2,chassis2:l.chassis2||o.chassis2}:o});i.pranchas=s.slice(),Te(i),n=s}}else{const a=Se();n=a&&Array.isArray(a.pranchas)?a.pranchas.slice().reverse():[]}if(t&&r){const a=(Number(t)-1)*Number(r);return{data:n.slice(a,a+Number(r)),total:n.length,page:Number(t),pageSize:Number(r)}}return n}async function oR(e){await qe();const t={asset_number:e.asset_number||null,type:e.type||null,capacity:e.capacity!=null?Number(e.capacity):null,year:e.year!=null?Number(e.year):null,status:e.status||"Ativo"},r={...t,plate:e.plate||null,chassis:e.chassis||null,fleet:e.fleet||null,conjunto:e.conjunto||null,is_set:e.is_set||!1,asset_number2:e.asset_number2||null,plate2:e.plate2||null,chassis2:e.chassis2||null};if(fe&&st()){let s=null;const o=await fe.from("pranchas").insert([r]).select().single();if(o.error||!o.data){const c=await fe.from("pranchas").insert([t]).select().single();s=c.data?{...c.data,plate:r.plate,chassis:r.chassis,fleet:r.fleet,conjunto:r.conjunto,is_set:r.is_set,asset_number2:r.asset_number2,plate2:r.plate2,chassis2:r.chassis2}:null}else s=o.data;const l=Se();if(s&&l&&Array.isArray(l.pranchas)){const c=l.pranchas.findIndex(f=>f.id==s.id);return c>=0?l.pranchas[c]=s:l.pranchas.push(s),Te(l),s}}const n=Se(),a=n.seq.pranchas++,i={id:a,...r};return n.pranchas.push(i),Te(n),cr({table:"pranchas",op:"insert",payload:r,localId:a}),i}async function lR(e,t){await qe();const r={asset_number:t.asset_number||null,type:t.type||null,capacity:t.capacity!=null?Number(t.capacity):null,year:t.year!=null?Number(t.year):null,status:t.status||"Ativo"},n={...r,plate:t.plate||null,chassis:t.chassis||null,fleet:t.fleet||null,conjunto:t.conjunto||null,is_set:t.is_set||!1,asset_number2:t.asset_number2||null,plate2:t.plate2||null,chassis2:t.chassis2||null};if(fe&&st()){let s=null;const o=await fe.from("pranchas").update(n).eq("id",Number(e)).select().single();if(o.error||!o.data){const c=await fe.from("pranchas").update(r).eq("id",Number(e)).select().single();s=c.data?{...c.data,plate:n.plate,chassis:n.chassis,fleet:n.fleet,conjunto:n.conjunto,is_set:n.is_set,asset_number2:n.asset_number2,plate2:n.plate2,chassis2:n.chassis2}:null}else s=o.data;const l=Se();if(s&&l&&Array.isArray(l.pranchas)){const c=l.pranchas.findIndex(f=>f.id==e);return c>=0?l.pranchas[c]=s:l.pranchas.push(s),Te(l),s}}const a=Se(),i=a.pranchas.findIndex(s=>s.id==e);return i>=0?a.pranchas[i]={id:Number(e),...n}:a.pranchas.push({id:Number(e),...n}),Te(a),cr({table:"pranchas",op:"update",payload:n,localId:Number(e)}),a.pranchas[i>=0?i:a.pranchas.length-1]}async function cR(e){if(await qe(),fe&&st()){await fe.from("pranchas").delete().eq("id",e);const r=Se();return r&&Array.isArray(r.pranchas)&&(r.pranchas=r.pranchas.filter(n=>n.id!==Number(e)),Te(r)),{ok:!0}}const t=Se();return t.pranchas=t.pranchas.filter(r=>r.id!==Number(e)),Te(t),cr({table:"pranchas",op:"delete",localId:Number(e)}),{ok:!0}}async function uR(e={}){var re;await qe();const t=new Date,r=Number(e.year||t.getFullYear()),n=Number(e.month||t.getMonth()+1),a=String(Math.min(12,Math.max(1,n))).padStart(2,"0"),i=String(e.startDate||`${r}-${a}-01`),s=e.endDate?(()=>{const[z,Q,pe]=String(e.endDate).split("-").map(Number);return new Date(z,Q-1,pe)})():new Date(r,Number(a)-1+1,0),o=String(e.endDate||`${r}-${a}-${String(s.getDate()).padStart(2,"0")}`),l=new Date(r,n-2,1),c=l.getFullYear(),f=String(l.getMonth()+1).padStart(2,"0"),d=`${c}-${f}-01`,h=new Date(c,l.getMonth()+1,0),p=`${c}-${f}-${String(h.getDate()).padStart(2,"0")}`;let m=[],y=[],g=[],b=[],w=[];if(fe&&st()){const{data:z}=await fe.from("viagens").select("*").range(0,19999),{data:Q}=await fe.from("motoristas").select("*"),{data:pe}=await fe.from("caminhoes").select("*"),{data:he}=await fe.from("pranchas").select("*");m=Array.isArray(z)?z:[],y=Array.isArray(Q)?Q:[],g=Array.isArray(pe)?pe:[],b=Array.isArray(he)?he:[];const $e=Se();w=Array.isArray($e.custos)?$e.custos:[]}else{const z=Se();m=z.viagens,y=z.motoristas,g=z.caminhoes,b=z.pranchas,w=z.custos}e.location&&(m=m.filter(z=>z.location===e.location));const _=m.filter(z=>z.status!=="Finalizado").length,v=new Set(m.filter(z=>z.status!=="Finalizado"&&z.truck_id).map(z=>String(z.truck_id))),x=g.filter(z=>v.has(String(z.id))).length,S=g.length-x,k=m.filter(z=>z.date>=i&&z.date<=o),E=k.length,A=k.reduce((z,Q)=>z+Yr(Q.km_start,Q.km_end),0),j=k.reduce((z,Q)=>z+aO(Q.date,Q.start_time,Q.end_time,Q.end_date),0),P=j/60,I=`${Math.floor(j/60)}h ${j%60}m`,D=z=>Number(z.fuel_liters||0)*Number(z.fuel_price||0)+Number(z.other_costs||0)+Number(z.maintenance_cost||0)+Number(z.driver_daily||0),B=k.reduce((z,Q)=>z+D(Q),0),F=m.filter(z=>z.date>=d&&z.date<=p),U=F.length,M=F.reduce((z,Q)=>z+Yr(Q.km_start,Q.km_end),0),R=F.reduce((z,Q)=>z+D(Q),0),L=(z,Q)=>Q===0?z>0?100:0:(z-Q)/Q*100,C={trips:L(E,U),km:L(A,M),costs:L(B,R)},H={},q={};k.forEach(z=>{H[z.driver_id]=(H[z.driver_id]||0)+1,z.destination&&(q[z.destination]=(q[z.destination]||0)+1)});const Z=Object.keys(H).sort((z,Q)=>H[Q]-H[z])[0]||null,le=Z&&((re=y.find(z=>z.id===Number(Z)))==null?void 0:re.name)||null,je=Object.keys(q).sort((z,Q)=>q[Q]-q[z])[0]||null,Ae=[],bt=[];for(let z=0;z<12;z++){const pe=new Date(r,z,1).getFullYear(),he=String(z+1).padStart(2,"0"),$e=`${pe}-${he}-01`,we=new Date(pe,z+1,0),_t=`${pe}-${he}-${String(we.getDate()).padStart(2,"0")}`,de=m.filter(ct=>ct.date>=$e&&ct.date<=_t),ke=de.reduce((ct,St)=>ct+Yr(St.km_start,St.km_end),0),vt=de.reduce((ct,St)=>ct+Pn(St.date,St.start_time,St.end_time,St.end_date),0);Ae.push({month:he,km:ke}),bt.push({month:he,hours:vt})}const ot=y.map(z=>({name:z.name,value:k.filter(Q=>Q.driver_id===z.id).length})),ee=k.filter(z=>z.status==="Finalizado").length,se=y.length,ue=g.length,G=b.length,Pe=w.length,Be=["Mquinas Agrcolas","Mquinas de Construo","Equipamentos Industriais","Veculos Pesados","Veculos Leves"].map(z=>({name:z,value:k.filter(Q=>(Q.service_type||"").toLowerCase()===z.toLowerCase()).reduce((Q,pe)=>Q+D(pe),0)})),Ke=[];for(let z=0;z<12;z++){const pe=new Date(r,z,1).getFullYear(),he=String(z+1).padStart(2,"0"),$e=`${pe}-${he}-01`,we=new Date(pe,z+1,0),_t=`${pe}-${he}-${String(we.getDate()).padStart(2,"0")}`,ke=m.filter(vt=>vt.date>=$e&&vt.date<=_t).reduce((vt,ct)=>vt+D(ct),0);Ke.push({month:he,total:ke})}const lt=A>0?B/A:0,mt=ue*220,$=mt>0?Math.max(0,100-P/mt*100):0;return{totalTrips:E,totalKm:A,totalHours:I,totalCompleted:ee,topDriver:le,topDestination:je,kmByMonth:Ae,hoursByMonth:bt,tripsByDriver:ot,totalCostsMonth:B,totalDrivers:se,totalTrucks:ue,totalPranchas:G,totalCustos:Pe,costsByCategory:Be,costsByMonth:Ke,pendingTrips:_,trucksAvailable:S,trucksInTrip:x,trends:C,costPerKm:lt,idlePercentage:$}}function av(e){const t=Number(e.consumoLitros||0),r=Number(e.valorLitro||0),n=Number(e.diariaMotorista||0),a=Number(e.pedagios||0),i=Number(e.manutencao||0),s=Array.isArray(e.outrosCustos)?e.outrosCustos.reduce((d,h)=>d+Number(h.valor||0),0):0,o=t*r,l=o+n+a+i+s,c=Number(e.kmRodado||0),f=c>0?l/c:0;return{custoCombustivel:o,custoTotal:l,custoPorKm:f}}async function oO(e={}){await qe();const{startDate:t,endDate:r,caminhaoId:n,pranchaId:a,driverId:i,aprovado:s,search:o,minCusto:l,maxCusto:c,page:f=1,pageSize:d=10}=e;if(fe&&st()){let b=fe.from("custos").select("*",{count:"exact"});t&&(b=b.gte("dataRegistro",t)),r&&(b=b.lte("dataRegistro",r)),n&&(b=b.eq("caminhaoId",String(n))),a&&(b=b.eq("pranchaId",String(a))),typeof s=="boolean"&&(b=b.eq("aprovado",s));const{data:w}=await b.range(0,19999);let _=Array.isArray(w)?w.slice().reverse():[];if(i){const{data:k}=await fe.from("viagens").select("id, driver_id"),E=new Set((Array.isArray(k)?k:[]).filter(A=>String(A.driver_id)===String(i)).map(A=>String(A.id)));_=_.filter(A=>E.has(String(A.viagemId||"")))}if(l!=null&&(_=_.filter(k=>Number(k.custoTotal||0)>=Number(l))),c!=null&&(_=_.filter(k=>Number(k.custoTotal||0)<=Number(c))),o){const k=String(o).toLowerCase();_=_.filter(E=>String(E.observacoes||"").toLowerCase().includes(k)||Array.isArray(E.outrosCustos)&&E.outrosCustos.some(A=>String(A.descricao||"").toLowerCase().includes(k)))}const v=_.length,x=(Number(f)-1)*Number(d);return{data:_.slice(x,x+Number(d)),total:v,page:Number(f),pageSize:Number(d)}}const h=Se();let p=h.custos.slice().reverse();if(t&&(p=p.filter(b=>b.dataRegistro>=t)),r&&(p=p.filter(b=>b.dataRegistro<=r)),n&&(p=p.filter(b=>String(b.caminhaoId||"")===String(n))),a&&(p=p.filter(b=>String(b.pranchaId||"")===String(a))),typeof s=="boolean"&&(p=p.filter(b=>b.aprovado===s)),i&&(p=p.filter(b=>{const w=h.viagens.find(_=>String(_.id)===String(b.viagemId));return w&&String(w.driver_id)===String(i)})),l!=null&&(p=p.filter(b=>Number(b.custoTotal||0)>=Number(l))),c!=null&&(p=p.filter(b=>Number(b.custoTotal||0)<=Number(c))),o){const b=o.toLowerCase();p=p.filter(w=>(w.observacoes||"").toLowerCase().includes(b)||Array.isArray(w.outrosCustos)&&w.outrosCustos.some(_=>(_.descricao||"").toLowerCase().includes(b)))}const m=p.length,y=(Number(f)-1)*Number(d);return{data:p.slice(y,y+Number(d)),total:m,page:Number(f),pageSize:Number(d)}}async function dR(e){await qe();const t=Se(),r=e.viagemId?fe?null:t.viagens.find(s=>String(s.id)===String(e.viagemId)):null,n={id:Fs(),viagemId:e.viagemId?String(e.viagemId):null,dataRegistro:e.dataRegistro||new Date().toISOString(),registradoPor:e.registradoPor||JSON.parse(localStorage.getItem("user")||"{}").username||"",caminhaoId:e.caminhaoId!=null?String(e.caminhaoId):r&&r.truck_id!=null?String(r.truck_id):null,pranchaId:e.pranchaId!=null?String(e.pranchaId):r&&r.prancha_id!=null?String(r.prancha_id):null,consumoLitros:Number(e.consumoLitros||0),valorLitro:Number(e.valorLitro||0),kmRodado:e.kmRodado!=null?Number(e.kmRodado):r?Number(Yr(r.km_start,r.km_end)):0,tempoHoras:e.tempoHoras!=null?Number(e.tempoHoras):r?Number(Pn(r.date,r.start_time,r.end_time,r.end_date)):0,diariaMotorista:Number(e.diariaMotorista||0),pedagios:Number(e.pedagios||0),manutencao:Number(e.manutencao||0),outrosCustos:Array.isArray(e.outrosCustos)?e.outrosCustos.map(s=>({descricao:s.descricao||"",valor:Number(s.valor||0)})):[],categoria:e.categoria||"veculos pesados",moeda:"BRL",anexos:Array.isArray(e.anexos)?e.anexos.map(s=>({id:Fs(),nome:s.nome||s.name||"arquivo",path:s.path||null,base64:s.base64||null,uploadedAt:new Date().toISOString()})):[],aprovado:!1,aprovadoPor:null,aprovadoEm:null,observacoes:e.observacoes||null,audit:[]},a=av(n),i={...n,...a};if(i.audit.push({when:new Date().toISOString(),who:n.registradoPor||"",what:"Custo criado"}),fe&&st()){const{data:s}=await fe.from("custos").insert([i]).select().single();return s||i}return t.custos.push(i),Te(t),cr({table:"custos",op:"insert",payload:i,localId:String(i.id)}),i}async function fR(e,t){if(await qe(),fe&&st()){const{data:f}=await fe.from("custos").select("*").eq("id",String(e)).single();if(!f)return null;const d={...f,...t,categoria:t.categoria||f.categoria||"veculos pesados",outrosCustos:Array.isArray(t.outrosCustos)?t.outrosCustos.map(b=>({descricao:b.descricao||"",valor:Number(b.valor||0)})):f.outrosCustos},h=av(d),p={...d,...h},m=JSON.parse(localStorage.getItem("user")||"{}").username||"",y=Object.keys(t).join(", ");p.audit=[...f.audit||[],{when:new Date().toISOString(),who:m,what:`Atualizado: ${y}`}];const{data:g}=await fe.from("custos").update(p).eq("id",String(e)).select().single();return g||p}const r=Se(),n=r.custos.findIndex(f=>String(f.id)===String(e));if(n<0)return null;const a=r.custos[n],i={...a,...t,categoria:t.categoria||a.categoria||"veculos pesados",outrosCustos:Array.isArray(t.outrosCustos)?t.outrosCustos.map(f=>({descricao:f.descricao||"",valor:Number(f.valor||0)})):a.outrosCustos},s=av(i),o={...i,...s},l=JSON.parse(localStorage.getItem("user")||"{}").username||"",c=Object.keys(t).join(", ");return o.audit=[...a.audit||[],{when:new Date().toISOString(),who:l,what:`Atualizado: ${c}`}],r.custos[n]=o,Te(r),cr({table:"custos",op:"update",payload:o,localId:String(e)}),o}async function ai(e){return await qe(),Se().documents.filter(r=>Number(r.truck_id)===Number(e)).map(r=>{const{status:n,days:a}=Jf(r.expiry_date);return{...r,expiry_status:n,days_to_expiry:a}})}async function hR(e,t,r="documento",n=null){await qe();const a=Se(),i=await new Promise((b,w)=>{const _=new FileReader;_.onload=()=>b(_.result),_.onerror=w,_.readAsDataURL(t)}),s=b=>{if(!b)return null;const w=String(b),_=w.match(/(20\d{2})\s*[-_\/.\u2013\u2014]\s*(0[1-9]|1[0-2])\s*[-_\/.\u2013\u2014]\s*(0[1-9]|[12]\d|3[01])/);if(_)return`${_[1]}-${_[2]}-${_[3]}`;const v=w.match(/(0[1-9]|[12]\d|3[01])\s*[-_\/.\u2013\u2014]\s*(0[1-9]|1[0-2])\s*[-_\/.\u2013\u2014]\s*(20\d{2})/);if(v)return`${v[3]}-${v[2]}-${v[1]}`;const x={janeiro:"01",fevereiro:"02",marco:"03",maro:"03",abril:"04",maio:"05",junho:"06",julho:"07",agosto:"08",setembro:"09",outubro:"10",novembro:"11",dezembro:"12"},k=o(w).match(/(0?[1-9]|[12]\d|3[01])\s*de\s*(janeiro|fevereiro|marco|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)\s*de\s*(20\d{2})/);if(k){const E=String(k[1]).padStart(2,"0"),A=x[k[2]];return`${k[3]}-${A}-${E}`}return null},o=b=>{try{return String(b).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch{return String(b).toLowerCase()}},l=b=>{if(!b)return null;const w=o(b),_=w.match(/(?:exercicio|licenciamento|ano).{0,60}?(20\d{2})/);if(_)return Number(_[1]);const v=w.match(/\b(20\d{2})\b/);return v?Number(v[1]):null},c=b=>{try{const[w,_,v]=String(b).split("-").map(Number),x=new Date(w,_-1,v);x.setFullYear(x.getFullYear()+1);const S=x.getFullYear(),k=String(x.getMonth()+1).padStart(2,"0"),E=String(x.getDate()).padStart(2,"0");return`${S}-${k}-${E}`}catch{return null}},f=b=>{const w=Number(b);return!w||w<1900?null:`${w+1}-10-31`},d=(()=>{const b=new Date,w=b.getFullYear(),_=String(b.getMonth()+1).padStart(2,"0"),v=String(b.getDate()).padStart(2,"0");return`${w}-${_}-${v}`})();let h=n||null;if(!h&&(h=s(t.name)||h,!h)){const w=l(t.name),_=f(w);String(r)==="documento"&&_?h=_:String(r)==="tacografo_certificado"&&(h=c(d)||null)}const m={id:Fs(),truck_id:Number(e),type:r,name:t.name,size:t.size||null,mime:t.type||null,uploaded_at:new Date().toISOString(),expiry_date:h||null,base64:i},y=Jf(m.expiry_date),g={...m,expiry_status:y.status,days_to_expiry:y.days};return a.documents.push(m),Te(a),g}async function pR(e){await qe();const t=Se();return t.documents=t.documents.filter(r=>String(r.id)!==String(e)),Te(t),{ok:!0}}async function lO(e,t){await qe();const r=Se(),n=r.documents.findIndex(a=>String(a.id)===String(e));return n<0?null:(r.documents[n]={...r.documents[n],expiry_date:t||null},Te(r),r.documents[n])}function mR(){const e=Gf(),[t,r]=O.useState(""),[n,a]=O.useState(""),[i,s]=O.useState(""),[o,l]=O.useState(""),[c,f]=O.useState(!1),[d,h]=O.useState(!1),[p,m]=O.useState(!1),[y,g]=O.useState(typeof navigator<"u"?navigator.onLine:!0),[b,w]=O.useState(!1);O.useEffect(()=>{const x=()=>{g(!1),w(!0),setTimeout(()=>w(!1),5e3)},S=()=>{g(!0),w(!1)};return window.addEventListener("offline",x),window.addEventListener("online",S),()=>{window.removeEventListener("offline",x),window.removeEventListener("online",S)}},[]);const _=async x=>{x.preventDefault(),s(""),l(""),m(!0);try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(t))){s("Informe um e-mail vlido");return}if(String(n||"").length<6){s("Senha deve ter ao menos 6 caracteres");return}if(c){if(!y){s("Sem conexo: criao de conta requer internet");return}const k=await QI(t,n);if(k&&k.requiresEmailConfirmation){l("Confirme seu e-mail para ativar a conta.");return}await Vx(t,n),e("/dashboard")}else await Vx(t,n),e("/dashboard")}catch(S){s((S==null?void 0:S.message)||(c?"Erro ao criar conta":"Credenciais invlidas"))}finally{m(!1)}},v=x=>{if(x.key!=="Enter")return;x.preventDefault();const S=x.currentTarget,k=Array.from(S.querySelectorAll("input, select, textarea, button")).filter(j=>!j.disabled&&j.tabIndex!==-1&&j.type!=="hidden"),E=k.indexOf(document.activeElement),A=k[E+1];A&&A.focus()};return u.jsx("div",{className:"min-h-screen gradient-bg flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[b&&u.jsxs("div",{className:"mb-4 rounded-xl bg-yellow-500 text-white px-4 py-3 shadow-lg animate-fade",children:[u.jsx("div",{className:"font-semibold",children:"Modo offline"}),u.jsx("div",{className:"text-sm",children:"Entrar usa dados locais; criar conta requer internet."})]}),u.jsxs("div",{className:"card p-6 md:p-8 shadow-2xl animate-fade",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-primary/10 text-primary flex items-center justify-center text-3xl",children:""}),u.jsx("h1",{className:"text-2xl font-bold text-secondary mt-4",children:"Gerenciamento de Viagens e Caminhes"}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:"Acesse com seu e-mail e senha"})]}),u.jsxs("form",{onSubmit:_,onKeyDown:v,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"E-mail"}),u.jsx("input",{className:`input transition focus:ring-2 ${t&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(t))?"ring-red-500 border-red-500":""}`,placeholder:"seu@email.com",value:t,onChange:x=>r(x.target.value),autoComplete:"email",inputMode:"email"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:d?"text":"password",className:`input pr-12 transition focus:ring-2 ${n&&n.length<6?"ring-red-500 border-red-500":""}`,placeholder:"",value:n,onChange:x=>a(x.target.value),autoComplete:"current-password"}),u.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",onClick:()=>h(!d),title:d?"Ocultar":"Mostrar",children:d?"":""})]}),u.jsx("div",{className:"text-xs text-slate-500",children:"Mnimo de 6 caracteres"})]}),(i||o)&&u.jsx("div",{className:`rounded-xl px-4 py-3 ${i?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:i||o}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:`btn btn-primary flex-1 ${p?"opacity-70 cursor-not-allowed":""}`,disabled:p,children:p?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white/70 border-t-transparent rounded-full animate-spin"}),c?"Criando...":"Entrando..."]}):c?"Criar e entrar":"Entrar"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>f(!c),children:c?"J tenho conta":"Criar conta"})]})]})]})]})})}var iv=function(e,t){return iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},iv(e,t)};function cO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sd=function(){return Sd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sd.apply(this,arguments)};function bo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function uO(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(a<3?s(i):a>3?s(t,r,i):s(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function dO(e,t){return function(r,n){t(r,n,e)}}function fO(e,t,r,n,a,i){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,f=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,p=r.length-1;p>=0;p--){var m={};for(var y in n)m[y]=y==="access"?{}:n[y];for(var y in n.access)m.access[y]=n.access[y];m.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(b||null))};var g=(0,r[p])(o==="accessor"?{get:f.get,set:f.set}:f[l],m);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(f.get=d),(d=s(g.set))&&(f.set=d),(d=s(g.init))&&a.unshift(d)}else(d=s(g))&&(o==="field"?a.unshift(d):f[l]=d)}c&&Object.defineProperty(c,n.name,f),h=!0}function hO(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function pO(e){return typeof e=="symbol"?e:"".concat(e)}function mO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function vO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ie(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{c(n.next(f))}catch(d){s(d)}}function l(f){try{c(n.throw(f))}catch(d){s(d)}}function c(f){f.done?i(f.value):a(f.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}function gO(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Zf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function yO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Zf(t,e,r)}function jd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function bO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wy(arguments[t]));return e}function xO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}function wO(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function zs(e){return this instanceof zs?(this.v=e,this):new zs(e)}function _O(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),a[Symbol.asyncIterator]=function(){return this},a;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function o(p,m){n[p]&&(a[p]=function(y){return new Promise(function(g,b){i.push([p,y,g,b])>1||l(p,y)})},m&&(a[p]=m(a[p])))}function l(p,m){try{c(n[p](m))}catch(y){h(i[0][3],y)}}function c(p){p.value instanceof zs?Promise.resolve(p.value.v).then(f,d):h(i[0][2],p)}function f(p){l("next",p)}function d(p){l("throw",p)}function h(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}function SO(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(s){return(r=!r)?{value:zs(e[a](s)),done:!1}:i?i(s):s}:i}}function jO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof jd=="function"?jd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(c){i({value:c,done:o})},s)}}function kO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var vR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},sv=function(e){return sv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sv(e)};function NO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sv(e),n=0;n<r.length;n++)r[n]!=="default"&&Zf(t,e,r[n]);return vR(t,e),t}function OO(e){return e&&e.__esModule?e:{default:e}}function EO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function AO(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function PO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function CO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var gR=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function TO(e){function t(i){e.error=e.hasError?new gR(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(s){return t(s),a()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function $O(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,s){return n?t?".jsx":".js":a&&(!i||!s)?r:a+i+"."+s.toLowerCase()+"js"}):e}const yR={__extends:cO,__assign:Sd,__rest:bo,__decorate:uO,__param:dO,__esDecorate:fO,__runInitializers:hO,__propKey:pO,__setFunctionName:mO,__metadata:vO,__awaiter:ie,__generator:gO,__createBinding:Zf,__exportStar:yO,__values:jd,__read:Wy,__spread:bO,__spreadArrays:xO,__spreadArray:wO,__await:zs,__asyncGenerator:_O,__asyncDelegator:SO,__asyncValues:jO,__makeTemplateObject:kO,__importStar:NO,__importDefault:OO,__classPrivateFieldGet:EO,__classPrivateFieldSet:AO,__classPrivateFieldIn:PO,__addDisposableResource:CO,__disposeResources:TO,__rewriteRelativeImportExtension:$O},bR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:CO,get __assign(){return Sd},__asyncDelegator:SO,__asyncGenerator:_O,__asyncValues:jO,__await:zs,__awaiter:ie,__classPrivateFieldGet:EO,__classPrivateFieldIn:PO,__classPrivateFieldSet:AO,__createBinding:Zf,__decorate:uO,__disposeResources:TO,__esDecorate:fO,__exportStar:yO,__extends:cO,__generator:gO,__importDefault:OO,__importStar:NO,__makeTemplateObject:kO,__metadata:vO,__param:dO,__propKey:pO,__read:Wy,__rest:bo,__rewriteRelativeImportExtension:$O,__runInitializers:hO,__setFunctionName:mO,__spread:bO,__spreadArray:wO,__spreadArrays:xO,__values:jd,default:yR},Symbol.toStringTag,{value:"Module"})),xR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Vy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wR extends Vy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hx extends Vy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gx extends Vy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ov;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ov||(ov={}));class _R{constructor(t,{headers:r={},customFetch:n,region:a=ov.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=xR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ie(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:o,method:l,body:c,signal:f,timeout:d}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(h["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(h["Content-Type"]="application/json",y=JSON.stringify(c)):y=c;let g=f;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),f?(g=s.signal,f.addEventListener("abort",()=>s.abort())):g=s.signal);const b=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:g}).catch(x=>{throw new wR(x)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new Hx(b);if(!b.ok)throw new Gx(b);let _=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return _==="application/json"?v=yield b.json():_==="application/octet-stream"||_==="application/pdf"?v=yield b.blob():_==="text/event-stream"?v=b:_==="multipart/form-data"?v=yield b.formData():v=yield b.text(),{data:v,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof Gx||o instanceof Hx?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var rr={};const xo=gT(bR);var hu={},pu={},mu={},vu={},gu={},yu={},Yx;function IO(){if(Yx)return yu;Yx=1,Object.defineProperty(yu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yu.default=e,yu}var Jx;function RO(){if(Jx)return gu;Jx=1,Object.defineProperty(gu,"__esModule",{value:!0});const t=xo.__importDefault(IO());class r{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,f,d,h;let p=null,m=null,y=null,g=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&v&&v.length>1&&(y=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,g=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await l.text();try{p=JSON.parse(_),Array.isArray(p)&&l.status===404&&(m=[],p=null,g=200,b="OK")}catch{l.status===404&&_===""?(g=204,b="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,g=200,b="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:m,count:y,status:g,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,f,d,h,p,m;let y="";const g=l==null?void 0:l.cause;if(g){const b=(c=g==null?void 0:g.message)!==null&&c!==void 0?c:"",w=(f=g==null?void 0:g.code)!==null&&f!==void 0?f:"";y=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,y+=`

Caused by: ${(h=g==null?void 0:g.name)!==null&&h!==void 0?h:"Error"}: ${b}`,w&&(y+=` (${w})`),g!=null&&g.stack&&(y+=`
${g.stack}`)}else y=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return gu.default=r,gu}var Xx;function MO(){if(Xx)return vu;Xx=1,Object.defineProperty(vu,"__esModule",{value:!0});const t=xo.__importDefault(RO());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var f;const d=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return vu.default=r,vu}var Qx;function Ky(){if(Qx)return mu;Qx=1,Object.defineProperty(mu,"__esModule",{value:!0});const t=xo.__importDefault(MO()),r=new RegExp("[,()]");class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}regexMatch(i,s){return this.url.searchParams.append(i,`match.${s}`),this}regexIMatch(i,s){return this.url.searchParams.append(i,`imatch.${s}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}isDistinct(i,s){return this.url.searchParams.append(i,`isdistinct.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${f}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return mu.default=n,mu}var Zx;function DO(){if(Zx)return pu;Zx=1,Object.defineProperty(pu,"__esModule",{value:!0});const t=xo.__importDefault(Ky());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(a,i){const{head:s=!1,count:o}=i??{},l=s?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var o;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const c=a.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(a,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return pu.default=r,pu}var ew;function SR(){if(ew)return hu;ew=1,Object.defineProperty(hu,"__esModule",{value:!0});const e=xo,t=e.__importDefault(DO()),r=e.__importDefault(Ky());class n{constructor(i,{headers:s={},schema:o,fetch:l}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:l=!1,count:c}={}){var f;let d;const h=new URL(`${this.url}/rpc/${i}`);let p;o||l?(d=o?"HEAD":"GET",Object.entries(s).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{h.searchParams.append(y,g)})):(d="POST",p=s);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return hu.default=n,hu}Object.defineProperty(rr,"__esModule",{value:!0});var LO=rr.PostgrestError=GO=rr.PostgrestBuilder=KO=rr.PostgrestTransformBuilder=WO=rr.PostgrestFilterBuilder=zO=rr.PostgrestQueryBuilder=FO=rr.PostgrestClient=void 0;const wo=xo,BO=wo.__importDefault(SR());var FO=rr.PostgrestClient=BO.default;const UO=wo.__importDefault(DO());var zO=rr.PostgrestQueryBuilder=UO.default;const qO=wo.__importDefault(Ky());var WO=rr.PostgrestFilterBuilder=qO.default;const VO=wo.__importDefault(MO());var KO=rr.PostgrestTransformBuilder=VO.default;const HO=wo.__importDefault(RO());var GO=rr.PostgrestBuilder=HO.default;const YO=wo.__importDefault(IO());LO=rr.PostgrestError=YO.default;var JO=rr.default={PostgrestClient:BO.default,PostgrestQueryBuilder:UO.default,PostgrestFilterBuilder:qO.default,PostgrestTransformBuilder:VO.default,PostgrestBuilder:HO.default,PostgrestError:YO.default};const jR=Aj({__proto__:null,get PostgrestBuilder(){return GO},get PostgrestClient(){return FO},get PostgrestError(){return LO},get PostgrestFilterBuilder(){return WO},get PostgrestQueryBuilder(){return zO},get PostgrestTransformBuilder(){return KO},default:JO},[rr]),{PostgrestClient:kR,PostgrestQueryBuilder:nse,PostgrestFilterBuilder:ase,PostgrestTransformBuilder:ise,PostgrestBuilder:sse,PostgrestError:ose}=JO||jR;class NR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OR="2.86.0",ER=`realtime-js/${OR}`,XO="1.0.0",AR="2.0.0",tw=XO,lv=1e4,PR=1e3,CR=100;var ci;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ci||(ci={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ln||(ln={}));var cv;(function(e){e.websocket="websocket"})(cv||(cv={}));var ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ui||(ui={}));class TR{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),y=0;m.setUint8(y++,this.KINDS.userBroadcastPush),m.setUint8(y++,l.length),m.setUint8(y++,o.length),m.setUint8(y++,s.length),m.setUint8(y++,c.length),m.setUint8(y++,d.length),m.setUint8(y++,r),Array.from(l,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(s,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(y++,b.charCodeAt(0))),Array.from(d,b=>m.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,o,l]=n;return r({join_ref:a,ref:i,topic:s,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const f=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+s));l=l+s;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:f,payload:p};return s>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class QO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const rw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=$R(s,e,t,a),i),{}):{}},$R=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?ZO(i,s):uv(s)},ZO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DR(t,r)}switch(e){case Ye.bool:return IR(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return RR(t);case Ye.json:case Ye.jsonb:return MR(t);case Ye.timestamp:return LR(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return uv(t);default:return uv(t)}},uv=e=>e,IR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},RR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DR=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>ZO(t,o))}return e},LR=e=>typeof e=="string"?e.replace(" ","T"):e,eE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kp{constructor(t,r,n={},a=lv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nw||(nw={}));class gl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gl.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=gl.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=gl.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(c,f)=>{s[c]||(l[c]=f)}),this.map(s,(c,f)=>{const d=i[c];if(d){const h=f.map(g=>g.presence_ref),p=d.map(g=>g.presence_ref),m=f.filter(g=>p.indexOf(g.presence_ref)<0),y=d.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(o[c]=m),y.length>0&&(l[c]=y)}else o[c]=f}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const f=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),f.length>0){const d=t[o].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,f,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const f=l.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var aw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(aw||(aw={}));var yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yl||(yl={}));var Un;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Hy{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kp(this,ln.join,this.params,this.timeout),this.rejoinTimer=new QO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new gl(this),this.broadcastEndpointURL=eE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],f=!!this.bindings[yl.PRESENCE]&&this.bindings[yl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Un.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Un.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,b=[];for(let w=0;w<g;w++){const _=y[w],{filter:{event:v,schema:x,table:S,filter:k}}=_,E=p&&p[w];if(E&&E.event===v&&E.schema===x&&E.table===S&&E.filter===k)b.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Pt.errored,t==null||t(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Un.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pt.errored,t==null||t(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pt.joined&&t===yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new kp(this,ln.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new kp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>CR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:f}=ln;if(n&&[o,l,c,f].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,y,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(y=p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var m,y,g,b,w,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const v=p.id,x=(m=p.filter)===null||m===void 0?void 0:m.event;return v&&((y=r.ids)===null||y===void 0?void 0:y.includes(v))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const v=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return v==="*"||v===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:g,commit_timestamp:b,type:w,errors:_}=m;h=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rw(t.columns,t.old_record)),r}}const Np=()=>{},bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BR=[1e3,2e3,5e3,1e4],FR=1e4,UR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zR{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lv,this.transport=null,this.heartbeatIntervalMs=bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.vsn=tw,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new TR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${cv.websocket}`,this.httpEndpoint=eE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return ui.Connecting;case ci.open:return ui.Open;case ci.closing:return ui.Closing;default:return ui.Closed}}isConnected(){return this.connectionState()===ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Hy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(PR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,o=s?`(${s})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ci.open||this.conn.readyState===ci.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:ER};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new QO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,o,l,c,f,d,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:lv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:bu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Np,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:tw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>BR[m-1]||FR,this.vsn){case XO:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(m,y)=>y(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,y)=>y(JSON.parse(m));break;case AR:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qR extends eh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dv extends eh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WR=()=>Response,fv=e=>{if(Array.isArray(e))return e.map(r=>fv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=fv(n)}),t},VR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KR=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Op=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HR=(e,t,r)=>ie(void 0,void 0,void 0,function*(){const n=yield WR();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new qR(Op(a),i,s))}).catch(a=>{t(new dv(Op(a),a))}):t(new dv(Op(e),e))}),GR=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(VR(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Dc(e,t,r,n,a,i){return ie(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,GR(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>HR(l,o,n))})})}function Vl(e,t,r,n){return ie(this,void 0,void 0,function*(){return Dc(e,"GET",t,r,n)})}function sn(e,t,r,n,a){return ie(this,void 0,void 0,function*(){return Dc(e,"POST",t,n,a,r)})}function hv(e,t,r,n,a){return ie(this,void 0,void 0,function*(){return Dc(e,"PUT",t,n,a,r)})}function YR(e,t,r,n){return ie(this,void 0,void 0,function*(){return Dc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Yy(e,t,r,n,a){return ie(this,void 0,void 0,function*(){return Dc(e,"DELETE",t,n,a,r)})}class JR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var tE;class XR{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[tE]="BlobDownloadBuilder",this.promise=null}asStream(){return new JR(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}tE=Symbol.toStringTag;const QR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZR{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ie(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},iw),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),d=yield(t=="PUT"?hv:sn)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:iw.upsert},a),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield hv(this.fetch,o.toString(),l,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(dt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield sn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new eh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ie(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ie(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield sn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ie(this,void 0,void 0,function*(){try{const a=yield sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),l=()=>Vl(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new XR(l,this.shouldThrowOnError)}info(t){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield YR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof dv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return ie(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QR),r),{prefix:t||""});return{data:yield sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}listV2(t,r){return ie(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rE="2.86.0",nE={"X-Client-Info":`storage-js/${rE}`};class eM{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nE),r),this.fetch=Gy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Vl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return ie(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ie(this,void 0,void 0,function*(){try{return{data:yield hv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Kl=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tM(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function rM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const o=tM(e.baseUrl,n,a),l=await rM(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...s},body:i?JSON.stringify(i):void 0}),f=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&f?JSON.parse(f):f;if(!c.ok){const p=d?h:void 0,m=p==null?void 0:p.error;throw new Kl((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function xu(e){return e.join("")}var aM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xu(e.namespace)}`}),!0}catch(t){if(t instanceof Kl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Kl&&r.status===409)return;throw r}}};function Ki(e){return e.join("")}var iM=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ki(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Kl&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Kl&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},sM=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nM({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aM(this.client,t),this.tableOps=new iM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class oM{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nE),r),this.fetch=Gy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Vl(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Yy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}from(t){if(!KR(t))throw new eh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new sM({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ie(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Jy={"X-Client-Info":`storage-js/${rE}`,"Content-Type":"application/json"};class aE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ep extends aE{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lM extends aE{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var sw;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sw||(sw={}));const Xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ow=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uM=(e,t,r)=>ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new Ep(ow(s),a,o))}).catch(()=>{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new Ep(o,a,s))});else{const s=a+"",o=i.statusText||`HTTP ${a} error`;t(new Ep(o,a,s))}}else t(new lM(ow(e),e))}),dM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(cM(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function fM(e,t,r,n,a,i){return ie(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,dM(t,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>uM(l,o,n))})})}function Nr(e,t,r,n,a){return ie(this,void 0,void 0,function*(){return fM(e,"POST",t,n,a,r)})}class hM{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),r),this.fetch=Xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}}class pM{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),r),this.fetch=Xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Nr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}class mM{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),r),this.fetch=Xy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(t={}){try{return{data:yield Nr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}class vM extends mM{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new gM(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ie(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ie(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ie(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ie(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class gM extends hM{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new yM(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class yM extends pM{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bM extends eM{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new ZR(this.url,this.headers,t,this.fetch)}get vectors(){return new vM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oM(this.url+"/iceberg",this.headers,this.fetch)}}const xM="2.86.0";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const wM={"X-Client-Info":`supabase-js-${il}/${xM}`},_M={headers:wM},SM={schema:"public"},jM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kM={},NM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OM=()=>Headers,EM=(e,t,r)=>{const n=NM(r),a=OM();return async(i,s)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))}};function AM(e){return e.endsWith("/")?e:e+"/"}function PM(e,t){var r,n;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function CM(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iE="2.86.0",rs=30*1e3,pv=3,Ap=pv*rs,TM="http://localhost:9999",$M="supabase.auth.token",IM={"X-Client-Info":`gotrue-js/${iE}`},mv="X-Supabase-Api-Version",sE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MM=10*60*1e3;class Hl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DM extends Hl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LM(e){return ce(e)&&e.name==="AuthApiError"}class di extends Hl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Va extends Hl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class br extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BM(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Hi extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wu extends Va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _u extends Va{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FM(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class lw extends Va{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends Va{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pp(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class cw extends Va{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gv extends Va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uw=` 	
\r=`.split(""),UM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uw.length;t+=1)e[uw[t].charCodeAt(0)]=-2;for(let t=0;t<kd.length;t+=1)e[kd[t].charCodeAt(0)]=t;return e})();function dw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kd[n]),t.queuedBits-=6}}function oE(e,t,r){const n=UM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fw(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{WM(s,n,r)};for(let s=0;s<e.length;s+=1)oE(e.charCodeAt(s),a,i);return t.join("")}function zM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zM(n,t)}}function WM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function As(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)oE(e.charCodeAt(a),r,n);return new Uint8Array(t)}function VM(e){const t=[];return qM(e,r=>t.push(r)),new Uint8Array(t)}function vi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>dw(a,r,n)),dw(null,r,n),t.join("")}function KM(e){return Math.round(Date.now()/1e3)+e}function HM(){return Symbol("auth-callback")}const qt=()=>typeof window<"u"&&typeof document<"u",Xa={tested:!1,writable:!1},lE=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xa.tested)return Xa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xa.tested=!0,Xa.writable=!0}catch{Xa.tested=!0,Xa.writable=!1}return Xa.writable};function GM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const cE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ns=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ga=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}th.promiseConstructor=Promise;function Cp(e){const t=e.split(".");if(t.length!==3)throw new gv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!RM.test(t[n]))throw new gv("JWT not in base64url format");return{header:JSON.parse(fw(t[0])),payload:JSON.parse(fw(t[1])),signature:As(t[2]),raw:{header:t[0],payload:t[1]}}}async function JM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XM(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function QM(e){return("0"+e.toString(16)).substr(-2)}function ZM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,QM).join("")}async function eD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function tD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gi(e,t,r=!1){const n=ZM();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ns(e,`${t}-code-verifier`,a);const i=await tD(n);return[i,n===i?"plain":"s256"]}const rD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nD(e){const t=e.headers.get(mv);if(!t||!t.match(rD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yi(e){if(!sD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oD(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function hw(e){return JSON.parse(JSON.stringify(e))}const ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lD=[502,503,504];async function pw(e){var t;if(!YM(e))throw new vv(ii(e),0);if(lD.includes(e.status))throw new vv(ii(e),e.status);let r;try{r=await e.json()}catch(i){throw new di(ii(i),i)}let n;const a=nD(e);if(a&&a.getTime()>=sE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cw(ii(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new cw(ii(r),e.status,r.weak_password.reasons);throw new DM(ii(r),e.status||500,n)}const cD=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ge(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[mv]||(i[mv]=sE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await uD(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function uD(e,t,r,n,a,i){const s=cD(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new vv(ii(l),0)}if(o.ok||await pw(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await pw(l)}}function nn(e){var t;let r=null;hD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mw(e){const t=nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dD(e){return{data:e,error:null}}function fD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=bo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function vw(e){return e}function hD(e){return e.access_token&&e.refresh_token&&e.expires_in}const $p=["global","local","others"];class pD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$p[0]){if($p.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$p.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sa})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sa})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:vw});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Yi(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sa})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yi(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sa})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yi(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sa})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yi(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yi(t.userId),Yi(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:vw});if(f.error)throw f.error;const d=await f.json(),h=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ji={debug:!!(globalThis&&lE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mD extends uE{}async function vD(e,t,r){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ji.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yD(e){return parseInt(e,16)}function bD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xD(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:l,resources:c,scheme:f,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=dE(e.address),m=f?`${f}://${n}`:n,y=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${y}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}b+=w}return`${g}
${b}`}class kt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Nd extends kt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wD({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(fE(s)){if(i.rp.id!==s)return new kt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _D({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fE(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class SD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jD=new SD;function kD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=bo(e,["challenge","user","excludeCredentials"]),i=As(t).buffer,s=Object.assign(Object.assign({},r),{id:As(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:As(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function ND(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=bo(e,["challenge","allowCredentials"]),a=As(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:As(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function OD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vi(new Uint8Array(e.response.attestationObject)),clientDataJSON:vi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ED(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vi(new Uint8Array(a.authenticatorData)),clientDataJSON:vi(new Uint8Array(a.clientDataJSON)),signature:vi(new Uint8Array(a.signature)),userHandle:a.userHandle?vi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yw(){var e,t;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",t)}:{data:null,error:new Nd("Empty credential response",t)}}catch(t){return{data:null,error:wD({error:t,options:e})}}}async function PD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nd("Browser returned unexpected credential type",t)}:{data:null,error:new Nd("Empty credential response",t)}}catch(t){return{data:null,error:_D({error:t,options:e})}}}const CD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Od(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const o=n[i];t(o)?n[i]=Od(o,s):n[i]=Od(s)}else n[i]=s}return n}function $D(e,t){return Od(CD,e,t||{})}function ID(e,t){return Od(TD,e,t||{})}class RD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const l=a??jD.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=$D(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:d}=await AD({publicKey:c,signal:l});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}case"request":{const c=ID(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:d}=await PD(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:d}}}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Hl("rpId is required for WebAuthn authentication")};try{if(!yw())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Hl("rpId is required for WebAuthn registration")};try{if(!yw())return{data:null,error:new di("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return ce(s)?{data:null,error:s}:{data:null,error:new di("Unexpected error in register",s)}}}}gD();const MD={url:TM,storageKey:$M,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function bw(e,t,r){return await r()}const Xi={};class Gl{get jwks(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},MD),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Gl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Gl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&qt()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cE(i.fetch),this.lock=i.lock||bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vD:this.lock=bw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gw(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(qt()&&(r=GM(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),qt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FM(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?this._returnResult({error:r}):this._returnResult({error:new di("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:nn}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Gi(this.storage,this.storageKey)),i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:nn})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nn})}else throw new wu("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mw})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mw})}else throw new wu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Hi;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,o,l,c,f,d,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:g,statement:b,options:w}=t;let _;if(qt())if(typeof g=="object")_=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")_=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const v=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href),x=await _.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=dE(x[0]);let k=(n=w==null?void 0:w.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await _.request({method:"eth_chainId"});k=yD(A)}const E={domain:v.host,address:S,statement:b,uri:v.href,version:"1",chainId:k,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=xD(E),m=await _.request({method:"personal_sign",params:[bD(p),S]})}try{const{data:y,error:g}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:nn});if(g)throw g;if(!y||!y.session||!y.user){const b=new Hi;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(ce(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,s,o,l,c,f,d,h,p;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:g,wallet:b,statement:w,options:_}=t;let v;if(qt())if(typeof b=="object")v=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))v=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const x=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const S=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),w?{statement:w}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)m=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${x.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(a=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await v.signMessage(new TextEncoder().encode(m),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:g,error:b}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:vi(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nn});if(b)throw b;if(!g||!g.session||!g.user){const w=new Hi;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(ce(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:nn});if(await ga(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new Hi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(ce(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new Hi;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Gi(this.storage,this.storageKey));const{error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new wu("You must provide either an email or phone number.")}catch(o){if(ce(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:nn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Gi(this.storage,this.storageKey));const c=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:dD});return!((i=c.data)===null||i===void 0)&&i.url&&qt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(ce(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new br;const{error:a}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ce(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new wu("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ap:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Qa(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Tp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=oD(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sa}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Sa})})}catch(r){if(ce(r))return BM(r)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new br;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Gi(this.storage,this.storageKey));const{data:c,error:f}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Sa});if(f)throw f;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(ce(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new br;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Cp(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ce(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new br;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ce(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!qt())throw new _u("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _u(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _u("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lw("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!s||!c)throw new _u("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let h=f+d;l&&(h=parseInt(l));const p=h-f;p*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;f-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,f):f-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,f);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(ce(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(LM(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=HM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gi(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ce(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(a)throw a;return qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ce(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:o,token:l,access_token:c,nonce:f}=t,d=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:nn}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Hi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(ce(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XM(async a=>(a>0&&await JM(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&Pp(i)&&Date.now()+s-n<rs})}catch(n){if(this._debug(r,"error",n),ce(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Qa(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await ns(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Tp()}else if(a&&!a.user&&!a.user){const s=await Qa(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await ga(this.storage,this.storageKey+"-user"),await ns(this.storage,this.storageKey,a)):a.user=Tp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ap;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ap}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),Pp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(a.access_token);!o&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new th;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new br;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),ce(i)){const s={data:null,error:i};return Pp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ns(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=hw(a);await ns(this.storage,this.storageKey,i)}else{const a=hw(r);await ns(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rs}ms, refresh threshold is ${pv} ticks`),a<=pv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Gi(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OD(t.webauthn.credential_response):ED(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:kD(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ND(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cp(n.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new br})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new br});const s=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&qt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new br});const s=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&qt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new br})})}catch(t){if(ce(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new br})})}catch(r){if(ce(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+MM>a)return n;const{data:i,error:s}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:o,payload:l}}=Cp(n);r!=null&&r.allowExpired||aD(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const f=iD(a.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,s,VM(`${o}.${l}`)))throw new gv("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(ce(n))return this._returnResult({data:null,error:n});throw n}}}Gl.nextInstanceID={};const DD=Gl;class LD extends DD{constructor(t){super(t)}}class BD{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=CM(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:SM,realtime:kM,auth:Object.assign(Object.assign({},jM),{storageKey:l}),global:_M},f=PM(n??{},c);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=EM(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new kR(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new bM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _R(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:o,lock:l,debug:c,throwOnError:f},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LD({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:o,lock:l,debug:c,throwOnError:f,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FD=(e,t,r)=>new BD(e,t,r);function UD(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zD="https://ybpxbuzzwgtywbiticxv.supabase.co",qD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlicHhidXp6d2d0eXdiaXRpY3h2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2NTI5NjIsImV4cCI6MjA4MDIyODk2Mn0.5ScweaeYxPmSGOYMBF_AqMLu10LbCi9nl1fDEX5y_-o",Re=FD(zD,qD),hE=Object.freeze(Object.defineProperty({__proto__:null,supabase:Re},Symbol.toStringTag,{value:"Module"}));function pE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=pE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=pE(e))&&(n&&(n+=" "),n+=t);return n}var WD=Array.isArray,gr=WD,VD=typeof Yc=="object"&&Yc&&Yc.Object===Object&&Yc,mE=VD,KD=mE,HD=typeof self=="object"&&self&&self.Object===Object&&self,GD=KD||HD||Function("return this")(),$n=GD,YD=$n,JD=YD.Symbol,Lc=JD,xw=Lc,vE=Object.prototype,XD=vE.hasOwnProperty,QD=vE.toString,Vo=xw?xw.toStringTag:void 0;function ZD(e){var t=XD.call(e,Vo),r=e[Vo];try{e[Vo]=void 0;var n=!0}catch{}var a=QD.call(e);return n&&(t?e[Vo]=r:delete e[Vo]),a}var eL=ZD,tL=Object.prototype,rL=tL.toString;function nL(e){return rL.call(e)}var aL=nL,ww=Lc,iL=eL,sL=aL,oL="[object Null]",lL="[object Undefined]",_w=ww?ww.toStringTag:void 0;function cL(e){return e==null?e===void 0?lL:oL:_w&&_w in Object(e)?iL(e):sL(e)}var la=cL;function uL(e){return e!=null&&typeof e=="object"}var ca=uL,dL=la,fL=ca,hL="[object Symbol]";function pL(e){return typeof e=="symbol"||fL(e)&&dL(e)==hL}var _o=pL,mL=gr,vL=_o,gL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yL=/^\w*$/;function bL(e,t){if(mL(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vL(e)?!0:yL.test(e)||!gL.test(e)||t!=null&&e in Object(t)}var Qy=bL;function xL(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ka=xL;const So=ze(Ka);var wL=la,_L=Ka,SL="[object AsyncFunction]",jL="[object Function]",kL="[object GeneratorFunction]",NL="[object Proxy]";function OL(e){if(!_L(e))return!1;var t=wL(e);return t==jL||t==kL||t==SL||t==NL}var Zy=OL;const xe=ze(Zy);var EL=$n,AL=EL["__core-js_shared__"],PL=AL,Ip=PL,Sw=function(){var e=/[^.]+$/.exec(Ip&&Ip.keys&&Ip.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function CL(e){return!!Sw&&Sw in e}var TL=CL,$L=Function.prototype,IL=$L.toString;function RL(e){if(e!=null){try{return IL.call(e)}catch{}try{return e+""}catch{}}return""}var gE=RL,ML=Zy,DL=TL,LL=Ka,BL=gE,FL=/[\\^$.*+?()[\]{}|]/g,UL=/^\[object .+?Constructor\]$/,zL=Function.prototype,qL=Object.prototype,WL=zL.toString,VL=qL.hasOwnProperty,KL=RegExp("^"+WL.call(VL).replace(FL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HL(e){if(!LL(e)||DL(e))return!1;var t=ML(e)?KL:UL;return t.test(BL(e))}var GL=HL;function YL(e,t){return e==null?void 0:e[t]}var JL=YL,XL=GL,QL=JL;function ZL(e,t){var r=QL(e,t);return XL(r)?r:void 0}var Fi=ZL,e4=Fi,t4=e4(Object,"create"),rh=t4,jw=rh;function r4(){this.__data__=jw?jw(null):{},this.size=0}var n4=r4;function a4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var i4=a4,s4=rh,o4="__lodash_hash_undefined__",l4=Object.prototype,c4=l4.hasOwnProperty;function u4(e){var t=this.__data__;if(s4){var r=t[e];return r===o4?void 0:r}return c4.call(t,e)?t[e]:void 0}var d4=u4,f4=rh,h4=Object.prototype,p4=h4.hasOwnProperty;function m4(e){var t=this.__data__;return f4?t[e]!==void 0:p4.call(t,e)}var v4=m4,g4=rh,y4="__lodash_hash_undefined__";function b4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=g4&&t===void 0?y4:t,this}var x4=b4,w4=n4,_4=i4,S4=d4,j4=v4,k4=x4;function jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jo.prototype.clear=w4;jo.prototype.delete=_4;jo.prototype.get=S4;jo.prototype.has=j4;jo.prototype.set=k4;var N4=jo;function O4(){this.__data__=[],this.size=0}var E4=O4;function A4(e,t){return e===t||e!==e&&t!==t}var e0=A4,P4=e0;function C4(e,t){for(var r=e.length;r--;)if(P4(e[r][0],t))return r;return-1}var nh=C4,T4=nh,$4=Array.prototype,I4=$4.splice;function R4(e){var t=this.__data__,r=T4(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():I4.call(t,r,1),--this.size,!0}var M4=R4,D4=nh;function L4(e){var t=this.__data__,r=D4(t,e);return r<0?void 0:t[r][1]}var B4=L4,F4=nh;function U4(e){return F4(this.__data__,e)>-1}var z4=U4,q4=nh;function W4(e,t){var r=this.__data__,n=q4(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var V4=W4,K4=E4,H4=M4,G4=B4,Y4=z4,J4=V4;function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=K4;ko.prototype.delete=H4;ko.prototype.get=G4;ko.prototype.has=Y4;ko.prototype.set=J4;var ah=ko,X4=Fi,Q4=$n,Z4=X4(Q4,"Map"),t0=Z4,kw=N4,e3=ah,t3=t0;function r3(){this.size=0,this.__data__={hash:new kw,map:new(t3||e3),string:new kw}}var n3=r3;function a3(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var i3=a3,s3=i3;function o3(e,t){var r=e.__data__;return s3(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ih=o3,l3=ih;function c3(e){var t=l3(this,e).delete(e);return this.size-=t?1:0,t}var u3=c3,d3=ih;function f3(e){return d3(this,e).get(e)}var h3=f3,p3=ih;function m3(e){return p3(this,e).has(e)}var v3=m3,g3=ih;function y3(e,t){var r=g3(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var b3=y3,x3=n3,w3=u3,_3=h3,S3=v3,j3=b3;function No(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}No.prototype.clear=x3;No.prototype.delete=w3;No.prototype.get=_3;No.prototype.has=S3;No.prototype.set=j3;var r0=No,yE=r0,k3="Expected a function";function n0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(k3);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(n0.Cache||yE),r}n0.Cache=yE;var bE=n0;const N3=ze(bE);var O3=bE,E3=500;function A3(e){var t=O3(e,function(n){return r.size===E3&&r.clear(),n}),r=t.cache;return t}var P3=A3,C3=P3,T3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$3=/\\(\\)?/g,I3=C3(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(T3,function(r,n,a,i){t.push(a?i.replace($3,"$1"):n||r)}),t}),R3=I3;function M3(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var a0=M3,Nw=Lc,D3=a0,L3=gr,B3=_o,Ow=Nw?Nw.prototype:void 0,Ew=Ow?Ow.toString:void 0;function xE(e){if(typeof e=="string")return e;if(L3(e))return D3(e,xE)+"";if(B3(e))return Ew?Ew.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var F3=xE,U3=F3;function z3(e){return e==null?"":U3(e)}var wE=z3,q3=gr,W3=Qy,V3=R3,K3=wE;function H3(e,t){return q3(e)?e:W3(e,t)?[e]:V3(K3(e))}var _E=H3,G3=_o;function Y3(e){if(typeof e=="string"||G3(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var sh=Y3,J3=_E,X3=sh;function Q3(e,t){t=J3(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[X3(t[r++])];return r&&r==n?e:void 0}var i0=Q3,Z3=i0;function eB(e,t,r){var n=e==null?void 0:Z3(e,t);return n===void 0?r:n}var SE=eB;const Pr=ze(SE);function tB(e){return e==null}var rB=tB;const _e=ze(rB);var nB=la,aB=gr,iB=ca,sB="[object String]";function oB(e){return typeof e=="string"||!aB(e)&&iB(e)&&nB(e)==sB}var lB=oB;const Pi=ze(lB);var jE={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),o0=Symbol.for("react.portal"),oh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),dh=Symbol.for("react.context"),cB=Symbol.for("react.server_context"),fh=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),vh=Symbol.for("react.lazy"),uB=Symbol.for("react.offscreen"),kE;kE=Symbol.for("react.module.reference");function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s0:switch(e=e.type,e){case oh:case ch:case lh:case hh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case cB:case dh:case fh:case vh:case mh:case uh:return e;default:return t}}case o0:return t}}}We.ContextConsumer=dh;We.ContextProvider=uh;We.Element=s0;We.ForwardRef=fh;We.Fragment=oh;We.Lazy=vh;We.Memo=mh;We.Portal=o0;We.Profiler=ch;We.StrictMode=lh;We.Suspense=hh;We.SuspenseList=ph;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(e){return Zr(e)===dh};We.isContextProvider=function(e){return Zr(e)===uh};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s0};We.isForwardRef=function(e){return Zr(e)===fh};We.isFragment=function(e){return Zr(e)===oh};We.isLazy=function(e){return Zr(e)===vh};We.isMemo=function(e){return Zr(e)===mh};We.isPortal=function(e){return Zr(e)===o0};We.isProfiler=function(e){return Zr(e)===ch};We.isStrictMode=function(e){return Zr(e)===lh};We.isSuspense=function(e){return Zr(e)===hh};We.isSuspenseList=function(e){return Zr(e)===ph};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===oh||e===ch||e===lh||e===hh||e===ph||e===uB||typeof e=="object"&&e!==null&&(e.$$typeof===vh||e.$$typeof===mh||e.$$typeof===uh||e.$$typeof===dh||e.$$typeof===fh||e.$$typeof===kE||e.getModuleId!==void 0)};We.typeOf=Zr;jE.exports=We;var dB=jE.exports,fB=la,hB=ca,pB="[object Number]";function mB(e){return typeof e=="number"||hB(e)&&fB(e)==pB}var NE=mB;const vB=ze(NE);var gB=NE;function yB(e){return gB(e)&&e!=+e}var bB=yB;const Bc=ze(bB);var nr=function(t){return t===0?0:t>0?1:-1},gi=function(t){return Pi(t)&&t.indexOf("%")===t.length-1},X=function(t){return vB(t)&&!Bc(t)},xB=function(t){return _e(t)},It=function(t){return X(t)||Pi(t)},wB=0,Oo=function(t){var r=++wB;return"".concat(t||"").concat(r)},ar=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(t)&&!Pi(t))return n;var i;if(gi(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Bc(i)&&(i=n),a&&i>r&&(i=r),i},ja=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},_B=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},jr=function(t,r){return X(t)&&X(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ed(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Pr(n,t))===r})}var SB=function(t,r){return X(t)&&X(r)?t-r:Pi(t)&&Pi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ps(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var jB=["viewBox","children"],kB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Aw=["points","pathLength"],Rp={svg:jB,polygon:Aw,polyline:Aw},l0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ad=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!So(n))return null;var a={};return Object.keys(n).forEach(function(i){l0.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},NB=function(t,r,n){return function(a){return t(r,n,a),null}},Ci=function(t,r,n){if(!So(t)||yv(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];l0.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=NB(s,r,n))}),a},OB=["children"],EB=["children"];function Pw(e,t){if(e==null)return{};var r=AB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}var Cw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Tw=null,Mp=null,c0=function e(t){if(t===Tw&&Array.isArray(Mp))return Mp;var r=[];return O.Children.forEach(t,function(n){_e(n)||(dB.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Mp=r,Tw=t,r};function Cr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Xn(a)}):n=[Xn(t)],c0(e).forEach(function(a){var i=Pr(a,"type.displayName")||Pr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Sr(e,t){var r=Cr(e,t);return r&&r[0]}var $w=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!X(n)||n<=0||!X(a)||a<=0)},PB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CB=function(t){return t&&t.type&&Pi(t.type)&&PB.indexOf(t.type)>=0},TB=function(t){return t&&bv(t)==="object"&&"clipDot"in t},$B=function(t,r,n,a){var i,s=(i=Rp==null?void 0:Rp[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!xe(t)&&(a&&s.includes(r)||kB.includes(r))||n&&l0.includes(r)},me=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!So(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;$B((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},xv=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Iw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Iw(i,s))return!1}return!0},Iw=function(t,r){if(_e(t)&&_e(r))return!0;if(!_e(t)&&!_e(r)){var n=t.props||{},a=n.children,i=Pw(n,OB),s=r.props||{},o=s.children,l=Pw(s,EB);return a&&o?Ps(i,l)&&xv(a,o):!a&&!o?Ps(i,l):!1}return!1},Rw=function(t,r){var n=[],a={};return c0(t).forEach(function(i,s){if(CB(i))n.push(i);else if(i){var o=Xn(i.type),l=r[o]||{},c=l.handler,f=l.once;if(c&&(!f||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},IB=function(t){var r=t&&t.type;return r&&Cw[r]?Cw[r]:null},RB=function(t,r){return c0(r).indexOf(t)},MB=["children","width","height","viewBox","className","style","title","desc"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}function DB(e,t){if(e==null)return{};var r=LB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _v(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=DB(e,MB),f=a||{width:r,height:n,x:0,y:0},d=Ne("recharts-surface",i);return T.createElement("svg",wv({},me(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),T.createElement("title",null,o),T.createElement("desc",null,l),t)}var BB=["children","className"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(this,arguments)}function FB(e,t){if(e==null)return{};var r=UB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Me=T.forwardRef(function(e,t){var r=e.children,n=e.className,a=FB(e,BB),i=Ne("recharts-layer",n);return T.createElement("g",Sv({className:i},me(a,!0),{ref:t}),r)}),vn=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function zB(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var qB=zB,WB=qB;function VB(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:WB(e,t,r)}var KB=VB,HB="\\ud800-\\udfff",GB="\\u0300-\\u036f",YB="\\ufe20-\\ufe2f",JB="\\u20d0-\\u20ff",XB=GB+YB+JB,QB="\\ufe0e\\ufe0f",ZB="\\u200d",eF=RegExp("["+ZB+HB+XB+QB+"]");function tF(e){return eF.test(e)}var OE=tF;function rF(e){return e.split("")}var nF=rF,EE="\\ud800-\\udfff",aF="\\u0300-\\u036f",iF="\\ufe20-\\ufe2f",sF="\\u20d0-\\u20ff",oF=aF+iF+sF,lF="\\ufe0e\\ufe0f",cF="["+EE+"]",jv="["+oF+"]",kv="\\ud83c[\\udffb-\\udfff]",uF="(?:"+jv+"|"+kv+")",AE="[^"+EE+"]",PE="(?:\\ud83c[\\udde6-\\uddff]){2}",CE="[\\ud800-\\udbff][\\udc00-\\udfff]",dF="\\u200d",TE=uF+"?",$E="["+lF+"]?",fF="(?:"+dF+"(?:"+[AE,PE,CE].join("|")+")"+$E+TE+")*",hF=$E+TE+fF,pF="(?:"+[AE+jv+"?",jv,PE,CE,cF].join("|")+")",mF=RegExp(kv+"(?="+kv+")|"+pF+hF,"g");function vF(e){return e.match(mF)||[]}var gF=vF,yF=nF,bF=OE,xF=gF;function wF(e){return bF(e)?xF(e):yF(e)}var _F=wF,SF=KB,jF=OE,kF=_F,NF=wE;function OF(e){return function(t){t=NF(t);var r=jF(t)?kF(t):void 0,n=r?r[0]:t.charAt(0),a=r?SF(r,1).join(""):t.slice(1);return n[e]()+a}}var EF=OF,AF=EF,PF=AF("toUpperCase"),CF=PF;const gh=ze(CF);function Xe(e){return function(){return e}}const IE=Math.cos,Pd=Math.sin,yn=Math.sqrt,Cd=Math.PI,yh=2*Cd,Nv=Math.PI,Ov=2*Nv,si=1e-6,TF=Ov-si;function RE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $F(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RE;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class IF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RE:$F(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,f=s-t,d=o-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>si)if(!(Math.abs(d*l-c*f)>si)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-o,y=l*l+c*c,g=p*p+m*m,b=Math.sqrt(y),w=Math.sqrt(h),_=i*Math.tan((Nv-Math.acos((y+h-g)/(2*b*w)))/2),v=_/w,x=_/b;Math.abs(v-1)>si&&this._append`L${t+v*f},${r+v*d}`,this._append`A${i},${i},0,0,${+(d*p>f*m)},${this._x1=t+x*l},${this._y1=r+x*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,f=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>si||Math.abs(this._y1-f)>si)&&this._append`L${c},${f}`,n&&(h<0&&(h=h%Ov+Ov),h>TF?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=f}`:h>si&&this._append`A${n},${n},0,${+(h>=Nv)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function u0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IF(t)}function d0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ME(e){this._context=e}ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new ME(e)}function DE(e){return e[0]}function LE(e){return e[1]}function BE(e,t){var r=Xe(!0),n=null,a=bh,i=null,s=u0(o);e=typeof e=="function"?e:e===void 0?DE:Xe(e),t=typeof t=="function"?t:t===void 0?LE:Xe(t);function o(l){var c,f=(l=d0(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=f;++c)!(c<f&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Xe(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Su(e,t,r){var n=null,a=Xe(!0),i=null,s=bh,o=null,l=u0(c);e=typeof e=="function"?e:e===void 0?DE:Xe(+e),t=typeof t=="function"?t:Xe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LE:Xe(+r);function c(d){var h,p,m,y=(d=d0(d)).length,g,b=!1,w,_=new Array(y),v=new Array(y);for(i==null&&(o=s(w=l())),h=0;h<=y;++h){if(!(h<y&&a(g=d[h],h,d))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(_[m],v[m]);o.lineEnd(),o.areaEnd()}b&&(_[h]=+e(g,h,d),v[h]=+t(g,h,d),o.point(n?+n(g,h,d):_[h],r?+r(g,h,d):v[h]))}if(w)return o=null,w+""||null}function f(){return BE().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Xe(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Xe(+d),c):r},c.lineX0=c.lineY0=function(){return f().x(e).y(t)},c.lineY1=function(){return f().x(e).y(r)},c.lineX1=function(){return f().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Xe(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class FE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function RF(e){return new FE(e,!0)}function MF(e){return new FE(e,!1)}const f0={draw(e,t){const r=yn(t/Cd);e.moveTo(r,0),e.arc(0,0,r,0,yh)}},DF={draw(e,t){const r=yn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},UE=yn(1/3),LF=UE*2,BF={draw(e,t){const r=yn(t/LF),n=r*UE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FF={draw(e,t){const r=yn(t),n=-r/2;e.rect(n,n,r,r)}},UF=.8908130915292852,zE=Pd(Cd/10)/Pd(7*Cd/10),zF=Pd(yh/10)*zE,qF=-IE(yh/10)*zE,WF={draw(e,t){const r=yn(t*UF),n=zF*r,a=qF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=yh*i/5,o=IE(s),l=Pd(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Dp=yn(3),VF={draw(e,t){const r=-yn(t/(Dp*3));e.moveTo(0,r*2),e.lineTo(-Dp*r,-r),e.lineTo(Dp*r,-r),e.closePath()}},Mr=-.5,Dr=yn(3)/2,Ev=1/yn(12),KF=(Ev/2+1)*3,HF={draw(e,t){const r=yn(t/KF),n=r/2,a=r*Ev,i=n,s=r*Ev+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Mr*n-Dr*a,Dr*n+Mr*a),e.lineTo(Mr*i-Dr*s,Dr*i+Mr*s),e.lineTo(Mr*o-Dr*l,Dr*o+Mr*l),e.lineTo(Mr*n+Dr*a,Mr*a-Dr*n),e.lineTo(Mr*i+Dr*s,Mr*s-Dr*i),e.lineTo(Mr*o+Dr*l,Mr*l-Dr*o),e.closePath()}};function GF(e,t){let r=null,n=u0(a);e=typeof e=="function"?e:Xe(e||f0),t=typeof t=="function"?t:Xe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Xe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Xe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Td(){}function $d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qE(e){this._context=e}qE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YF(e){return new qE(e)}function WE(e){this._context=e}WE.prototype={areaStart:Td,areaEnd:Td,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JF(e){return new WE(e)}function VE(e){this._context=e}VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XF(e){return new VE(e)}function KE(e){this._context=e}KE.prototype={areaStart:Td,areaEnd:Td,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QF(e){return new KE(e)}function Mw(e){return e<0?-1:1}function Dw(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Mw(i)+Mw(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Lw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Id(e){this._context=e}Id.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lp(this,this._t0,Lw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lp(this,Lw(this,r=Dw(this,e,t)),r);break;default:Lp(this,this._t0,r=Dw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HE(e){this._context=new GE(e)}(HE.prototype=Object.create(Id.prototype)).point=function(e,t){Id.prototype.point.call(this,t,e)};function GE(e){this._context=e}GE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZF(e){return new Id(e)}function e5(e){return new HE(e)}function YE(e){this._context=e}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Bw(e),a=Bw(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bw(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function t5(e){return new YE(e)}function xh(e,t){this._context=e,this._t=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function r5(e){return new xh(e,.5)}function n5(e){return new xh(e,0)}function a5(e){return new xh(e,1)}function qs(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Av(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function i5(e,t){return e[t]}function s5(e){const t=[];return t.key=e,t}function o5(){var e=Xe([]),t=Av,r=qs,n=i5;function a(i){var s=Array.from(e.apply(this,arguments),s5),o,l=s.length,c=-1,f;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,f=d0(t(s));o<l;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Xe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Xe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Av:typeof i=="function"?i:Xe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??qs,a):r},a}function l5(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}qs(e,t)}}function c5(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}qs(e,t)}}function u5(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,m=0;m<o;++m){var y=e[t[m]],g=y[n][1]||0,b=y[n-1][1]||0;p+=g-b}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,qs(e,t)}}function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}var d5=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){f5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f5(e,t,r){return t=h5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h5(e){var t=p5(e,"string");return Yl(t)=="symbol"?t:t+""}function p5(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m5(e,t){if(e==null)return{};var r=v5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JE={symbolCircle:f0,symbolCross:DF,symbolDiamond:BF,symbolSquare:FF,symbolStar:WF,symbolTriangle:VF,symbolWye:HF},g5=Math.PI/180,y5=function(t){var r="symbol".concat(gh(t));return JE[r]||f0},b5=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*g5;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},x5=function(t,r){JE["symbol".concat(gh(t))]=r},h0=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=m5(t,d5),c=Uw(Uw({},l),{},{type:n,size:i,sizeType:o}),f=function(){var g=y5(n),b=GF().type(g).size(b5(i,o,n));return b()},d=c.className,h=c.cx,p=c.cy,m=me(c,!0);return h===+h&&p===+p&&i===+i?T.createElement("path",Pv({},m,{className:Ne("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};h0.registerSymbol=x5;function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(this,arguments)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QE(n.key),n)}}function j5(e,t,r){return t&&S5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k5(e,t,r){return t=Rd(t),N5(e,XE()?Reflect.construct(t,r||[],Rd(e).constructor):t.apply(e,r))}function N5(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O5(e)}function O5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XE=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rd(e)}function E5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tv(e,t)}function Tv(e,t){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tv(e,t)}function Jl(e,t,r){return t=QE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QE(e){var t=A5(e,"string");return Ws(t)=="symbol"?t:t+""}function A5(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lr=32,p0=function(e){function t(){return _5(this,t),k5(this,t,arguments)}return E5(t,e),j5(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Lr/2,s=Lr/6,o=Lr/3,l=n.inactive?a:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Lr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Lr,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Lr/8,"h").concat(Lr,"v").concat(Lr*3/4,"h").concat(-Lr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var c=w5({},n);return delete c.legendIcon,T.cloneElement(n.legendIcon,c)}return T.createElement(h0,{fill:l,cx:i,cy:i,size:Lr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,f={x:0,y:0,width:Lr,height:Lr},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,m){var y=p.formatter||l,g=Ne(Jl(Jl({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=xe(p.value)?null:p.value;vn(!xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return T.createElement("li",Cv({className:g,style:d,key:"legend-item-".concat(m)},Ci(n.props,p,m)),T.createElement(_v,{width:s,height:s,viewBox:f,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(b,p,m):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(O.PureComponent);Jl(p0,"displayName","Legend");Jl(p0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var P5=ah;function C5(){this.__data__=new P5,this.size=0}var T5=C5;function $5(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var I5=$5;function R5(e){return this.__data__.get(e)}var M5=R5;function D5(e){return this.__data__.has(e)}var L5=D5,B5=ah,F5=t0,U5=r0,z5=200;function q5(e,t){var r=this.__data__;if(r instanceof B5){var n=r.__data__;if(!F5||n.length<z5-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new U5(n)}return r.set(e,t),this.size=r.size,this}var W5=q5,V5=ah,K5=T5,H5=I5,G5=M5,Y5=L5,J5=W5;function Eo(e){var t=this.__data__=new V5(e);this.size=t.size}Eo.prototype.clear=K5;Eo.prototype.delete=H5;Eo.prototype.get=G5;Eo.prototype.has=Y5;Eo.prototype.set=J5;var ZE=Eo,X5="__lodash_hash_undefined__";function Q5(e){return this.__data__.set(e,X5),this}var Z5=Q5;function eU(e){return this.__data__.has(e)}var tU=eU,rU=r0,nU=Z5,aU=tU;function Md(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new rU;++t<r;)this.add(e[t])}Md.prototype.add=Md.prototype.push=nU;Md.prototype.has=aU;var eA=Md;function iU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tA=iU;function sU(e,t){return e.has(t)}var rA=sU,oU=eA,lU=tA,cU=rA,uU=1,dU=2;function fU(e,t,r,n,a,i){var s=r&uU,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),f=i.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=r&dU?new oU:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var m=e[d],y=t[d];if(n)var g=s?n(y,m,d,t,e,i):n(m,y,d,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!lU(t,function(b,w){if(!cU(p,w)&&(m===b||a(m,b,r,n,i)))return p.push(w)})){h=!1;break}}else if(!(m===y||a(m,y,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var nA=fU,hU=$n,pU=hU.Uint8Array,mU=pU;function vU(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var gU=vU;function yU(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var m0=yU,qw=Lc,Ww=mU,bU=e0,xU=nA,wU=gU,_U=m0,SU=1,jU=2,kU="[object Boolean]",NU="[object Date]",OU="[object Error]",EU="[object Map]",AU="[object Number]",PU="[object RegExp]",CU="[object Set]",TU="[object String]",$U="[object Symbol]",IU="[object ArrayBuffer]",RU="[object DataView]",Vw=qw?qw.prototype:void 0,Bp=Vw?Vw.valueOf:void 0;function MU(e,t,r,n,a,i,s){switch(r){case RU:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case IU:return!(e.byteLength!=t.byteLength||!i(new Ww(e),new Ww(t)));case kU:case NU:case AU:return bU(+e,+t);case OU:return e.name==t.name&&e.message==t.message;case PU:case TU:return e==t+"";case EU:var o=wU;case CU:var l=n&SU;if(o||(o=_U),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=jU,s.set(e,t);var f=xU(o(e),o(t),n,a,i,s);return s.delete(e),f;case $U:if(Bp)return Bp.call(e)==Bp.call(t)}return!1}var DU=MU;function LU(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var aA=LU,BU=aA,FU=gr;function UU(e,t,r){var n=t(e);return FU(e)?n:BU(n,r(e))}var zU=UU;function qU(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var WU=qU;function VU(){return[]}var KU=VU,HU=WU,GU=KU,YU=Object.prototype,JU=YU.propertyIsEnumerable,Kw=Object.getOwnPropertySymbols,XU=Kw?function(e){return e==null?[]:(e=Object(e),HU(Kw(e),function(t){return JU.call(e,t)}))}:GU,QU=XU;function ZU(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ez=ZU,tz=la,rz=ca,nz="[object Arguments]";function az(e){return rz(e)&&tz(e)==nz}var iz=az,Hw=iz,sz=ca,iA=Object.prototype,oz=iA.hasOwnProperty,lz=iA.propertyIsEnumerable,cz=Hw(function(){return arguments}())?Hw:function(e){return sz(e)&&oz.call(e,"callee")&&!lz.call(e,"callee")},v0=cz,Dd={exports:{}};function uz(){return!1}var dz=uz;Dd.exports;(function(e,t){var r=$n,n=dz,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Dd,Dd.exports);var sA=Dd.exports,fz=9007199254740991,hz=/^(?:0|[1-9]\d*)$/;function pz(e,t){var r=typeof e;return t=t??fz,!!t&&(r=="number"||r!="symbol"&&hz.test(e))&&e>-1&&e%1==0&&e<t}var g0=pz,mz=9007199254740991;function vz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mz}var y0=vz,gz=la,yz=y0,bz=ca,xz="[object Arguments]",wz="[object Array]",_z="[object Boolean]",Sz="[object Date]",jz="[object Error]",kz="[object Function]",Nz="[object Map]",Oz="[object Number]",Ez="[object Object]",Az="[object RegExp]",Pz="[object Set]",Cz="[object String]",Tz="[object WeakMap]",$z="[object ArrayBuffer]",Iz="[object DataView]",Rz="[object Float32Array]",Mz="[object Float64Array]",Dz="[object Int8Array]",Lz="[object Int16Array]",Bz="[object Int32Array]",Fz="[object Uint8Array]",Uz="[object Uint8ClampedArray]",zz="[object Uint16Array]",qz="[object Uint32Array]",tt={};tt[Rz]=tt[Mz]=tt[Dz]=tt[Lz]=tt[Bz]=tt[Fz]=tt[Uz]=tt[zz]=tt[qz]=!0;tt[xz]=tt[wz]=tt[$z]=tt[_z]=tt[Iz]=tt[Sz]=tt[jz]=tt[kz]=tt[Nz]=tt[Oz]=tt[Ez]=tt[Az]=tt[Pz]=tt[Cz]=tt[Tz]=!1;function Wz(e){return bz(e)&&yz(e.length)&&!!tt[gz(e)]}var Vz=Wz;function Kz(e){return function(t){return e(t)}}var oA=Kz,Ld={exports:{}};Ld.exports;(function(e,t){var r=mE,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Ld,Ld.exports);var Hz=Ld.exports,Gz=Vz,Yz=oA,Gw=Hz,Yw=Gw&&Gw.isTypedArray,Jz=Yw?Yz(Yw):Gz,lA=Jz,Xz=ez,Qz=v0,Zz=gr,e6=sA,t6=g0,r6=lA,n6=Object.prototype,a6=n6.hasOwnProperty;function i6(e,t){var r=Zz(e),n=!r&&Qz(e),a=!r&&!n&&e6(e),i=!r&&!n&&!a&&r6(e),s=r||n||a||i,o=s?Xz(e.length,String):[],l=o.length;for(var c in e)(t||a6.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||t6(c,l)))&&o.push(c);return o}var s6=i6,o6=Object.prototype;function l6(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||o6;return e===r}var c6=l6;function u6(e,t){return function(r){return e(t(r))}}var cA=u6,d6=cA,f6=d6(Object.keys,Object),h6=f6,p6=c6,m6=h6,v6=Object.prototype,g6=v6.hasOwnProperty;function y6(e){if(!p6(e))return m6(e);var t=[];for(var r in Object(e))g6.call(e,r)&&r!="constructor"&&t.push(r);return t}var b6=y6,x6=Zy,w6=y0;function _6(e){return e!=null&&w6(e.length)&&!x6(e)}var Fc=_6,S6=s6,j6=b6,k6=Fc;function N6(e){return k6(e)?S6(e):j6(e)}var wh=N6,O6=zU,E6=QU,A6=wh;function P6(e){return O6(e,A6,E6)}var C6=P6,Jw=C6,T6=1,$6=Object.prototype,I6=$6.hasOwnProperty;function R6(e,t,r,n,a,i){var s=r&T6,o=Jw(e),l=o.length,c=Jw(t),f=c.length;if(l!=f&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:I6.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var y=!0;i.set(e,t),i.set(t,e);for(var g=s;++d<l;){h=o[d];var b=e[h],w=t[h];if(n)var _=s?n(w,b,h,t,e,i):n(b,w,h,e,t,i);if(!(_===void 0?b===w||a(b,w,r,n,i):_)){y=!1;break}g||(g=h=="constructor")}if(y&&!g){var v=e.constructor,x=t.constructor;v!=x&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof x=="function"&&x instanceof x)&&(y=!1)}return i.delete(e),i.delete(t),y}var M6=R6,D6=Fi,L6=$n,B6=D6(L6,"DataView"),F6=B6,U6=Fi,z6=$n,q6=U6(z6,"Promise"),W6=q6,V6=Fi,K6=$n,H6=V6(K6,"Set"),uA=H6,G6=Fi,Y6=$n,J6=G6(Y6,"WeakMap"),X6=J6,$v=F6,Iv=t0,Rv=W6,Mv=uA,Dv=X6,dA=la,Ao=gE,Xw="[object Map]",Q6="[object Object]",Qw="[object Promise]",Zw="[object Set]",e_="[object WeakMap]",t_="[object DataView]",Z6=Ao($v),e8=Ao(Iv),t8=Ao(Rv),r8=Ao(Mv),n8=Ao(Dv),oi=dA;($v&&oi(new $v(new ArrayBuffer(1)))!=t_||Iv&&oi(new Iv)!=Xw||Rv&&oi(Rv.resolve())!=Qw||Mv&&oi(new Mv)!=Zw||Dv&&oi(new Dv)!=e_)&&(oi=function(e){var t=dA(e),r=t==Q6?e.constructor:void 0,n=r?Ao(r):"";if(n)switch(n){case Z6:return t_;case e8:return Xw;case t8:return Qw;case r8:return Zw;case n8:return e_}return t});var a8=oi,Fp=ZE,i8=nA,s8=DU,o8=M6,r_=a8,n_=gr,a_=sA,l8=lA,c8=1,i_="[object Arguments]",s_="[object Array]",ju="[object Object]",u8=Object.prototype,o_=u8.hasOwnProperty;function d8(e,t,r,n,a,i){var s=n_(e),o=n_(t),l=s?s_:r_(e),c=o?s_:r_(t);l=l==i_?ju:l,c=c==i_?ju:c;var f=l==ju,d=c==ju,h=l==c;if(h&&a_(e)){if(!a_(t))return!1;s=!0,f=!1}if(h&&!f)return i||(i=new Fp),s||l8(e)?i8(e,t,r,n,a,i):s8(e,t,l,r,n,a,i);if(!(r&c8)){var p=f&&o_.call(e,"__wrapped__"),m=d&&o_.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,g=m?t.value():t;return i||(i=new Fp),a(y,g,r,n,i)}}return h?(i||(i=new Fp),o8(e,t,r,n,a,i)):!1}var f8=d8,h8=f8,l_=ca;function fA(e,t,r,n,a){return e===t?!0:e==null||t==null||!l_(e)&&!l_(t)?e!==e&&t!==t:h8(e,t,r,n,fA,a)}var b0=fA,p8=ZE,m8=b0,v8=1,g8=2;function y8(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],f=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new p8;if(n)var h=n(c,f,l,e,t,d);if(!(h===void 0?m8(f,c,v8|g8,n,d):h))return!1}}return!0}var b8=y8,x8=Ka;function w8(e){return e===e&&!x8(e)}var hA=w8,_8=hA,S8=wh;function j8(e){for(var t=S8(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,_8(a)]}return t}var k8=j8;function N8(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var pA=N8,O8=b8,E8=k8,A8=pA;function P8(e){var t=E8(e);return t.length==1&&t[0][2]?A8(t[0][0],t[0][1]):function(r){return r===e||O8(r,e,t)}}var C8=P8;function T8(e,t){return e!=null&&t in Object(e)}var $8=T8,I8=_E,R8=v0,M8=gr,D8=g0,L8=y0,B8=sh;function F8(e,t,r){t=I8(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=B8(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&L8(a)&&D8(s,a)&&(M8(e)||R8(e)))}var U8=F8,z8=$8,q8=U8;function W8(e,t){return e!=null&&q8(e,t,z8)}var V8=W8,K8=b0,H8=SE,G8=V8,Y8=Qy,J8=hA,X8=pA,Q8=sh,Z8=1,eq=2;function tq(e,t){return Y8(e)&&J8(t)?X8(Q8(e),t):function(r){var n=H8(r,e);return n===void 0&&n===t?G8(r,e):K8(t,n,Z8|eq)}}var rq=tq;function nq(e){return e}var Po=nq;function aq(e){return function(t){return t==null?void 0:t[e]}}var iq=aq,sq=i0;function oq(e){return function(t){return sq(t,e)}}var lq=oq,cq=iq,uq=lq,dq=Qy,fq=sh;function hq(e){return dq(e)?cq(fq(e)):uq(e)}var pq=hq,mq=C8,vq=rq,gq=Po,yq=gr,bq=pq;function xq(e){return typeof e=="function"?e:e==null?gq:typeof e=="object"?yq(e)?vq(e[0],e[1]):mq(e):bq(e)}var In=xq;function wq(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var mA=wq;function _q(e){return e!==e}var Sq=_q;function jq(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var kq=jq,Nq=mA,Oq=Sq,Eq=kq;function Aq(e,t,r){return t===t?Eq(e,t,r):Nq(e,Oq,r)}var Pq=Aq,Cq=Pq;function Tq(e,t){var r=e==null?0:e.length;return!!r&&Cq(e,t,0)>-1}var $q=Tq;function Iq(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Rq=Iq;function Mq(){}var Dq=Mq,Up=uA,Lq=Dq,Bq=m0,Fq=1/0,Uq=Up&&1/Bq(new Up([,-0]))[1]==Fq?function(e){return new Up(e)}:Lq,zq=Uq,qq=eA,Wq=$q,Vq=Rq,Kq=rA,Hq=zq,Gq=m0,Yq=200;function Jq(e,t,r){var n=-1,a=Wq,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Vq;else if(i>=Yq){var c=t?null:Hq(e);if(c)return Gq(c);s=!1,a=Kq,l=new qq}else l=t?[]:o;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(f)}else a(l,d,r)||(l!==o&&l.push(d),o.push(f))}return o}var Xq=Jq,Qq=In,Zq=Xq;function eW(e,t){return e&&e.length?Zq(e,Qq(t)):[]}var tW=eW;const c_=ze(tW);function vA(e,t,r){return t===!0?c_(e,r):xe(t)?c_(e,t):e}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}var rW=["ref"];function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yA(n.key),n)}}function aW(e,t,r){return t&&d_(e.prototype,t),r&&d_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iW(e,t,r){return t=Bd(t),sW(e,gA()?Reflect.construct(t,r||[],Bd(e).constructor):t.apply(e,r))}function sW(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oW(e)}function oW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gA=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bd(e)}function lW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lv(e,t)}function Lv(e,t){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lv(e,t)}function _h(e,t,r){return t=yA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yA(e){var t=cW(e,"string");return Vs(t)=="symbol"?t:t+""}function cW(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uW(e,t){if(e==null)return{};var r=dW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fW(e){return e.value}function hW(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=uW(t,rW);return T.createElement(p0,r)}var f_=1,fn=function(e){function t(){var r;nW(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iW(this,t,[].concat(a)),_h(r,"lastBoundingBox",{width:-1,height:-1}),r}return lW(t,e),aW(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>f_||Math.abs(a.height-this.lastBoundingBox.height)>f_)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,f=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((f||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Bn(Bn({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,f=a.payload,d=Bn(Bn({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return T.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},hW(i,Bn(Bn({},this.props),{},{payload:vA(f,c,fW)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Bn(Bn({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&X(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);_h(fn,"displayName","Legend");_h(fn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var h_=Lc,pW=v0,mW=gr,p_=h_?h_.isConcatSpreadable:void 0;function vW(e){return mW(e)||pW(e)||!!(p_&&e&&e[p_])}var gW=vW,yW=aA,bW=gW;function bA(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=bW),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?bA(o,t-1,r,n,a):yW(a,o):n||(a[a.length]=o)}return a}var xA=bA;function xW(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var wW=xW,_W=wW,SW=_W(),jW=SW,kW=jW,NW=wh;function OW(e,t){return e&&kW(e,t,NW)}var wA=OW,EW=Fc;function AW(e,t){return function(r,n){if(r==null)return r;if(!EW(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var PW=AW,CW=wA,TW=PW,$W=TW(CW),x0=$W,IW=x0,RW=Fc;function MW(e,t){var r=-1,n=RW(e)?Array(e.length):[];return IW(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var _A=MW;function DW(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var LW=DW,m_=_o;function BW(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=m_(e),s=t!==void 0,o=t===null,l=t===t,c=m_(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var FW=BW,UW=FW;function zW(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=UW(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var qW=zW,zp=a0,WW=i0,VW=In,KW=_A,HW=LW,GW=oA,YW=qW,JW=Po,XW=gr;function QW(e,t,r){t.length?t=zp(t,function(i){return XW(i)?function(s){return WW(s,i.length===1?i[0]:i)}:i}):t=[JW];var n=-1;t=zp(t,GW(VW));var a=KW(e,function(i,s,o){var l=zp(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return HW(a,function(i,s){return YW(i,s,r)})}var ZW=QW;function eV(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var tV=eV,rV=tV,v_=Math.max;function nV(e,t,r){return t=v_(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=v_(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),rV(e,this,o)}}var aV=nV;function iV(e){return function(){return e}}var sV=iV,oV=Fi,lV=function(){try{var e=oV(Object,"defineProperty");return e({},"",{}),e}catch{}}(),SA=lV,cV=sV,g_=SA,uV=Po,dV=g_?function(e,t){return g_(e,"toString",{configurable:!0,enumerable:!1,value:cV(t),writable:!0})}:uV,fV=dV,hV=800,pV=16,mV=Date.now;function vV(e){var t=0,r=0;return function(){var n=mV(),a=pV-(n-r);if(r=n,a>0){if(++t>=hV)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gV=vV,yV=fV,bV=gV,xV=bV(yV),wV=xV,_V=Po,SV=aV,jV=wV;function kV(e,t){return jV(SV(e,t,_V),e+"")}var NV=kV,OV=e0,EV=Fc,AV=g0,PV=Ka;function CV(e,t,r){if(!PV(r))return!1;var n=typeof t;return(n=="number"?EV(r)&&AV(t,r.length):n=="string"&&t in r)?OV(r[t],e):!1}var Sh=CV,TV=xA,$V=ZW,IV=NV,y_=Sh,RV=IV(function(e,t){if(e==null)return[];var r=t.length;return r>1&&y_(e,t[0],t[1])?t=[]:r>2&&y_(t[0],t[1],t[2])&&(t=[t[0]]),$V(e,TV(t,1),[])}),MV=RV;const w0=ze(MV);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function DV(e,t){return UV(e)||FV(e,t)||BV(e,t)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(e,t){if(e){if(typeof e=="string")return b_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b_(e,t)}}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function UV(e){if(Array.isArray(e))return e}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){zV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zV(e,t,r){return t=qV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=WV(e,"string");return Xl(t)=="symbol"?t:t+""}function WV(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VV(e){return Array.isArray(e)&&It(e[0])&&It(e[1])?e.join(" ~ "):e}var KV=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,y=t.label,g=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(f&&f.length){var I={padding:0,margin:0},D=(h?w0(f,h):f).map(function(B,F){if(B.type==="none")return null;var U=qp({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},o),M=B.formatter||d||VV,R=B.value,L=B.name,C=R,H=L;if(M&&C!=null&&H!=null){var q=M(R,L,B,F,f);if(Array.isArray(q)){var Z=DV(q,2);C=Z[0],H=Z[1]}else C=q}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:U},It(H)?T.createElement("span",{className:"recharts-tooltip-item-name"},H):null,It(H)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},C),T.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:I},D)}return null},v=qp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=qp({margin:0},c),S=!_e(y),k=S?y:"",E=Ne("recharts-default-tooltip",p),A=Ne("recharts-tooltip-label",m);S&&g&&f!==void 0&&f!==null&&(k=g(y,f));var j=w?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Bv({className:E,style:v},j),T.createElement("p",{className:A,style:x},T.isValidElement(k)?k:"".concat(k)),_())};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function ku(e,t,r){return t=HV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=GV(e,"string");return Ql(t)=="symbol"?t:t+""}function GV(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ko="recharts-tooltip-wrapper",YV={visibility:"hidden"};function JV(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ne(Ko,ku(ku(ku(ku({},"".concat(Ko,"-right"),X(r)&&t&&X(t.x)&&r>=t.x),"".concat(Ko,"-left"),X(r)&&t&&X(t.x)&&r<t.x),"".concat(Ko,"-bottom"),X(n)&&t&&X(t.y)&&n>=t.y),"".concat(Ko,"-top"),X(n)&&t&&X(t.y)&&n<t.y))}function w_(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&X(i[n]))return i[n];var f=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var h=f,p=l[n];return h<p?Math.max(d,l[n]):Math.max(f,l[n])}var m=d+o,y=l[n]+c;return m>y?Math.max(f,l[n]):Math.max(d,l[n])}function XV(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QV(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,f,d;return s.height>0&&s.width>0&&r?(f=w_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=w_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=XV({translateX:f,translateY:d,useTranslate3d:o})):c=YV,{cssProperties:c,cssClasses:JV({translateX:f,translateY:d,coordinate:r})}}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){Uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kA(n.key),n)}}function tK(e,t,r){return t&&eK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rK(e,t,r){return t=Fd(t),nK(e,jA()?Reflect.construct(t,r||[],Fd(e).constructor):t.apply(e,r))}function nK(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aK(e)}function aK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jA=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fd(e)}function iK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fv(e,t)}function Uv(e,t,r){return t=kA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kA(e){var t=sK(e,"string");return Ks(t)=="symbol"?t:t+""}function sK(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var j_=1,oK=function(e){function t(){var r;ZV(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rK(this,t,[].concat(a)),Uv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Uv(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),r}return iK(t,e),tK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>j_||Math.abs(n.height-this.state.lastBoundingBox.height)>j_)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,f=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,m=a.position,y=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,_=QV({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),v=_.cssClasses,x=_.cssProperties,S=S_(S_({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return T.createElement("div",{tabIndex:-1,className:v,style:S,ref:function(E){n.wrapperNode=E}},c)}}])}(O.PureComponent),lK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ui={isSsr:lK()};function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){_0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OA(n.key),n)}}function dK(e,t,r){return t&&uK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fK(e,t,r){return t=Ud(t),hK(e,NA()?Reflect.construct(t,r||[],Ud(e).constructor):t.apply(e,r))}function hK(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pK(e)}function pK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NA=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ud(e)}function mK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zv(e,t)}function zv(e,t){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zv(e,t)}function _0(e,t,r){return t=OA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OA(e){var t=vK(e,"string");return Hs(t)=="symbol"?t:t+""}function vK(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gK(e){return e.dataKey}function yK(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(KV,t)}var Lt=function(e){function t(){return cK(this,t),fK(this,t,arguments)}return mK(t,e),dK(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,f=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,m=a.payload,y=a.payloadUniqBy,g=a.position,b=a.reverseDirection,w=a.useTranslate3d,_=a.viewBox,v=a.wrapperStyle,x=m??[];d&&x.length&&(x=vA(m.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),y,gK));var S=x.length>0;return T.createElement(oK,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:f,hasPayload:S,offset:p,position:g,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:v},yK(c,N_(N_({},this.props),{},{payload:x})))}}])}(O.PureComponent);_0(Lt,"displayName","Tooltip");_0(Lt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ui.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bK=$n,xK=function(){return bK.Date.now()},wK=xK,_K=/\s/;function SK(e){for(var t=e.length;t--&&_K.test(e.charAt(t)););return t}var jK=SK,kK=jK,NK=/^\s+/;function OK(e){return e&&e.slice(0,kK(e)+1).replace(NK,"")}var EK=OK,AK=EK,O_=Ka,PK=_o,E_=NaN,CK=/^[-+]0x[0-9a-f]+$/i,TK=/^0b[01]+$/i,$K=/^0o[0-7]+$/i,IK=parseInt;function RK(e){if(typeof e=="number")return e;if(PK(e))return E_;if(O_(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=O_(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=AK(e);var r=TK.test(e);return r||$K.test(e)?IK(e.slice(2),r?2:8):CK.test(e)?E_:+e}var EA=RK,MK=Ka,Wp=wK,A_=EA,DK="Expected a function",LK=Math.max,BK=Math.min;function FK(e,t,r){var n,a,i,s,o,l,c=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(DK);t=A_(t)||0,MK(r)&&(f=!!r.leading,d="maxWait"in r,i=d?LK(A_(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var k=n,E=a;return n=a=void 0,c=S,s=e.apply(E,k),s}function m(S){return c=S,o=setTimeout(b,t),f?p(S):s}function y(S){var k=S-l,E=S-c,A=t-k;return d?BK(A,i-E):A}function g(S){var k=S-l,E=S-c;return l===void 0||k>=t||k<0||d&&E>=i}function b(){var S=Wp();if(g(S))return w(S);o=setTimeout(b,y(S))}function w(S){return o=void 0,h&&n?p(S):(n=a=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function v(){return o===void 0?s:w(Wp())}function x(){var S=Wp(),k=g(S);if(n=arguments,a=this,l=S,k){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(b,t),p(l)}return o===void 0&&(o=setTimeout(b,t)),s}return x.cancel=_,x.flush=v,x}var UK=FK,zK=UK,qK=Ka,WK="Expected a function";function VK(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(WK);return qK(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),zK(e,t,{leading:n,maxWait:t,trailing:a})}var KK=VK;const AA=ze(KK);function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=YK(e,"string");return Zl(t)=="symbol"?t:t+""}function YK(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JK(e,t){return e9(e)||ZK(e,t)||QK(e,t)||XK()}function XK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(e,t){if(e){if(typeof e=="string")return C_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C_(e,t)}}function C_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function e9(e){if(Array.isArray(e))return e}var Wn=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,f=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,y=m===void 0?0:m,g=e.id,b=e.className,w=e.onResize,_=e.style,v=_===void 0?{}:_,x=O.useRef(null),S=O.useRef();S.current=w,O.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var k=O.useState({containerWidth:a.width,containerHeight:a.height}),E=JK(k,2),A=E[0],j=E[1],P=O.useCallback(function(D,B){j(function(F){var U=Math.round(D),M=Math.round(B);return F.containerWidth===U&&F.containerHeight===M?F:{containerWidth:U,containerHeight:M}})},[]);O.useEffect(function(){var D=function(L){var C,H=L[0].contentRect,q=H.width,Z=H.height;P(q,Z),(C=S.current)===null||C===void 0||C.call(S,q,Z)};y>0&&(D=AA(D,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),F=x.current.getBoundingClientRect(),U=F.width,M=F.height;return P(U,M),B.observe(x.current),function(){B.disconnect()}},[P,y]);var I=O.useMemo(function(){var D=A.containerWidth,B=A.containerHeight;if(D<0||B<0)return null;vn(gi(s)||gi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),vn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=gi(s)?D:s,U=gi(l)?B:l;r&&r>0&&(F?U=F/r:U&&(F=U*r),h&&U>h&&(U=h)),vn(F>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,U,s,l,f,d,r);var M=!Array.isArray(p)&&Xn(p.type).endsWith("Chart");return T.Children.map(p,function(R){return T.isValidElement(R)?O.cloneElement(R,Nu({width:F,height:U},M?{style:Nu({height:"100%",width:"100%",maxHeight:U,maxWidth:F},R.props.style)}:{})):R})},[r,p,l,h,d,f,A,s]);return T.createElement("div",{id:g?"".concat(g):void 0,className:Ne("recharts-responsive-container",b),style:Nu(Nu({},v),{},{width:s,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:x},I)}),jh=function(t){return null};jh.displayName="Cell";function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return t=r9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return ec(t)=="symbol"?t:t+""}function n9(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qi={widthCache:{},cacheCount:0},a9=2e3,i9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$_="recharts_measurement_span";function s9(e){var t=qv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ui.isSsr)return{width:0,height:0};var n=s9(r),a=JSON.stringify({text:t,copyStyle:n});if(Qi.widthCache[a])return Qi.widthCache[a];try{var i=document.getElementById($_);i||(i=document.createElement("span"),i.setAttribute("id",$_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=qv(qv({},i9),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Qi.widthCache[a]=l,++Qi.cacheCount>a9&&(Qi.cacheCount=0,Qi.widthCache={}),l}catch{return{width:0,height:0}}},o9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function zd(e,t){return d9(e)||u9(e,t)||c9(e,t)||l9()}function l9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(e,t){if(e){if(typeof e=="string")return I_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I_(e,t)}}function I_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function d9(e){if(Array.isArray(e))return e}function f9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p9(n.key),n)}}function h9(e,t,r){return t&&R_(e.prototype,t),r&&R_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9(e){var t=m9(e,"string");return tc(t)=="symbol"?t:t+""}function m9(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},y9=Object.keys(PA),gs="NaN";function b9(e,t){return e*PA[t]}var Ou=function(){function e(t,r){f9(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!v9.test(r)&&(this.num=NaN,this.unit=""),y9.includes(r)&&(this.num=b9(t,r),this.unit="px")}return h9(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=g9.exec(r))!==null&&n!==void 0?n:[],i=zd(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function CA(e){if(e.includes(gs))return gs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=M_.exec(t))!==null&&r!==void 0?r:[],a=zd(n,4),i=a[1],s=a[2],o=a[3],l=Ou.parse(i??""),c=Ou.parse(o??""),f=s==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return gs;t=t.replace(M_,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=D_.exec(t))!==null&&d!==void 0?d:[],p=zd(h,4),m=p[1],y=p[2],g=p[3],b=Ou.parse(m??""),w=Ou.parse(g??""),_=y==="+"?b.add(w):b.subtract(w);if(_.isNaN())return gs;t=t.replace(D_,_.toString())}return t}var L_=/\(([^()]*)\)/;function x9(e){for(var t=e;t.includes("(");){var r=L_.exec(t),n=zd(r,2),a=n[1];t=t.replace(L_,CA(a))}return t}function w9(e){var t=e.replace(/\s+/g,"");return t=x9(t),t=CA(t),t}function _9(e){try{return w9(e)}catch{return gs}}function Vp(e){var t=_9(e.slice(5,-1));return t===gs?"":t}var S9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],j9=["dx","dy","angle","className","breakAll"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function B_(e,t){if(e==null)return{};var r=k9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F_(e,t){return A9(e)||E9(e,t)||O9(e,t)||N9()}function N9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function A9(e){if(Array.isArray(e))return e}var TA=/[ \f\n\r\t\v\u2028\u2029]+/,$A=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];_e(r)||(n?i=r.toString().split(""):i=r.toString().split(TA));var s=i.map(function(l){return{word:l,width:bl(l,a).width}}),o=n?0:bl("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},P9=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,f=X(s),d=o,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(U,M){var R=M.word,L=M.width,C=U[U.length-1];if(C&&(a==null||i||C.width+L+n<Number(a)))C.words.push(R),C.width+=L+n;else{var H={words:[R],width:L};U.push(H)}return U},[])},p=h(r),m=function(F){return F.reduce(function(U,M){return U.width>M.width?U:M})};if(!f)return p;for(var y="",g=function(F){var U=d.slice(0,F),M=$A({breakAll:c,style:l,children:U+y}).wordsWithComputedWidth,R=h(M),L=R.length>s||m(R).width>Number(a);return[L,R]},b=0,w=d.length-1,_=0,v;b<=w&&_<=d.length-1;){var x=Math.floor((b+w)/2),S=x-1,k=g(S),E=F_(k,2),A=E[0],j=E[1],P=g(x),I=F_(P,1),D=I[0];if(!A&&!D&&(b=x+1),A&&D&&(w=x-1),!A&&D){v=j;break}_++}return v||p},z_=function(t){var r=_e(t)?[]:t.toString().split(TA);return[{words:r}]},C9=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Ui.isSsr){var l,c,f=$A({breakAll:s,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return z_(a);return P9({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return z_(a)},q_="#808080",Ti=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,y=m===void 0?"end":m,g=t.fill,b=g===void 0?q_:g,w=B_(t,S9),_=O.useMemo(function(){return C9({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),v=w.dx,x=w.dy,S=w.angle,k=w.className,E=w.breakAll,A=B_(w,j9);if(!It(n)||!It(i))return null;var j=n+(X(v)?v:0),P=i+(X(x)?x:0),I;switch(y){case"start":I=Vp("calc(".concat(c,")"));break;case"middle":I=Vp("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=Vp("calc(".concat(_.length-1," * -").concat(o,")"));break}var D=[];if(d){var B=_[0].width,F=w.width;D.push("scale(".concat((X(F)?F/B:1)/B,")"))}return S&&D.push("rotate(".concat(S,", ").concat(j,", ").concat(P,")")),D.length&&(A.transform=D.join(" ")),T.createElement("text",Wv({},me(A,!0),{x:j,y:P,className:Ne("recharts-text",k),textAnchor:p,fill:b.includes("url")?q_:b}),_.map(function(U,M){var R=U.words.join(E?"":" ");return T.createElement("tspan",{x:j,dy:M===0?I:o,key:"".concat(R,"-").concat(M)},R)}))};function La(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function S0(e){let t,r,n;e.length!==2?(t=La,r=(o,l)=>La(e(o),l),n=(o,l)=>e(o)-l):(t=e===La||e===T9?e:$9,r=e,n=e);function a(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<0?c=d+1:f=d}while(c<f)}return c}function i(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;r(o[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(o,l,c=0,f=o.length){const d=a(o,l,c,f-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function $9(){return 0}function IA(e){return e===null?NaN:+e}function*I9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const R9=S0(La),Uc=R9.right;S0(IA).center;class W_ extends Map{constructor(t,r=L9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(V_(this,t))}has(t){return super.has(V_(this,t))}set(t,r){return super.set(M9(this,t),r)}delete(t){return super.delete(D9(this,t))}}function V_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function M9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function D9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function L9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function B9(e=La){if(e===La)return RA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const F9=Math.sqrt(50),U9=Math.sqrt(10),z9=Math.sqrt(2);function qd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=F9?10:i>=U9?5:i>=z9?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?qd(e,t,r*2):[o,l,c]}function Vv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?qd(t,e,r):qd(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Kv(e,t,r){return t=+t,e=+e,r=+r,qd(e,t,r)[2]}function Hv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Kv(t,e,r):Kv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function K_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function H_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MA(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?RA:B9(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),m=Math.min(n,Math.floor(t+(l-c)*d/l+h));MA(e,t,p,m,a)}const i=e[t];let s=r,o=n;for(Ho(e,r,t),a(e[n],i)>0&&Ho(e,r,n);s<o;){for(Ho(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Ho(e,r,o):(++o,Ho(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ho(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function q9(e,t,r){if(e=Float64Array.from(I9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return H_(e);if(t>=1)return K_(e);var n,a=(n-1)*t,i=Math.floor(a),s=K_(MA(e,i).subarray(0,i+1)),o=H_(e.subarray(i+1));return s+(o-s)*(a-i)}}function W9(e,t,r=IA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function V9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function en(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gv=Symbol("implicit");function j0(){var e=new W_,t=[],r=[],n=Gv;function a(i){let s=e.get(i);if(s===void 0){if(n!==Gv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new W_;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return j0(t,r).unknown(n)},en.apply(a,arguments),a}function rc(){var e=j0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var h=t().length,p=a<n,m=p?a:n,y=p?n:a;i=(y-m)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),m+=(y-m-i*(h-l))*f,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var g=V9(h).map(function(b){return m+i*b});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return rc(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(f)},en.apply(d(),arguments)}function DA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DA(t())},e}function xl(){return DA(rc.apply(null,arguments).paddingInner(1))}function k0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zc(){}var nc=.7,Wd=1/nc,Cs="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K9=/^#([0-9a-f]{3,8})$/,H9=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),G9=new RegExp(`^rgb\\(${En},${En},${En}\\)$`),Y9=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${ac}\\)$`),J9=new RegExp(`^rgba\\(${En},${En},${En},${ac}\\)$`),X9=new RegExp(`^hsl\\(${ac},${En},${En}\\)$`),Q9=new RegExp(`^hsla\\(${ac},${En},${En},${ac}\\)$`),G_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k0(zc,ic,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Y_,formatHex:Y_,formatHex8:Z9,formatHsl:e7,formatRgb:J_,toString:J_});function Y_(){return this.rgb().formatHex()}function Z9(){return this.rgb().formatHex8()}function e7(){return BA(this).formatHsl()}function J_(){return this.rgb().formatRgb()}function ic(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=K9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?X_(t):r===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H9.exec(e))?new hr(t[1],t[2],t[3],1):(t=G9.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y9.exec(e))?Eu(t[1],t[2],t[3],t[4]):(t=J9.exec(e))?Eu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X9.exec(e))?e1(t[1],t[2]/100,t[3]/100,1):(t=Q9.exec(e))?e1(t[1],t[2]/100,t[3]/100,t[4]):G_.hasOwnProperty(e)?X_(G_[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function X_(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function Eu(e,t,r,n){return n<=0&&(e=t=r=NaN),new hr(e,t,r,n)}function t7(e){return e instanceof zc||(e=ic(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function Yv(e,t,r,n){return arguments.length===1?t7(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}k0(hr,Yv,LA(zc,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(Si(this.r),Si(this.g),Si(this.b),Vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Q_,formatHex:Q_,formatHex8:r7,formatRgb:Z_,toString:Z_}));function Q_(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}`}function r7(){return`#${yi(this.r)}${yi(this.g)}${yi(this.b)}${yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Z_(){const e=Vd(this.opacity);return`${e===1?"rgb(":"rgba("}${Si(this.r)}, ${Si(this.g)}, ${Si(this.b)}${e===1?")":`, ${e})`}`}function Vd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Si(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yi(e){return e=Si(e),(e<16?"0":"")+e.toString(16)}function e1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hn(e,t,r,n)}function BA(e){if(e instanceof hn)return new hn(e.h,e.s,e.l,e.opacity);if(e instanceof zc||(e=ic(e)),!e)return new hn;if(e instanceof hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new hn(s,o,l,e.opacity)}function n7(e,t,r,n){return arguments.length===1?BA(e):new hn(e,t,r,n??1)}function hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}k0(hn,n7,LA(zc,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nc:Math.pow(nc,e),new hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hr(Kp(e>=240?e-240:e+120,a,n),Kp(e,a,n),Kp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hn(t1(this.h),Au(this.s),Au(this.l),Vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vd(this.opacity);return`${e===1?"hsl(":"hsla("}${t1(this.h)}, ${Au(this.s)*100}%, ${Au(this.l)*100}%${e===1?")":`, ${e})`}`}}));function t1(e){return e=(e||0)%360,e<0?e+360:e}function Au(e){return Math.max(0,Math.min(1,e||0))}function Kp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const N0=e=>()=>e;function a7(e,t){return function(r){return e+r*t}}function i7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function s7(e){return(e=+e)==1?FA:function(t,r){return r-t?i7(t,r,e):N0(isNaN(t)?r:t)}}function FA(e,t){var r=t-e;return r?a7(e,r):N0(isNaN(e)?t:e)}const r1=function e(t){var r=s7(t);function n(a,i){var s=r((a=Yv(a)).r,(i=Yv(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=FA(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=l(f),a.opacity=c(f),a+""}}return n.gamma=e,n}(1);function o7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function l7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Co(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function u7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d7(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Co(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Jv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hp=new RegExp(Jv.source,"g");function f7(e){return function(){return e}}function h7(e){return function(t){return e(t)+""}}function p7(e,t){var r=Jv.lastIndex=Hp.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Jv.exec(e))&&(a=Hp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Kd(n,a)})),r=Hp.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?h7(l[0].x):f7(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)o[(d=l[f]).i]=d.x(c);return o.join("")})}function Co(e,t){var r=typeof t,n;return t==null||r==="boolean"?N0(t):(r==="number"?Kd:r==="string"?(n=ic(t))?(t=n,r1):p7:t instanceof ic?r1:t instanceof Date?u7:l7(t)?o7:Array.isArray(t)?c7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d7:Kd)(e,t)}function O0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function m7(e,t){t===void 0&&(t=e,e=Co);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function v7(e){return function(){return e}}function Hd(e){return+e}var n1=[0,1];function ir(e){return e}function Xv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:v7(isNaN(t)?NaN:.5)}function g7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function y7(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Xv(a,n),i=r(s,i)):(n=Xv(n,a),i=r(i,s)),function(o){return i(n(o))}}function b7(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Xv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Uc(e,o,1,n)-1;return i[l](a[l](o))}}function qc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kh(){var e=n1,t=n1,r=Co,n,a,i,s=ir,o,l,c;function f(){var h=Math.min(e.length,t.length);return s!==ir&&(s=g7(e[0],e[h-1])),o=h>2?b7:y7,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),Kd)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Hd),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=O0,f()},d.clamp=function(h){return arguments.length?(s=h?!0:ir,f()):s!==ir},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,f()}}function E0(){return kh()(ir,ir)}function x7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gs(e){return e=Gd(Math.abs(e)),e?e[1]:NaN}function w7(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function _7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var S7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sc(e){if(!(t=S7.exec(e)))throw new Error("invalid format: "+e);var t;return new A0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sc.prototype=A0.prototype;function A0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}A0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j7(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var UA;function k7(e,t){var r=Gd(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(UA=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gd(e,Math.max(0,t+i-1))[0]}function a1(e,t){var r=Gd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const i1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a1(e*100,t),r:a1,s:k7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function s1(e){return e}var o1=Array.prototype.map,l1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N7(e){var t=e.grouping===void 0||e.thousands===void 0?s1:w7(o1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?s1:_7(o1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=sc(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,g=d.zero,b=d.width,w=d.comma,_=d.precision,v=d.trim,x=d.type;x==="n"?(w=!0,x="g"):i1[x]||(_===void 0&&(_=12),v=!0,x="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",k=y==="$"?n:/[%p]/.test(x)?s:"",E=i1[x],A=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function j(P){var I=S,D=k,B,F,U;if(x==="c")D=E(P)+D,P="";else{P=+P;var M=P<0||1/P<0;if(P=isNaN(P)?l:E(Math.abs(P),_),v&&(P=j7(P)),M&&+P==0&&m!=="+"&&(M=!1),I=(M?m==="("?m:o:m==="-"||m==="("?"":m)+I,D=(x==="s"?l1[8+UA/3]:"")+D+(M&&m==="("?")":""),A){for(B=-1,F=P.length;++B<F;)if(U=P.charCodeAt(B),48>U||U>57){D=(U===46?a+P.slice(B+1):P.slice(B))+D,P=P.slice(0,B);break}}}w&&!g&&(P=t(P,1/0));var R=I.length+P.length+D.length,L=R<b?new Array(b-R+1).join(h):"";switch(w&&g&&(P=t(L+P,L.length?b-D.length:1/0),L=""),p){case"<":P=I+P+D+L;break;case"=":P=I+L+P+D;break;case"^":P=L.slice(0,R=L.length>>1)+I+P+D+L.slice(R);break;default:P=L+I+P+D;break}return i(P)}return j.toString=function(){return d+""},j}function f(d,h){var p=c((d=sc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Gs(h)/3)))*3,y=Math.pow(10,-m),g=l1[8+m/3];return function(b){return p(y*b)+g}}return{format:c,formatPrefix:f}}var Pu,P0,zA;O7({thousands:",",grouping:[3],currency:["$",""]});function O7(e){return Pu=N7(e),P0=Pu.format,zA=Pu.formatPrefix,Pu}function E7(e){return Math.max(0,-Gs(Math.abs(e)))}function A7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gs(t)/3)))*3-Gs(Math.abs(e)))}function P7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gs(t)-Gs(e))+1}function qA(e,t,r,n){var a=Hv(e,t,r),i;switch(n=sc(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=A7(a,s))&&(n.precision=i),zA(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=P7(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=E7(a))&&(n.precision=i-(n.type==="%")*2);break}}return P0(n)}function Ha(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return qA(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,f=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);f-- >0;){if(c=Kv(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Yd(){var e=E0();return e.copy=function(){return qc(e,Yd())},en.apply(e,arguments),Ha(e)}function WA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WA(e).unknown(t)},e=arguments.length?Array.from(e,Hd):[0,1],Ha(r)}function VA(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function c1(e){return Math.log(e)}function u1(e){return Math.exp(e)}function C7(e){return-Math.log(-e)}function T7(e){return-Math.exp(-e)}function $7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I7(e){return e===10?$7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function d1(e){return(t,r)=>-e(-t,r)}function C0(e){const t=e(c1,u1),r=t.domain;let n=10,a,i;function s(){return a=R7(n),i=I7(n),r()[0]<0?(a=d1(a),i=d1(i),e(C7,T7)):e(c1,u1),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=a(c),p=a(f),m,y;const g=o==null?10:+o;let b=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(y=h<0?m/i(-h):m*i(h),!(y<c)){if(y>f)break;b.push(y)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(y=h>0?m/i(-h):m*i(h),!(y<c)){if(y>f)break;b.push(y)}b.length*2<g&&(b=Vv(c,f,g))}else b=Vv(h,p,Math.min(p-h,g)).map(i);return d?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=sc(l)).precision==null&&(l.trim=!0),l=P0(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=c?l(f):""}},t.nice=()=>r(VA(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function KA(){const e=C0(kh()).domain([1,10]);return e.copy=()=>qc(e,KA()).base(e.base()),en.apply(e,arguments),e}function f1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function h1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function T0(e){var t=1,r=e(f1(t),h1(t));return r.constant=function(n){return arguments.length?e(f1(t=+n),h1(t)):t},Ha(r)}function HA(){var e=T0(kh());return e.copy=function(){return qc(e,HA()).constant(e.constant())},en.apply(e,arguments)}function p1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D7(e){return e<0?-e*e:e*e}function $0(e){var t=e(ir,ir),r=1;function n(){return r===1?e(ir,ir):r===.5?e(M7,D7):e(p1(r),p1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ha(t)}function I0(){var e=$0(kh());return e.copy=function(){return qc(e,I0()).exponent(e.exponent())},en.apply(e,arguments),e}function L7(){return I0.apply(null,arguments).exponent(.5)}function m1(e){return Math.sign(e)*e*e}function B7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GA(){var e=E0(),t=[0,1],r=!1,n;function a(i){var s=B7(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(m1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hd)).map(m1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return GA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},en.apply(a,arguments),Ha(a)}function YA(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=W9(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Uc(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(La),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return YA().domain(e).range(t).unknown(n)},en.apply(i,arguments)}function JA(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Uc(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return JA().domain([e,t]).range(a).unknown(i)},en.apply(Ha(s),arguments)}function XA(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Uc(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return XA().domain(e).range(t).unknown(r)},en.apply(a,arguments)}const Gp=new Date,Yp=new Date;function Rt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Rt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Gp.setTime(+i),Yp.setTime(+s),e(Gp),e(Yp),Math.floor(r(Gp,Yp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Jd=Rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jd);Jd.range;const Hn=1e3,Kr=Hn*60,Gn=Kr*60,na=Gn*24,R0=na*7,v1=na*30,Jp=na*365,bi=Rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCSeconds());bi.range;const M0=Rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getMinutes());M0.range;const D0=Rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kr)},(e,t)=>(t-e)/Kr,e=>e.getUTCMinutes());D0.range;const L0=Rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hn-e.getMinutes()*Kr)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getHours());L0.range;const B0=Rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCHours());B0.range;const Wc=Rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kr)/na,e=>e.getDate()-1);Wc.range;const Nh=Rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>e.getUTCDate()-1);Nh.range;const QA=Rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/na,e=>Math.floor(e/na));QA.range;function zi(e){return Rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Kr)/R0)}const Oh=zi(0),Xd=zi(1),F7=zi(2),U7=zi(3),Ys=zi(4),z7=zi(5),q7=zi(6);Oh.range;Xd.range;F7.range;U7.range;Ys.range;z7.range;q7.range;function qi(e){return Rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/R0)}const Eh=qi(0),Qd=qi(1),W7=qi(2),V7=qi(3),Js=qi(4),K7=qi(5),H7=qi(6);Eh.range;Qd.range;W7.range;V7.range;Js.range;K7.range;H7.range;const F0=Rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F0.range;const U0=Rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());U0.range;const aa=Rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});aa.range;const ia=Rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ia.range;function ZA(e,t,r,n,a,i){const s=[[bi,1,Hn],[bi,5,5*Hn],[bi,15,15*Hn],[bi,30,30*Hn],[i,1,Kr],[i,5,5*Kr],[i,15,15*Kr],[i,30,30*Kr],[a,1,Gn],[a,3,3*Gn],[a,6,6*Gn],[a,12,12*Gn],[n,1,na],[n,2,2*na],[r,1,R0],[t,1,v1],[t,3,3*v1],[e,1,Jp]];function o(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const p=d&&typeof d.range=="function"?d:l(c,f,d),m=p?p.range(c,+f+1):[];return h?m.reverse():m}function l(c,f,d){const h=Math.abs(f-c)/d,p=S0(([,,g])=>g).right(s,h);if(p===s.length)return e.every(Hv(c/Jp,f/Jp,d));if(p===0)return Jd.every(Math.max(Hv(c,f,d),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[o,l]}const[G7,Y7]=ZA(ia,U0,Eh,QA,B0,D0),[J7,X7]=ZA(aa,F0,Oh,Wc,L0,M0);function Xp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Go(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Q7(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Yo(a),f=Jo(a),d=Yo(i),h=Jo(i),p=Yo(s),m=Jo(s),y=Yo(o),g=Jo(o),b=Yo(l),w=Jo(l),_={a:M,A:R,b:L,B:C,c:null,d:_1,e:_1,f:wH,g:CH,G:$H,H:yH,I:bH,j:xH,L:eP,m:_H,M:SH,p:H,q,Q:k1,s:N1,S:jH,u:kH,U:NH,V:OH,w:EH,W:AH,x:null,X:null,y:PH,Y:TH,Z:IH,"%":j1},v={a:Z,A:le,b:je,B:Ae,c:null,d:S1,e:S1,f:LH,g:GH,G:JH,H:RH,I:MH,j:DH,L:rP,m:BH,M:FH,p:bt,q:ot,Q:k1,s:N1,S:UH,u:zH,U:qH,V:WH,w:VH,W:KH,x:null,X:null,y:HH,Y:YH,Z:XH,"%":j1},x={a:j,A:P,b:I,B:D,c:B,d:x1,e:x1,f:pH,g:b1,G:y1,H:w1,I:w1,j:uH,L:hH,m:cH,M:dH,p:A,q:lH,Q:vH,s:gH,S:fH,u:nH,U:aH,V:iH,w:rH,W:sH,x:F,X:U,y:b1,Y:y1,Z:oH,"%":mH};_.x=S(r,_),_.X=S(n,_),_.c=S(t,_),v.x=S(r,v),v.X=S(n,v),v.c=S(t,v);function S(ee,se){return function(ue){var G=[],Pe=-1,Oe=0,Be=ee.length,Ke,lt,mt;for(ue instanceof Date||(ue=new Date(+ue));++Pe<Be;)ee.charCodeAt(Pe)===37&&(G.push(ee.slice(Oe,Pe)),(lt=g1[Ke=ee.charAt(++Pe)])!=null?Ke=ee.charAt(++Pe):lt=Ke==="e"?" ":"0",(mt=se[Ke])&&(Ke=mt(ue,lt)),G.push(Ke),Oe=Pe+1);return G.push(ee.slice(Oe,Pe)),G.join("")}}function k(ee,se){return function(ue){var G=Go(1900,void 0,1),Pe=E(G,ee,ue+="",0),Oe,Be;if(Pe!=ue.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(se&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Oe=Qp(Go(G.y,0,1)),Be=Oe.getUTCDay(),Oe=Be>4||Be===0?Qd.ceil(Oe):Qd(Oe),Oe=Nh.offset(Oe,(G.V-1)*7),G.y=Oe.getUTCFullYear(),G.m=Oe.getUTCMonth(),G.d=Oe.getUTCDate()+(G.w+6)%7):(Oe=Xp(Go(G.y,0,1)),Be=Oe.getDay(),Oe=Be>4||Be===0?Xd.ceil(Oe):Xd(Oe),Oe=Wc.offset(Oe,(G.V-1)*7),G.y=Oe.getFullYear(),G.m=Oe.getMonth(),G.d=Oe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),Be="Z"in G?Qp(Go(G.y,0,1)).getUTCDay():Xp(Go(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(Be+5)%7:G.w+G.U*7-(Be+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Qp(G)):Xp(G)}}function E(ee,se,ue,G){for(var Pe=0,Oe=se.length,Be=ue.length,Ke,lt;Pe<Oe;){if(G>=Be)return-1;if(Ke=se.charCodeAt(Pe++),Ke===37){if(Ke=se.charAt(Pe++),lt=x[Ke in g1?se.charAt(Pe++):Ke],!lt||(G=lt(ee,ue,G))<0)return-1}else if(Ke!=ue.charCodeAt(G++))return-1}return G}function A(ee,se,ue){var G=c.exec(se.slice(ue));return G?(ee.p=f.get(G[0].toLowerCase()),ue+G[0].length):-1}function j(ee,se,ue){var G=p.exec(se.slice(ue));return G?(ee.w=m.get(G[0].toLowerCase()),ue+G[0].length):-1}function P(ee,se,ue){var G=d.exec(se.slice(ue));return G?(ee.w=h.get(G[0].toLowerCase()),ue+G[0].length):-1}function I(ee,se,ue){var G=b.exec(se.slice(ue));return G?(ee.m=w.get(G[0].toLowerCase()),ue+G[0].length):-1}function D(ee,se,ue){var G=y.exec(se.slice(ue));return G?(ee.m=g.get(G[0].toLowerCase()),ue+G[0].length):-1}function B(ee,se,ue){return E(ee,t,se,ue)}function F(ee,se,ue){return E(ee,r,se,ue)}function U(ee,se,ue){return E(ee,n,se,ue)}function M(ee){return s[ee.getDay()]}function R(ee){return i[ee.getDay()]}function L(ee){return l[ee.getMonth()]}function C(ee){return o[ee.getMonth()]}function H(ee){return a[+(ee.getHours()>=12)]}function q(ee){return 1+~~(ee.getMonth()/3)}function Z(ee){return s[ee.getUTCDay()]}function le(ee){return i[ee.getUTCDay()]}function je(ee){return l[ee.getUTCMonth()]}function Ae(ee){return o[ee.getUTCMonth()]}function bt(ee){return a[+(ee.getUTCHours()>=12)]}function ot(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var se=S(ee+="",_);return se.toString=function(){return ee},se},parse:function(ee){var se=k(ee+="",!1);return se.toString=function(){return ee},se},utcFormat:function(ee){var se=S(ee+="",v);return se.toString=function(){return ee},se},utcParse:function(ee){var se=k(ee+="",!0);return se.toString=function(){return ee},se}}}var g1={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Z7=/^%/,eH=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function tH(e){return e.replace(eH,"\\$&")}function Yo(e){return new RegExp("^(?:"+e.map(tH).join("|")+")","i")}function Jo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rH(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nH(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function y1(e,t,r){var n=Ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function b1(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lH(e,t,r){var n=Ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function x1(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uH(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function w1(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fH(e,t,r){var n=Ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hH(e,t,r){var n=Ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pH(e,t,r){var n=Ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mH(e,t,r){var n=Z7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vH(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gH(e,t,r){var n=Ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _1(e,t){return De(e.getDate(),t,2)}function yH(e,t){return De(e.getHours(),t,2)}function bH(e,t){return De(e.getHours()%12||12,t,2)}function xH(e,t){return De(1+Wc.count(aa(e),e),t,3)}function eP(e,t){return De(e.getMilliseconds(),t,3)}function wH(e,t){return eP(e,t)+"000"}function _H(e,t){return De(e.getMonth()+1,t,2)}function SH(e,t){return De(e.getMinutes(),t,2)}function jH(e,t){return De(e.getSeconds(),t,2)}function kH(e){var t=e.getDay();return t===0?7:t}function NH(e,t){return De(Oh.count(aa(e)-1,e),t,2)}function tP(e){var t=e.getDay();return t>=4||t===0?Ys(e):Ys.ceil(e)}function OH(e,t){return e=tP(e),De(Ys.count(aa(e),e)+(aa(e).getDay()===4),t,2)}function EH(e){return e.getDay()}function AH(e,t){return De(Xd.count(aa(e)-1,e),t,2)}function PH(e,t){return De(e.getFullYear()%100,t,2)}function CH(e,t){return e=tP(e),De(e.getFullYear()%100,t,2)}function TH(e,t){return De(e.getFullYear()%1e4,t,4)}function $H(e,t){var r=e.getDay();return e=r>=4||r===0?Ys(e):Ys.ceil(e),De(e.getFullYear()%1e4,t,4)}function IH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function S1(e,t){return De(e.getUTCDate(),t,2)}function RH(e,t){return De(e.getUTCHours(),t,2)}function MH(e,t){return De(e.getUTCHours()%12||12,t,2)}function DH(e,t){return De(1+Nh.count(ia(e),e),t,3)}function rP(e,t){return De(e.getUTCMilliseconds(),t,3)}function LH(e,t){return rP(e,t)+"000"}function BH(e,t){return De(e.getUTCMonth()+1,t,2)}function FH(e,t){return De(e.getUTCMinutes(),t,2)}function UH(e,t){return De(e.getUTCSeconds(),t,2)}function zH(e){var t=e.getUTCDay();return t===0?7:t}function qH(e,t){return De(Eh.count(ia(e)-1,e),t,2)}function nP(e){var t=e.getUTCDay();return t>=4||t===0?Js(e):Js.ceil(e)}function WH(e,t){return e=nP(e),De(Js.count(ia(e),e)+(ia(e).getUTCDay()===4),t,2)}function VH(e){return e.getUTCDay()}function KH(e,t){return De(Qd.count(ia(e)-1,e),t,2)}function HH(e,t){return De(e.getUTCFullYear()%100,t,2)}function GH(e,t){return e=nP(e),De(e.getUTCFullYear()%100,t,2)}function YH(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function JH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Js(e):Js.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function XH(){return"+0000"}function j1(){return"%"}function k1(e){return+e}function N1(e){return Math.floor(+e/1e3)}var Zi,aP,iP;QH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QH(e){return Zi=Q7(e),aP=Zi.format,Zi.parse,iP=Zi.utcFormat,Zi.utcParse,Zi}function ZH(e){return new Date(e)}function eG(e){return e instanceof Date?+e:+new Date(+e)}function z0(e,t,r,n,a,i,s,o,l,c){var f=E0(),d=f.invert,h=f.domain,p=c(".%L"),m=c(":%S"),y=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),v=c("%Y");function x(S){return(l(S)<S?p:o(S)<S?m:s(S)<S?y:i(S)<S?g:n(S)<S?a(S)<S?b:w:r(S)<S?_:v)(S)}return f.invert=function(S){return new Date(d(S))},f.domain=function(S){return arguments.length?h(Array.from(S,eG)):h().map(ZH)},f.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},f.tickFormat=function(S,k){return k==null?x:c(k)},f.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(VA(k,S)):f},f.copy=function(){return qc(f,z0(e,t,r,n,a,i,s,o,l,c))},f}function tG(){return en.apply(z0(J7,X7,aa,F0,Oh,Wc,L0,M0,bi,aP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rG(){return en.apply(z0(G7,Y7,ia,U0,Eh,Nh,B0,D0,bi,iP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ah(){var e=0,t=1,r,n,a,i,s=ir,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function f(d){return function(h){var p,m;return arguments.length?([p,m]=h,s=d(p,m),c):[s(0),s(1)]}}return c.range=f(Co),c.rangeRound=f(O0),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function Ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sP(){var e=Ha(Ah()(ir));return e.copy=function(){return Ga(e,sP())},ua.apply(e,arguments)}function oP(){var e=C0(Ah()).domain([1,10]);return e.copy=function(){return Ga(e,oP()).base(e.base())},ua.apply(e,arguments)}function lP(){var e=T0(Ah());return e.copy=function(){return Ga(e,lP()).constant(e.constant())},ua.apply(e,arguments)}function q0(){var e=$0(Ah());return e.copy=function(){return Ga(e,q0()).exponent(e.exponent())},ua.apply(e,arguments)}function nG(){return q0.apply(null,arguments).exponent(.5)}function cP(){var e=[],t=ir;function r(n){if(n!=null&&!isNaN(n=+n))return t((Uc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(La),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>q9(e,i/n))},r.copy=function(){return cP(t).domain(e)},ua.apply(r,arguments)}function Ph(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ir,f,d=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+f(y))-i)*(n*y<n*i?o:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function m(y){return function(g){var b,w,_;return arguments.length?([b,w,_]=g,c=m7(y,[b,w,_]),p):[c(0),c(.5),c(1)]}}return p.range=m(Co),p.rangeRound=m(O0),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return f=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function uP(){var e=Ha(Ph()(ir));return e.copy=function(){return Ga(e,uP())},ua.apply(e,arguments)}function dP(){var e=C0(Ph()).domain([.1,1,10]);return e.copy=function(){return Ga(e,dP()).base(e.base())},ua.apply(e,arguments)}function fP(){var e=T0(Ph());return e.copy=function(){return Ga(e,fP()).constant(e.constant())},ua.apply(e,arguments)}function W0(){var e=$0(Ph());return e.copy=function(){return Ga(e,W0()).exponent(e.exponent())},ua.apply(e,arguments)}function aG(){return W0.apply(null,arguments).exponent(.5)}const O1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rc,scaleDiverging:uP,scaleDivergingLog:dP,scaleDivergingPow:W0,scaleDivergingSqrt:aG,scaleDivergingSymlog:fP,scaleIdentity:WA,scaleImplicit:Gv,scaleLinear:Yd,scaleLog:KA,scaleOrdinal:j0,scalePoint:xl,scalePow:I0,scaleQuantile:YA,scaleQuantize:JA,scaleRadial:GA,scaleSequential:sP,scaleSequentialLog:oP,scaleSequentialPow:q0,scaleSequentialQuantile:cP,scaleSequentialSqrt:nG,scaleSequentialSymlog:lP,scaleSqrt:L7,scaleSymlog:HA,scaleThreshold:XA,scaleTime:tG,scaleUtc:rG,tickFormat:qA},Symbol.toStringTag,{value:"Module"}));var iG=_o;function sG(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!iG(s):r(s,o)))var o=s,l=i}return l}var Ch=sG;function oG(e,t){return e>t}var hP=oG,lG=Ch,cG=hP,uG=Po;function dG(e){return e&&e.length?lG(e,uG,cG):void 0}var fG=dG;const Th=ze(fG);function hG(e,t){return e<t}var pP=hG,pG=Ch,mG=pP,vG=Po;function gG(e){return e&&e.length?pG(e,vG,mG):void 0}var yG=gG;const $h=ze(yG);var bG=a0,xG=In,wG=_A,_G=gr;function SG(e,t){var r=_G(e)?bG:wG;return r(e,xG(t))}var jG=SG,kG=xA,NG=jG;function OG(e,t){return kG(NG(e,t),1)}var EG=OG;const AG=ze(EG);var PG=b0;function CG(e,t){return PG(e,t)}var TG=CG;const Vc=ze(TG);var To=1e9,$G={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K0,it=!0,Qr="[DecimalError] ",ji=Qr+"Invalid argument: ",V0=Qr+"Exponent out of range: ",$o=Math.floor,li=Math.pow,IG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Or,Mt=1e7,rt=7,mP=9007199254740991,Zd=$o(mP/rt),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return Qn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return He(Qn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return Ot(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Or))throw Error(Qr+"NaN");if(r.s<1)throw Error(Qr+(r.s?"NaN":"-Infinity"));return r.eq(Or)?new n(0):(it=!1,t=Qn(oc(r,i),oc(e,i),i),it=!0,He(t,a))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yP(t,e):vP(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qr+"NaN");return r.s?(it=!1,t=Qn(r,e,0,1).times(e),it=!0,r.minus(t)):He(new n(r),a)};ae.naturalExponential=ae.exp=function(){return gP(this)};ae.naturalLogarithm=ae.ln=function(){return oc(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vP(t,e):yP(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ji+e);if(t=Ot(a)+1,n=a.d.length-1,r=n*rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qr+"NaN")}for(e=Ot(o),it=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=kn(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$o((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Qn(o,i,s+2)).times(.5),kn(i.d).slice(0,s)===(t=kn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(He(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return it=!0,He(n,r)};ae.times=ae.mul=function(e){var t,r,n,a,i,s,o,l,c,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Mt|0,t=o/Mt|0;i[a]=(i[a]+t)%Mt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,it?He(e,d.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cn(e,0,To),t===void 0?t=n.rounding:Cn(t,0,8),He(r,e+Ot(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$i(n,!0):(Cn(e,0,To),t===void 0?t=a.rounding:Cn(t,0,8),n=He(new a(n),e+1,t),r=$i(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$i(a):(Cn(e,0,To),t===void 0?t=i.rounding:Cn(t,0,8),n=He(new i(a),e+Ot(a)+1,t),r=$i(n.abs(),!1,e+Ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return He(new t(e),Ot(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,f=+(e=new l(e));if(!e.s)return new l(Or);if(o=new l(o),!o.s){if(e.s<1)throw Error(Qr+"Infinity");return o}if(o.eq(Or))return o;if(n=l.precision,e.eq(Or))return He(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=mP){for(a=new l(Or),t=Math.ceil(n/rt+4),it=!1;r%2&&(a=a.times(o),A1(a.d,t)),r=$o(r/2),r!==0;)o=o.times(o),A1(o.d,t);return it=!0,e.s<0?new l(Or).div(a):He(a,n)}}else if(i<0)throw Error(Qr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,it=!1,a=e.times(oc(o,n+c)),it=!0,a=gP(a),a.s=i,a};ae.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ot(a),n=$i(a,r<=i.toExpNeg||r>=i.toExpPos)):(Cn(e,1,To),t===void 0?t=i.rounding:Cn(t,0,8),a=He(new i(a),e,t),r=Ot(a),n=$i(a,e<=r||r<=i.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cn(e,1,To),t===void 0?t=n.rounding:Cn(t,0,8)),He(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),r=e.constructor;return $i(e,t<=r.toExpNeg||t>=r.toExpPos)};function vP(e,t){var r,n,a,i,s,o,l,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),it?He(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/rt),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Mt|0,l[i]%=Mt;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,it?He(t,d):t}function Cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ji+e)}function kn(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=rt-n.length,r&&(i+=xa(r)),i+=n;s=e[t],n=s+"",r=rt-n.length,r&&(i+=xa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Qn=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Mt|0,s=i/Mt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Mt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,f,d,h,p,m,y,g,b,w,_,v,x,S,k,E,A=n.constructor,j=n.s==a.s?1:-1,P=n.d,I=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Qr+"Division by zero");for(l=n.e-a.e,k=I.length,x=P.length,p=new A(j),m=p.d=[],c=0;I[c]==(P[c]||0);)++c;if(I[c]>(P[c]||0)&&--l,i==null?w=i=A.precision:s?w=i+(Ot(n)-Ot(a))+1:w=i,w<0)return new A(0);if(w=w/rt+2|0,c=0,k==1)for(f=0,I=I[0],w++;(c<x||f)&&w--;c++)_=f*Mt+(P[c]||0),m[c]=_/I|0,f=_%I|0;else{for(f=Mt/(I[0]+1)|0,f>1&&(I=e(I,f),P=e(P,f),k=I.length,x=P.length),v=k,y=P.slice(0,k),g=y.length;g<k;)y[g++]=0;E=I.slice(),E.unshift(0),S=I[0],I[1]>=Mt/2&&++S;do f=0,o=t(I,y,k,g),o<0?(b=y[0],k!=g&&(b=b*Mt+(y[1]||0)),f=b/S|0,f>1?(f>=Mt&&(f=Mt-1),d=e(I,f),h=d.length,g=y.length,o=t(d,y,h,g),o==1&&(f--,r(d,k<h?E:I,h))):(f==0&&(o=f=1),d=I.slice()),h=d.length,h<g&&d.unshift(0),r(y,d,g),o==-1&&(g=y.length,o=t(I,y,k,g),o<1&&(f++,r(y,k<g?E:I,g))),g=y.length):o===0&&(f++,y=[0]),m[c++]=f,o&&y[0]?y[g++]=P[v]||0:(y=[P[v]],g=1);while((v++<x||y[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,He(p,s?i+Ot(p)+1:i)}}();function gP(e,t){var r,n,a,i,s,o,l=0,c=0,f=e.constructor,d=f.precision;if(Ot(e)>16)throw Error(V0+Ot(e));if(!e.s)return new f(Or);for(it=!1,o=d,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(li(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new f(Or),f.precision=o;;){if(a=He(a.times(e),o),r=r.times(++l),s=i.plus(Qn(a,r,o)),kn(s.d).slice(0,o)===kn(i.d).slice(0,o)){for(;c--;)i=He(i.times(i),o);return f.precision=d,t==null?(it=!0,He(i,d)):i}i=s}}function Ot(e){for(var t=e.e*rt,r=e.d[0];r>=10;r/=10)t++;return t}function Zp(e,t,r){if(t>e.LN10.sd())throw it=!0,r&&(e.precision=r),Error(Qr+"LN10 precision limit exceeded");return He(new e(e.LN10),t)}function xa(e){for(var t="";e--;)t+="0";return t}function oc(e,t){var r,n,a,i,s,o,l,c,f,d=1,h=10,p=e,m=p.d,y=p.constructor,g=y.precision;if(p.s<1)throw Error(Qr+(p.s?"NaN":"-Infinity"));if(p.eq(Or))return new y(0);if(t==null?(it=!1,c=g):c=t,p.eq(10))return t==null&&(it=!0),Zp(y,c);if(c+=h,y.precision=c,r=kn(m),n=r.charAt(0),i=Ot(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=kn(p.d),n=r.charAt(0),d++;i=Ot(p),n>1?(p=new y("0."+r),i++):p=new y(n+"."+r.slice(1))}else return l=Zp(y,c+2,g).times(i+""),p=oc(new y(n+"."+r.slice(1)),c-h).plus(l),y.precision=g,t==null?(it=!0,He(p,g)):p;for(o=s=p=Qn(p.minus(Or),p.plus(Or),c),f=He(p.times(p),c),a=3;;){if(s=He(s.times(f),c),l=o.plus(Qn(s,new y(a),c)),kn(l.d).slice(0,c)===kn(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(Zp(y,c+2,g).times(i+""))),o=Qn(o,new y(d),c),y.precision=g,t==null?(it=!0,He(o,g)):o;o=l,a+=2}}function E1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=$o(r/rt),e.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=rt;n<a;)e.d.push(+t.slice(n,n+=rt));t=t.slice(n),n=rt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),it&&(e.e>Zd||e.e<-Zd))throw Error(V0+r)}else e.s=0,e.e=0,e.d=[0];return e}function He(e,t,r){var n,a,i,s,o,l,c,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=rt,a=t,c=d[f=0];else{if(f=Math.ceil((n+1)/rt),i=d.length,f>=i)return e;for(c=i=d[f],s=1;i>=10;i/=10)s++;n%=rt,a=n-rt+s}if(r!==void 0&&(i=li(10,s-a-1),o=c/i%10|0,l=t<0||d[f+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/li(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Ot(e),d.length=1,t=t-i-1,d[0]=li(10,(rt-t%rt)%rt),e.e=$o(-t/rt)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=li(10,rt-n),d[f]=a>0?(c/li(10,s-a)%li(10,a)|0)*i:0),l)for(;;)if(f==0){(d[0]+=i)==Mt&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=Mt)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(it&&(e.e>Zd||e.e<-Zd))throw Error(V0+Ot(e));return e}function yP(e,t){var r,n,a,i,s,o,l,c,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),it?He(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(f=s<0,f?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/rt),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}s=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=Mt-1;--l[i],l[a]+=Mt}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,it?He(t,p):t):new h(0)}function $i(e,t,r){var n,a=Ot(e),i=kn(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+xa(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+xa(-a-1)+i,r&&(n=r-s)>0&&(i+=xa(n))):a>=s?(i+=xa(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+xa(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=xa(n))),e.s<0?"-"+i:i}function A1(e,t){if(e.length>t)return e.length=t,!0}function bP(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ji+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return E1(s,i.toString())}else if(typeof i!="string")throw Error(ji+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,IG.test(i))E1(s,i);else throw Error(ji+i)}if(a.prototype=ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=bP,a.config=a.set=RG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function RG(e){if(!e||typeof e!="object")throw Error(Qr+"Object expected");var t,r,n,a=["precision",1,To,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if($o(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ji+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ji+r+": "+n);return this}var K0=bP($G);Or=new K0(1);const Ve=K0;function MG(e){return FG(e)||BG(e)||LG(e)||DG()}function DG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e,t){if(e){if(typeof e=="string")return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(e,t)}}function BG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FG(e){if(Array.isArray(e))return Qv(e)}function Qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UG=function(t){return t},xP={},wP=function(t){return t===xP},P1=function(t){return function r(){return arguments.length===0||arguments.length===1&&wP(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},zG=function e(t,r){return t===1?r:P1(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==xP}).length;return s>=t?r.apply(void 0,a):e(t-s,P1(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var f=a.map(function(d){return wP(d)?l.shift():d});return r.apply(void 0,MG(f).concat(l))}))})},Ih=function(t){return zG(t.length,t)},Zv=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},qG=Ih(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),WG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UG;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},eg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_P=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function VG(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function KG(e,t,r){for(var n=new Ve(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var HG=Ih(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),GG=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YG=Ih(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rh={rangeStep:KG,getDigitCount:VG,interpolateNumber:HG,uninterpolateNumber:GG,uninterpolateTruncation:YG};function tg(e){return QG(e)||XG(e)||SP(e)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QG(e){if(Array.isArray(e))return rg(e)}function lc(e,t){return tY(e)||eY(e,t)||SP(e,t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e,t){if(e){if(typeof e=="string")return rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rg(e,t)}}function rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function tY(e){if(Array.isArray(e))return e}function jP(e){var t=lc(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function kP(e,t,r){if(e.lte(0))return new Ve(0);var n=Rh.getDigitCount(e.toNumber()),a=new Ve(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Ve(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Ve(Math.ceil(l))}function rY(e,t,r){var n=1,a=new Ve(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ve(10).pow(Rh.getDigitCount(e)-1),a=new Ve(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ve(Math.floor(e)))}else e===0?a=new Ve(Math.floor((t-1)/2)):r||(a=new Ve(Math.floor(e)));var s=Math.floor((t-1)/2),o=WG(qG(function(l){return a.add(new Ve(l-s).mul(n)).toNumber()}),Zv);return o(0,t)}function NP(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var i=kP(new Ve(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Ve(0):(s=new Ve(e).add(t).div(2),s=s.sub(new Ve(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Ve(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?NP(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Ve(o).mul(i)),tickMax:s.add(new Ve(l).mul(i))})}function nY(e){var t=lc(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=jP([r,n]),l=lc(o,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(tg(Zv(0,a-1).map(function(){return 1/0}))):[].concat(tg(Zv(0,a-1).map(function(){return-1/0})),[f]);return r>n?eg(d):d}if(c===f)return rY(c,a,i);var h=NP(c,f,s,i),p=h.step,m=h.tickMin,y=h.tickMax,g=Rh.rangeStep(m,y.add(new Ve(.1).mul(p)),p);return r>n?eg(g):g}function aY(e,t){var r=lc(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=jP([n,a]),o=lc(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var f=Math.max(t,2),d=kP(new Ve(c).sub(l).div(f-1),i,0),h=[].concat(tg(Rh.rangeStep(new Ve(l),new Ve(c).sub(new Ve(.99).mul(d)),d)),[c]);return n>a?eg(h):h}var iY=_P(nY),sY=_P(aY),oY="Invariant failed";function Ii(e,t){throw new Error(oY)}var lY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(this,arguments)}function cY(e,t){return hY(e)||fY(e,t)||dY(e,t)||uY()}function uY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dY(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hY(e){if(Array.isArray(e))return e}function pY(e,t){if(e==null)return{};var r=mY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AP(n.key),n)}}function yY(e,t,r){return t&&gY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bY(e,t,r){return t=tf(t),xY(e,OP()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function xY(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function _Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ng(e,t)}function EP(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AP(e){var t=SY(e,"string");return Xs(t)=="symbol"?t:t+""}function SY(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kc=function(e){function t(){return vY(this,t),bY(this,t,arguments)}return _Y(t,e),yY(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=pY(n,lY),p=me(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ii();var m=l.map(function(y){var g=c(y,o),b=g.x,w=g.y,_=g.value,v=g.errorVal;if(!v)return null;var x=[],S,k;if(Array.isArray(v)){var E=cY(v,2);S=E[0],k=E[1]}else S=k=v;if(i==="vertical"){var A=f.scale,j=w+a,P=j+s,I=j-s,D=A(_-S),B=A(_+k);x.push({x1:B,y1:P,x2:B,y2:I}),x.push({x1:D,y1:j,x2:B,y2:j}),x.push({x1:D,y1:P,x2:D,y2:I})}else if(i==="horizontal"){var F=d.scale,U=b+a,M=U-s,R=U+s,L=F(_-S),C=F(_+k);x.push({x1:M,y1:C,x2:R,y2:C}),x.push({x1:U,y1:L,x2:U,y2:C}),x.push({x1:M,y1:L,x2:R,y2:L})}return T.createElement(Me,ef({className:"recharts-errorBar",key:"bar-".concat(x.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),x.map(function(H){return T.createElement("line",ef({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return T.createElement(Me,{className:"recharts-errorBars"},m)}}])}(T.Component);EP(Kc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EP(Kc,"displayName","ErrorBar");function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function T1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return t=kY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=NY(e,"string");return cc(t)=="symbol"?t:t+""}function NY(e,t){if(cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PP=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Sr(r,fn);if(!s)return null;var o=fn.defaultProps,l=o!==void 0?Za(Za({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,m=p.sectors||p.data||[];return f.concat(m.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?Za(Za({},h),d.props):{},m=p.dataKey,y=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:l.iconType||g||"square",color:H0(d),value:y||m,payload:p}}),Za(Za(Za({},l),fn.getWithHeight(s,a)),{},{payload:c,item:s})};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function $1(e){return PY(e)||AY(e)||EY(e)||OY()}function OY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(e,t){if(e){if(typeof e=="string")return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}}function AY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PY(e){if(Array.isArray(e))return ag(e)}function ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){Ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ts(e,t,r){return t=CY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=TY(e,"string");return uc(t)=="symbol"?t:t+""}function TY(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tt(e,t,r){return _e(e)||_e(t)?r:It(t)?Pr(e,t,r):xe(t)?t(e):r}function wl(e,t,r,n){var a=AG(e,function(o){return Tt(o,t)});if(r==="number"){var i=a.filter(function(o){return X(o)||parseFloat(o)});return i.length?[$h(i),Th(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!_e(o)}):a;return s.map(function(o){return It(o)||o instanceof Date?o:""})}var $Y=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var f=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(nr(d-f)!==nr(h-d)){var m=[];if(nr(h-d)===nr(l[1]-l[0])){p=h;var y=d+l[1]-l[0];m[0]=Math.min(y,(y+f)/2),m[1]=Math.max(y,(y+f)/2)}else{p=f;var g=h+l[1]-l[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){s=a[c].index;break}}else{var w=Math.min(f,h),_=Math.max(f,h);if(t>(w+d)/2&&t<=(_+d)/2){s=a[c].index;break}}}else for(var v=0;v<o;v++)if(v===0&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<o-1&&t>(n[v].coordinate+n[v-1].coordinate)/2&&t<=(n[v].coordinate+n[v+1].coordinate)/2||v===o-1&&t>(n[v].coordinate+n[v-1].coordinate)/2){s=n[v].index;break}return s},H0=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},IY=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var f=i[o[l]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var m=f[d[h]],y=m.items,g=m.cateAxisId,b=y.filter(function(k){return Xn(k.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?yt(yt({},w),b[0].props):b[0].props,v=_.barSize,x=_[g];s[x]||(s[x]=[]);var S=_e(v)?r:v;s[x].push({item:b[0],stackList:b.slice(1),barSize:_e(S)?void 0:ar(S,n,0)})}}return s},RY=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ar(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,m=s.reduce(function(v,x){return v+x.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&p>0&&(h=!0,p*=.9,m=l*p);var y=(a-m)/2>>0,g={offset:y-c,size:0};f=s.reduce(function(v,x){var S={item:x.item,position:{offset:g.offset+g.size+c,size:h?p:x.barSize}},k=[].concat($1(v),[S]);return g=k[k.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(E){k.push({item:E,position:g})}),k},d)}else{var b=ar(n,a,0,!0);a-2*b-(l-1)*c<=0&&(c=0);var w=(a-2*b-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;f=s.reduce(function(v,x,S){var k=[].concat($1(v),[{item:x.item,position:{offset:b+(w+c)*S+(w-_)/2,size:_}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},d)}return f},MY=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=PP({children:i,legendWidth:l});if(c){var f=a||{},d=f.width,h=f.height,p=c.align,m=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&X(t[p]))return yt(yt({},t),{},Ts({},p,t[p]+(d||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&X(t[m]))return yt(yt({},t),{},Ts({},m,t[m]+(h||0)))}return t},DY=function(t,r,n){return _e(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CP=function(t,r,n,a,i){var s=r.props.children,o=Cr(s,Kc).filter(function(c){return DY(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,f){var d=Tt(f,n);if(_e(d))return c;var h=Array.isArray(d)?[$h(d),Th(d)]:[d,d],p=l.reduce(function(m,y){var g=Tt(f,y,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),w=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},LY=function(t,r,n,a,i){var s=r.map(function(o){return CP(t,o,n,i,a)}).filter(function(o){return!_e(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},TP=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&CP(t,l,c,a)||wl(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)o[c[f]]||(o[c[f]]=!0,l.push(c[f]));return l},[])},$P=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},IP=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Yn=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?nr(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return f.filter(function(d){return!Bc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},em=new WeakMap,Cu=function(t,r){if(typeof r!="function")return t;em.has(t)||em.set(t,new WeakMap);var n=em.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},RP=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:rc(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Yd(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xl(),realScaleType:"point"}:i==="category"?{scale:rc(),realScaleType:"band"}:{scale:Yd(),realScaleType:"linear"};if(Pi(a)){var l="scale".concat(gh(a));return{scale:(O1[l]||xl)(),realScaleType:O1[l]?l:"point"}}return xe(a)?{scale:a}:{scale:xl(),realScaleType:"point"}},R1=1e-4,MP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-R1,s=Math.max(a[0],a[1])+R1,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},BY=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},FY=function(t,r){if(!r||r.length!==2||!X(r[0])||!X(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!X(t[0])||t[0]<n)&&(i[0]=n),(!X(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},UY=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Bc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},zY=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Bc(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},qY={sign:UY,expand:l5,none:qs,silhouette:c5,wiggle:u5,positive:zY},WY=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=qY[n],s=o5().keys(a).value(function(o,l){return+Tt(o,l,0)}).order(Av).offset(i);return s(t)},VY=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},h.type.defaultProps),h.props):h.props,y=m.stackId,g=m.hide;if(g)return d;var b=m[n],w=d[b]||{hasStack:!1,stackGroups:{}};if(It(y)){var _=w.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[Oo("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yt(yt({},d),{},Ts({},b,w))},l),f={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,g){var b=p.stackGroups[g];return yt(yt({},y),{},Ts({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:WY(t,b.items,i)}))},m)}return yt(yt({},d),{},Ts({},h,p))},f)},DP=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var f=iY(c,i,o);return t.domain([$h(f),Th(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),h=sY(d,i,o);return{niceTicks:h}}return null};function M1(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_e(a[t.dataKey])){var o=Ed(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Tt(a,_e(s)?t.dataKey:s);return _e(l)?null:t.scale(l)}var D1=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Tt(s,r.dataKey,r.domain[o]);return _e(l)?null:r.scale(l)-i/2+a},KY=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},HY=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(It(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},GY=function(t){return t.reduce(function(r,n){return[$h(n.concat([r[0]]).filter(X)),Th(n.concat([r[1]]).filter(X))]},[1/0,-1/0])},LP=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,f){var d=GY(f.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},L1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,B1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ig=function(t,r,n){if(xe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(X(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(L1.test(t[0])){var i=+L1.exec(t[0])[1];a[0]=r[0]-i}else xe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(X(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(B1.test(t[1])){var s=+B1.exec(t[1])[1];a[1]=r[1]+s}else xe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=w0(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],f=i[o-1];s=Math.min((c.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},F1=function(t,r,n){return!t||!t.length||Vc(t,Pr(n,"type.defaultProps.domain"))?r:t},BP=function(t,r){var n=t.type.defaultProps?yt(yt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,f=n.hide;return yt(yt({},me(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:H0(t),value:Tt(r,a),type:l,payload:r,chartType:c,hide:f})};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){FP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FP(e,t,r){return t=YY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=JY(e,"string");return dc(t)=="symbol"?t:t+""}function JY(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XY(e,t){return tJ(e)||eJ(e,t)||ZY(e,t)||QY()}function QY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZY(e,t){if(e){if(typeof e=="string")return z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(e,t)}}function z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tJ(e){if(Array.isArray(e))return e}var nf=Math.PI/180,rJ=function(t){return t*180/Math.PI},Ze=function(t,r,n,a){return{x:t+Math.cos(-nf*a)*n,y:r+Math.sin(-nf*a)*n}},UP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nJ=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.startAngle,c=t.endAngle,f=ar(t.cx,s,s/2),d=ar(t.cy,o,o/2),h=UP(s,o,n),p=ar(t.innerRadius,h,0),m=ar(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(g,b){var w=r[b],_=w.domain,v=w.reversed,x;if(_e(w.range))a==="angleAxis"?x=[l,c]:a==="radiusAxis"&&(x=[p,m]),v&&(x=[x[1],x[0]]);else{x=w.range;var S=x,k=XY(S,2);l=k[0],c=k[1]}var E=RP(w,i),A=E.realScaleType,j=E.scale;j.domain(_).range(x),MP(j);var P=DP(j,zn(zn({},w),{},{realScaleType:A})),I=zn(zn(zn({},w),P),{},{range:x,radius:m,realScaleType:A,scale:j,cx:f,cy:d,innerRadius:p,outerRadius:m,startAngle:l,endAngle:c});return zn(zn({},g),{},FP({},b,I))},{})},aJ=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},iJ=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=aJ({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:rJ(c),angleInRadian:c}},sJ=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},oJ=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},q1=function(t,r){var n=t.x,a=t.y,i=iJ({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var f=sJ(r),d=f.startAngle,h=f.endAngle,p=o,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?zn(zn({},r),{},{radius:s,angle:oJ(p,r)}):null},zP=function(t){return!O.isValidElement(t)&&!xe(t)&&typeof t!="boolean"?t.className:""};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}var lJ=["offset"];function cJ(e){return hJ(e)||fJ(e)||dJ(e)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(e,t){if(e){if(typeof e=="string")return sg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sg(e,t)}}function fJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hJ(e){if(Array.isArray(e))return sg(e)}function sg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pJ(e,t){if(e==null)return{};var r=mJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return t=gJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=yJ(e,"string");return fc(t)=="symbol"?t:t+""}function yJ(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}var bJ=function(t){var r=t.value,n=t.formatter,a=_e(t.children)?r:t.children;return xe(n)?n(a):a},xJ=function(t,r){var n=nr(r-t),a=Math.min(Math.abs(r-t),360);return n*a},wJ=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,g=(d+h)/2,b=xJ(p,m),w=b>=0?1:-1,_,v;a==="insideStart"?(_=p+w*s,v=y):a==="insideEnd"?(_=m-w*s,v=!y):a==="end"&&(_=m+w*s,v=y),v=b<=0?v:!v;var x=Ze(c,f,g,_),S=Ze(c,f,g,_+(v?1:-1)*359),k="M".concat(x.x,",").concat(x.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(S.x,",").concat(S.y),E=_e(t.id)?Oo("recharts-radial-line-"):t.id;return T.createElement("text",hc({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:E,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(E)},r))},_J=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(a==="outside"){var p=Ze(s,o,c+n,h),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,b=Ze(s,o,g,h),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},SJ=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,f=s.height,d=f>=0?1:-1,h=d*a,p=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,g=y*a,b=y>0?"end":"start",w=y>0?"start":"end";if(i==="top"){var _={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return At(At({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var v={x:o+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:m};return At(At({},v),n?{height:Math.max(n.y+n.height-(l+f),0),width:c}:{})}if(i==="left"){var x={x:o-g,y:l+f/2,textAnchor:b,verticalAnchor:"middle"};return At(At({},x),n?{width:Math.max(x.x-n.x,0),height:f}:{})}if(i==="right"){var S={x:o+c+g,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return At(At({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:f}:{})}var k=n?{width:c,height:f}:{};return i==="insideLeft"?At({x:o+g,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideRight"?At({x:o+c-g,y:l+f/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?At({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?At({x:o+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?At({x:o+g,y:l+h,textAnchor:w,verticalAnchor:m},k):i==="insideTopRight"?At({x:o+c-g,y:l+h,textAnchor:b,verticalAnchor:m},k):i==="insideBottomLeft"?At({x:o+g,y:l+f-h,textAnchor:w,verticalAnchor:p},k):i==="insideBottomRight"?At({x:o+c-g,y:l+f-h,textAnchor:b,verticalAnchor:p},k):So(i)&&(X(i.x)||gi(i.x))&&(X(i.y)||gi(i.y))?At({x:o+ar(i.x,c),y:l+ar(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):At({x:o+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},jJ=function(t){return"cx"in t&&X(t.cx)};function Bt(e){var t=e.offset,r=t===void 0?5:t,n=pJ(e,lJ),a=At({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,f=a.className,d=f===void 0?"":f,h=a.textBreakAll;if(!i||_e(o)&&_e(l)&&!O.isValidElement(c)&&!xe(c))return null;if(O.isValidElement(c))return O.cloneElement(c,a);var p;if(xe(c)){if(p=O.createElement(c,a),O.isValidElement(p))return p}else p=bJ(a);var m=jJ(i),y=me(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return wJ(a,p,y);var g=m?_J(a):SJ(a);return T.createElement(Ti,hc({className:Ne("recharts-label",d)},y,g,{breakAll:h}),p)}Bt.displayName="Label";var qP=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,m=t.left,y=t.width,g=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(X(y)&&X(g)){if(X(d)&&X(h))return{x:d,y:h,width:y,height:g};if(X(p)&&X(m))return{x:p,y:m,width:y,height:g}}return X(d)&&X(h)?{x:d,y:h,width:0,height:0}:X(r)&&X(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:f||l||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},kJ=function(t,r){return t?t===!0?T.createElement(Bt,{key:"label-implicit",viewBox:r}):It(t)?T.createElement(Bt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Bt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(Bt,{key:"label-implicit",content:t,viewBox:r}):xe(t)?T.createElement(Bt,{key:"label-implicit",content:t,viewBox:r}):So(t)?T.createElement(Bt,hc({viewBox:r},t,{key:"label-implicit"})):null:null},NJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=qP(t),s=Cr(a,Bt).map(function(l,c){return O.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=kJ(t.label,r||i);return[o].concat(cJ(s))};Bt.parseViewBox=qP;Bt.renderCallByParent=NJ;function OJ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var EJ=OJ;const AJ=ze(EJ);function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}var PJ=["valueAccessor"],CJ=["data","dataKey","clockWise","id","textBreakAll"];function TJ(e){return MJ(e)||RJ(e)||IJ(e)||$J()}function $J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IJ(e,t){if(e){if(typeof e=="string")return og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return og(e,t)}}function RJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MJ(e){if(Array.isArray(e))return og(e)}function og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return t=LJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=BJ(e,"string");return pc(t)=="symbol"?t:t+""}function BJ(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(e,t){if(e==null)return{};var r=FJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UJ=function(t){return Array.isArray(t.value)?AJ(t.value):t.value};function dr(e){var t=e.valueAccessor,r=t===void 0?UJ:t,n=H1(e,PJ),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=H1(n,CJ);return!a||!a.length?null:T.createElement(Me,{className:"recharts-label-list"},a.map(function(f,d){var h=_e(i)?r(f,d):Tt(f&&f.payload,i),p=_e(o)?{}:{id:"".concat(o,"-").concat(d)};return T.createElement(Bt,af({},me(f,!0),c,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Bt.parseViewBox(_e(s)?f:K1(K1({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}dr.displayName="LabelList";function zJ(e,t){return e?e===!0?T.createElement(dr,{key:"labelList-implicit",data:t}):T.isValidElement(e)||xe(e)?T.createElement(dr,{key:"labelList-implicit",data:t,content:e}):So(e)?T.createElement(dr,af({data:t},e,{key:"labelList-implicit"})):null:null}function qJ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Cr(n,dr).map(function(s,o){return O.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=zJ(e.label,t);return[i].concat(TJ(a))}dr.renderCallByParent=qJ;function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return t=VJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return mc(t)=="symbol"?t:t+""}function KJ(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ=function(t,r){var n=nr(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Tu=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,f=l*(o?1:-1)+a,d=Math.asin(l/f)/nf,h=c?i:i+s*d,p=Ze(r,n,f,h),m=Ze(r,n,a,h),y=c?i-s*d:i,g=Ze(r,n,f*Math.cos(d*nf),y);return{center:p,circleTangency:m,lineTangency:g,theta:d}},WP=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=HJ(s,o),c=s+l,f=Ze(r,n,i,s),d=Ze(r,n,i,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ze(r,n,a,s),m=Ze(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},GJ=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=nr(f-c),h=Tu({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,y=h.theta,g=Tu({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=g.circleTangency,w=g.lineTangency,_=g.theta,v=l?Math.abs(c-f):Math.abs(c-f)-y-_;if(v<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:f});var x="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var S=Tu({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=S.circleTangency,E=S.lineTangency,A=S.theta,j=Tu({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=j.circleTangency,I=j.lineTangency,D=j.theta,B=l?Math.abs(c-f):Math.abs(c-f)-A-D;if(B<0&&s===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},YJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VP=function(t){var r=Y1(Y1({},YJ),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(s<i||f===d)return null;var p=Ne("recharts-sector",h),m=s-i,y=ar(o,m,0,!0),g;return y>0&&Math.abs(f-d)<360?g=GJ({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):g=WP({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),T.createElement("path",lg({},me(r,!0),{className:p,d:g,role:"img"}))};function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return t=XJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=QJ(e,"string");return vc(t)=="symbol"?t:t+""}function QJ(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q1={curveBasisClosed:JF,curveBasisOpen:XF,curveBasis:YF,curveBumpX:RF,curveBumpY:MF,curveLinearClosed:QF,curveLinear:bh,curveMonotoneX:ZF,curveMonotoneY:e5,curveNatural:t5,curveStep:r5,curveStepAfter:a5,curveStepBefore:n5},$u=function(t){return t.x===+t.x&&t.y===+t.y},Xo=function(t){return t.x},Qo=function(t){return t.y},ZJ=function(t,r){if(xe(t))return t;var n="curve".concat(gh(t));return(n==="curveMonotone"||n==="curveBump")&&r?Q1["".concat(n).concat(r==="vertical"?"Y":"X")]:Q1[n]||bh},eX=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,f=ZJ(n,o),d=c?i.filter(function(y){return $u(y)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(y){return $u(y)}):s,m=d.map(function(y,g){return X1(X1({},y),{},{base:p[g]})});return o==="vertical"?h=Su().y(Qo).x1(Xo).x0(function(y){return y.base.x}):h=Su().x(Xo).y1(Qo).y0(function(y){return y.base.y}),h.defined($u).curve(f),h(m)}return o==="vertical"&&X(s)?h=Su().y(Qo).x1(Xo).x0(s):X(s)?h=Su().x(Xo).y1(Qo).y0(s):h=BE().x(Xo).y(Qo),h.defined($u).curve(f),h(d)},sf=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?eX(t):a;return O.createElement("path",cg({},me(t,!1),Ad(t),{className:Ne("recharts-curve",r),d:s,ref:i}))},KP={exports:{}},tX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rX=tX,nX=rX;function HP(){}function GP(){}GP.resetWarningCache=HP;var aX=function(){function e(n,a,i,s,o,l){if(l!==nX){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GP,resetWarningCache:HP};return r.PropTypes=r,r};KP.exports=aX();var iX=KP.exports;const Fe=ze(iX);var sX=Object.getOwnPropertyNames,oX=Object.getOwnPropertySymbols,lX=Object.prototype.hasOwnProperty;function Z1(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Iu(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function cX(e){return e!=null?e[Symbol.toStringTag]:void 0}function eS(e){return sX(e).concat(oX(e))}var uX=Object.hasOwn||function(e,t){return lX.call(e,t)};function Wi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dX="__v",fX="__o",hX="_owner",tS=Object.getOwnPropertyDescriptor,rS=Object.keys;function pX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function mX(e,t){return Wi(e.getTime(),t.getTime())}function vX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function gX(e,t){return e===t}function nS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),f=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}var yX=Wi;function bX(e,t,r){var n=rS(e),a=n.length;if(rS(t).length!==a)return!1;for(;a-- >0;)if(!YP(e,t,r,n[a]))return!1;return!0}function Zo(e,t,r){var n=eS(e),a=n.length;if(eS(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!YP(e,t,r,i)||(s=tS(e,i),o=tS(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function xX(e,t){return Wi(e.valueOf(),t.valueOf())}function wX(e,t){return e.source===t.source&&e.flags===t.flags}function aS(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,f=0;(o=l.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[f]=!0;break}f++}if(!c)return!1}return!0}function _X(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YP(e,t,r,n){return(n===hX||n===fX||n===dX)&&(e.$$typeof||t.$$typeof)?!0:uX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var jX="[object Arguments]",kX="[object Boolean]",NX="[object Date]",OX="[object Error]",EX="[object Map]",AX="[object Number]",PX="[object Object]",CX="[object RegExp]",TX="[object Set]",$X="[object String]",IX="[object URL]",RX=Array.isArray,iS=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,sS=Object.assign,MX=Object.prototype.toString.call.bind(Object.prototype.toString);function DX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(y,g,b){if(y===g)return!0;if(y==null||g==null)return!1;var w=typeof y;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?s(y,g,b):w==="function"?a(y,g,b):!1;var _=y.constructor;if(_!==g.constructor)return!1;if(_===Object)return o(y,g,b);if(RX(y))return t(y,g,b);if(iS!=null&&iS(y))return d(y,g,b);if(_===Date)return r(y,g,b);if(_===RegExp)return c(y,g,b);if(_===Map)return i(y,g,b);if(_===Set)return f(y,g,b);var v=MX(y);if(v===NX)return r(y,g,b);if(v===CX)return c(y,g,b);if(v===EX)return i(y,g,b);if(v===TX)return f(y,g,b);if(v===PX)return typeof y.then!="function"&&typeof g.then!="function"&&o(y,g,b);if(v===IX)return h(y,g,b);if(v===OX)return n(y,g,b);if(v===jX)return o(y,g,b);if(v===kX||v===AX||v===$X)return l(y,g,b);if(p){var x=p[v];if(!x){var S=cX(y);S&&(x=p[S])}if(x)return x(y,g,b)}return!1}}function LX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Zo:pX,areDatesEqual:mX,areErrorsEqual:vX,areFunctionsEqual:gX,areMapsEqual:n?Z1(nS,Zo):nS,areNumbersEqual:yX,areObjectsEqual:n?Zo:bX,arePrimitiveWrappersEqual:xX,areRegExpsEqual:wX,areSetsEqual:n?Z1(aS,Zo):aS,areTypedArraysEqual:n?Zo:_X,areUrlsEqual:SX,unknownTagComparators:void 0};if(r&&(a=sS({},a,r(a))),t){var i=Iu(a.areArraysEqual),s=Iu(a.areMapsEqual),o=Iu(a.areObjectsEqual),l=Iu(a.areSetsEqual);a=sS({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function BX(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function FX(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var UX=Ya();Ya({strict:!0});Ya({circular:!0});Ya({circular:!0,strict:!0});Ya({createInternalComparator:function(){return Wi}});Ya({strict:!0,createInternalComparator:function(){return Wi}});Ya({circular:!0,createInternalComparator:function(){return Wi}});Ya({circular:!0,createInternalComparator:function(){return Wi},strict:!0});function Ya(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=LX(e),l=DX(o),c=n?n(l):BX(l);return FX({circular:r,comparator:l,createState:a,equals:c,strict:s})}function zX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):zX(a)};requestAnimationFrame(n)}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function qX(e){return HX(e)||KX(e)||VX(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HX(e){if(Array.isArray(e))return e}function GX(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=qX(s),l=o[0],c=o.slice(1);if(typeof l=="number"){oS(a.bind(null,c),l);return}a(l),oS(a.bind(null,c));return}ug(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){JP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JP(e,t,r){return t=YX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=JX(e,"string");return gc(t)==="symbol"?t:String(t)}function JX(e,t){if(gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},QX=function(t){return t},ZX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_l=function(t,r){return Object.keys(r).reduce(function(n,a){return uS(uS({},n),{},JP({},a,t(a,r[a])))},{})},dS=function(t,r,n){return t.map(function(a){return"".concat(ZX(a)," ").concat(r,"ms ").concat(n)}).join(",")};function eQ(e,t){return nQ(e)||rQ(e,t)||XP(e,t)||tQ()}function tQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function nQ(e){if(Array.isArray(e))return e}function aQ(e){return oQ(e)||sQ(e)||XP(e)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function sQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oQ(e){if(Array.isArray(e))return dg(e)}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var of=1e-4,QP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZP=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},fS=function(t,r){return function(n){var a=QP(t,r);return ZP(a,n)}},lQ=function(t,r){return function(n){var a=QP(t,r),i=[].concat(aQ(a.map(function(s,o){return s*o}).slice(1)),[0]);return ZP(i,n)}},hS=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=eQ(c,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var d=fS(a,s),h=fS(i,o),p=lQ(a,s),m=function(b){return b>1?1:b<0?0:b},y=function(b){for(var w=b>1?1:b,_=w,v=0;v<8;++v){var x=d(_)-w,S=p(_);if(Math.abs(x-w)<of||S<of)return h(_);_=m(_-x/S)}return h(_)};return y.isStepper=!1,y},cQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(f,d,h){var p=-(f-d)*n,m=h*i,y=h+(p-m)*o/1e3,g=h*o/1e3+f;return Math.abs(g-d)<of&&Math.abs(y)<of?[d,0]:[g,y]};return l.isStepper=!0,l.dt=o,l},uQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hS(a);case"spring":return cQ();default:if(a.split("(")[0]==="cubic-bezier")return hS(a)}return typeof a=="function"?a:null};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function pS(e){return hQ(e)||fQ(e)||eC(e)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hQ(e){if(Array.isArray(e))return hg(e)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=mQ(e,"string");return yc(t)==="symbol"?t:String(t)}function mQ(e,t){if(yc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vQ(e,t){return bQ(e)||yQ(e,t)||eC(e,t)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eC(e,t){if(e){if(typeof e=="string")return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hg(e,t)}}function hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function bQ(e){if(Array.isArray(e))return e}var lf=function(t,r,n){return t+(r-t)*n},pg=function(t){var r=t.from,n=t.to;return r!==n},xQ=function e(t,r,n){var a=_l(function(i,s){if(pg(s)){var o=t(s.from,s.to,s.velocity),l=vQ(o,2),c=l[0],f=l[1];return Wt(Wt({},s),{},{from:c,velocity:f})}return s},r);return n<1?_l(function(i,s){return pg(s)?Wt(Wt({},s),{},{velocity:lf(s.velocity,a[i].velocity,n),from:lf(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const wQ=function(e,t,r,n,a){var i=XX(e,t),s=i.reduce(function(g,b){return Wt(Wt({},g),{},fg({},b,[e[b],t[b]]))},{}),o=i.reduce(function(g,b){return Wt(Wt({},g),{},fg({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return _l(function(b,w){return w.from},o)},p=function(){return!Object.values(o).filter(pg).length},m=function(b){c||(c=b);var w=b-c,_=w/r.dt;o=xQ(r,o,_),a(Wt(Wt(Wt({},e),t),h())),c=b,p()||(l=requestAnimationFrame(d))},y=function(b){f||(f=b);var w=(b-f)/n,_=_l(function(x,S){return lf.apply(void 0,pS(S).concat([r(w)]))},s);if(a(Wt(Wt(Wt({},e),t),_)),w<1)l=requestAnimationFrame(d);else{var v=_l(function(x,S){return lf.apply(void 0,pS(S).concat([r(1)]))},s);a(Wt(Wt(Wt({},e),t),v))}};return d=r.isStepper?m:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}var _Q=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function SQ(e,t){if(e==null)return{};var r=jQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function tm(e){return EQ(e)||OQ(e)||NQ(e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(e,t){if(e){if(typeof e=="string")return mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mg(e,t)}}function OQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EQ(e){if(Array.isArray(e))return mg(e)}function mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sl(e,t,r){return t=tC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tC(n.key),n)}}function CQ(e,t,r){return t&&PQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tC(e){var t=TQ(e,"string");return Qs(t)==="symbol"?t:String(t)}function TQ(e,t){if(Qs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vg(e,t)}function IQ(e){var t=RQ();return function(){var n=cf(e),a;if(t){var i=cf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return gg(this,a)}}function gg(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yg(e)}function yg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cf(e)}var Tn=function(e){$Q(r,e);var t=IQ(r);function r(n,a){var i;AQ(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,f=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(yg(i)),i.changeStyle=i.changeStyle.bind(yg(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),gg(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},gg(i);i.state={style:l?sl({},l,c):c}}else i.state={style:{}};return i}return CQ(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?sl({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(p);return}if(!(UX(a.to,f)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||c?d:a.to;if(this.state&&h){var g={style:l?sl({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(g)}this.runAnimation(rn(rn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,f=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=wQ(s,o,uQ(c),l,this.changeStyle),m=function(){i.stopJSAnimation=p()};this.manager.start([h,f,m,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],f=c.style,d=c.duration,h=d===void 0?0:d,p=function(y,g,b){if(b===0)return y;var w=g.duration,_=g.easing,v=_===void 0?"ease":_,x=g.style,S=g.properties,k=g.onAnimationEnd,E=b>0?s[b-1]:g,A=S||Object.keys(x);if(typeof v=="function"||v==="spring")return[].concat(tm(y),[i.runJSAnimation.bind(i,{from:E.style,to:x,duration:w,easing:v}),w]);var j=dS(A,w,v),P=rn(rn(rn({},E.style),x),{},{transition:j});return[].concat(tm(y),[P,w,k]).filter(QX)};return this.manager.start([l].concat(tm(s.reduce(p,[f,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=GX());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var y=o?sl({},o,l):l,g=dS(Object.keys(y),s,c);m.start([f,i,rn(rn({},y),{},{transition:g}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=SQ(a,_Q),c=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||c===0||s<=0)return i;var d=function(p){var m=p.props,y=m.style,g=y===void 0?{}:y,b=m.className,w=O.cloneElement(p,rn(rn({},l),{},{style:rn(rn({},g),f),className:b}));return w};return c===1?d(O.Children.only(i)):T.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);Tn.displayName="Animate";Tn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tn.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function MQ(e,t){return FQ(e)||BQ(e,t)||LQ(e,t)||DQ()}function DQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LQ(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FQ(e){if(Array.isArray(e))return e}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return t=zQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=qQ(e,"string");return bc(t)=="symbol"?t:t+""}function qQ(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xS=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];f="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),f+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);f="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+a-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*m," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},WQ=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),f=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=f&&a>=d&&a<=h}return!1},VQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G0=function(t){var r=bS(bS({},VQ),t),n=O.useRef(),a=O.useState(-1),i=MQ(a,2),s=i[0],o=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&o(v)}catch{}},[]);var l=r.x,c=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,m=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var _=Ne("recharts-rectangle",p);return w?T.createElement(Tn,{canBegin:s>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:y,animationEasing:m,isActive:w},function(v){var x=v.width,S=v.height,k=v.x,E=v.y;return T.createElement(Tn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:b,easing:m},T.createElement("path",uf({},me(r,!0),{className:_,d:xS(k,E,x,S,h),ref:n})))}):T.createElement("path",uf({},me(r,!0),{className:_,d:xS(l,c,f,d,h)}))},KQ=["points","className","baseLinePoints","connectNulls"];function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}function HQ(e,t){if(e==null)return{};var r=GQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wS(e){return QQ(e)||XQ(e)||JQ(e)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(e,t){if(e){if(typeof e=="string")return bg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bg(e,t)}}function XQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QQ(e){if(Array.isArray(e))return bg(e)}function bg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _S=function(t){return t&&t.x===+t.x&&t.y===+t.y},ZQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){_S(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),_S(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sl=function(t,r){var n=ZQ(t);r&&(n=[n.reduce(function(i,s){return[].concat(wS(i),wS(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,o,l){return"".concat(s).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},eZ=function(t,r,n){var a=Sl(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Sl(r.reverse(),n).slice(1))},tZ=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=HQ(t,KQ);if(!r||!r.length)return null;var o=Ne("recharts-polygon",n);if(a&&a.length){var l=s.stroke&&s.stroke!=="none",c=eZ(r,a,i);return T.createElement("g",{className:o},T.createElement("path",ys({},me(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?T.createElement("path",ys({},me(s,!0),{fill:"none",d:Sl(r,i)})):null,l?T.createElement("path",ys({},me(s,!0),{fill:"none",d:Sl(a,i)})):null)}var f=Sl(r,i);return T.createElement("path",ys({},me(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:o,d:f}))};function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}var Mh=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Ne("recharts-dot",i);return r===+r&&n===+n&&a===+a?O.createElement("circle",xg({},me(t,!1),Ad(t),{className:s,cx:r,cy:n,r:a})):null};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}var rZ=["x","y","top","left","width","height","className"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iZ(e){var t=sZ(e,"string");return xc(t)=="symbol"?t:t+""}function sZ(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oZ(e,t){if(e==null)return{};var r=lZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cZ=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},uZ=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,m=t.className,y=oZ(t,rZ),g=nZ({x:n,y:i,top:o,left:c,width:d,height:p},y);return!X(n)||!X(i)||!X(d)||!X(p)||!X(o)||!X(c)?null:T.createElement("path",wg({},me(g,!0),{className:Ne("recharts-cross",m),d:cZ(n,i,d,p,o,c)}))},dZ=Ch,fZ=hP,hZ=In;function pZ(e,t){return e&&e.length?dZ(e,hZ(t),fZ):void 0}var mZ=pZ;const vZ=ze(mZ);var gZ=Ch,yZ=In,bZ=pP;function xZ(e,t){return e&&e.length?gZ(e,yZ(t),bZ):void 0}var wZ=xZ;const _Z=ze(wZ);var SZ=["cx","cy","angle","ticks","axisLine"],jZ=["ticks","tick","angle","tickFormatter","stroke"];function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){Dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kS(e,t){if(e==null)return{};var r=kZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nC(n.key),n)}}function OZ(e,t,r){return t&&NS(e.prototype,t),r&&NS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EZ(e,t,r){return t=df(t),AZ(e,rC()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZ(e)}function PZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function CZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_g(e,t)}function Dh(e,t,r){return t=nC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nC(e){var t=TZ(e,"string");return Zs(t)=="symbol"?t:t+""}function TZ(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lh=function(e){function t(){return NZ(this,t),EZ(this,t,arguments)}return CZ(t,e),OZ(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,o=i.cx,l=i.cy;return Ze(o,l,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=vZ(o,function(f){return f.coordinate||0}),c=_Z(o,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,o=n.ticks,l=n.axisLine,c=kS(n,SZ),f=o.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),d=Ze(a,i,f[0],s),h=Ze(a,i,f[1],s),p=ei(ei(ei({},me(c,!1)),{},{fill:"none"},me(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return T.createElement("line",jl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.angle,l=a.tickFormatter,c=a.stroke,f=kS(a,jZ),d=this.getTickTextAnchor(),h=me(f,!1),p=me(s,!1),m=i.map(function(y,g){var b=n.getTickValueCoord(y),w=ei(ei(ei(ei({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:c},p),{},{index:g},b),{},{payload:y});return T.createElement(Me,jl({className:Ne("recharts-polar-radius-axis-tick",zP(s)),key:"tick-".concat(y.coordinate)},Ci(n.props,y,g)),t.renderTickItem(s,w,l?l(y.value,g):y.value))});return T.createElement(Me,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:T.createElement(Me,{className:Ne("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Bt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return T.isValidElement(n)?s=T.cloneElement(n,a):xe(n)?s=n(a):s=T.createElement(Ti,jl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(O.PureComponent);Dh(Lh,"displayName","PolarRadiusAxis");Dh(Lh,"axisType","radiusAxis");Dh(Lh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(this,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ES(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iC(n.key),n)}}function IZ(e,t,r){return t&&ES(e.prototype,t),r&&ES(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RZ(e,t,r){return t=ff(t),MZ(e,aC()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function MZ(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DZ(e)}function DZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function LZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sg(e,t)}function Sg(e,t){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sg(e,t)}function Bh(e,t,r){return t=iC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(e){var t=BZ(e,"string");return eo(t)=="symbol"?t:t+""}function BZ(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FZ=Math.PI/180,AS=1e-5,Fh=function(e){function t(){return $Z(this,t),RZ(this,t,arguments)}return LZ(t,e),IZ(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,o=a.radius,l=a.orientation,c=a.tickSize,f=c||8,d=Ze(i,s,o,n.coordinate),h=Ze(i,s,o+(l==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*FZ),s;return i>AS?s=a==="outer"?"start":"end":i<-AS?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,o=n.axisLine,l=n.axisLineType,c=ti(ti({},me(this.props,!1)),{},{fill:"none"},me(o,!1));if(l==="circle")return T.createElement(Mh,fi({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:i,r:s}));var f=this.props.ticks,d=f.map(function(h){return Ze(a,i,s,h.coordinate)});return T.createElement(tZ,fi({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,o=a.tickLine,l=a.tickFormatter,c=a.stroke,f=me(this.props,!1),d=me(s,!1),h=ti(ti({},f),{},{fill:"none"},me(o,!1)),p=i.map(function(m,y){var g=n.getTickLineCoord(m),b=n.getTickTextAnchor(m),w=ti(ti(ti({textAnchor:b},f),{},{stroke:"none",fill:c},d),{},{index:y,payload:m,x:g.x2,y:g.y2});return T.createElement(Me,fi({className:Ne("recharts-polar-angle-axis-tick",zP(s)),key:"tick-".concat(m.coordinate)},Ci(n.props,m,y)),o&&T.createElement("line",fi({className:"recharts-polar-angle-axis-tick-line"},h,g)),s&&t.renderTickItem(s,w,l?l(m.value,y):m.value))});return T.createElement(Me,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:T.createElement(Me,{className:Ne("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return T.isValidElement(n)?s=T.cloneElement(n,a):xe(n)?s=n(a):s=T.createElement(Ti,fi({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(O.PureComponent);Bh(Fh,"displayName","PolarAngleAxis");Bh(Fh,"axisType","angleAxis");Bh(Fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var UZ=cA,zZ=UZ(Object.getPrototypeOf,Object),qZ=zZ,WZ=la,VZ=qZ,KZ=ca,HZ="[object Object]",GZ=Function.prototype,YZ=Object.prototype,sC=GZ.toString,JZ=YZ.hasOwnProperty,XZ=sC.call(Object);function QZ(e){if(!KZ(e)||WZ(e)!=HZ)return!1;var t=VZ(e);if(t===null)return!0;var r=JZ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sC.call(r)==XZ}var ZZ=QZ;const eee=ze(ZZ);var tee=la,ree=ca,nee="[object Boolean]";function aee(e){return e===!0||e===!1||ree(e)&&tee(e)==nee}var iee=aee;const see=ze(iee);function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(this,arguments)}function oee(e,t){return dee(e)||uee(e,t)||cee(e,t)||lee()}function lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(e,t){if(e){if(typeof e=="string")return PS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PS(e,t)}}function PS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function dee(e){if(Array.isArray(e))return e}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return t=hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=pee(e,"string");return wc(t)=="symbol"?t:t+""}function pee(e,t){if(wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $S=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},mee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vee=function(t){var r=TS(TS({},mee),t),n=O.useRef(),a=O.useState(-1),i=oee(a,2),s=i[0],o=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,y=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var w=Ne("recharts-trapezoid",p);return b?T.createElement(Tn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:y,animationEasing:m,isActive:b},function(_){var v=_.upperWidth,x=_.lowerWidth,S=_.height,k=_.x,E=_.y;return T.createElement(Tn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:m},T.createElement("path",hf({},me(r,!0),{className:w,d:$S(k,E,v,x,S),ref:n})))}):T.createElement("g",null,T.createElement("path",hf({},me(r,!0),{className:w,d:$S(l,c,f,d,h)})))},gee=["option","shapeType","propTransformer","activeClassName","isActive"];function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function yee(e,t){if(e==null)return{};var r=bee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xee(e,t,r){return t=wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=_ee(e,"string");return _c(t)=="symbol"?t:t+""}function _ee(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function See(e,t){return pf(pf({},t),e)}function jee(e,t){return e==="symbols"}function RS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(G0,r);case"trapezoid":return T.createElement(vee,r);case"sector":return T.createElement(VP,r);case"symbols":if(jee(t))return T.createElement(h0,r);break;default:return null}}function kee(e){return O.isValidElement(e)?e.props:e}function oC(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?See:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=yee(e,gee),c;if(O.isValidElement(t))c=O.cloneElement(t,pf(pf({},l),kee(t)));else if(xe(t))c=t(l);else if(eee(t)&&!see(t)){var f=a(t,l);c=T.createElement(RS,{shapeType:r,elementProps:f})}else{var d=l;c=T.createElement(RS,{shapeType:r,elementProps:d})}return o?T.createElement(Me,{className:s},c):c}function Uh(e,t){return t!=null&&"trapezoids"in e.props}function zh(e,t){return t!=null&&"sectors"in e.props}function Sc(e,t){return t!=null&&"points"in e.props}function Nee(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Oee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Eee(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Aee(e,t){var r;return Uh(e,t)?r=Nee:zh(e,t)?r=Oee:Sc(e,t)&&(r=Eee),r}function Pee(e,t){var r;return Uh(e,t)?r="trapezoids":zh(e,t)?r="sectors":Sc(e,t)&&(r="points"),r}function Cee(e,t){if(Uh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sc(e,t)?t.payload:{}}function Tee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Pee(r,t),i=Cee(r,t),s=n.filter(function(l,c){var f=Vc(i,l),d=r.props[a].filter(function(m){var y=Aee(r,t);return y(m,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return f&&p}),o=n.indexOf(s[s.length-1]);return o}var Xu;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(this,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){zr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cC(n.key),n)}}function Iee(e,t,r){return t&&DS(e.prototype,t),r&&DS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ree(e,t,r){return t=mf(t),Mee(e,lC()?Reflect.construct(t,r||[],mf(e).constructor):t.apply(e,r))}function Mee(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dee(e)}function Dee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lC=function(){return!!e})()}function mf(e){return mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(e)}function Lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jg(e,t)}function zr(e,t,r){return t=cC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cC(e){var t=Bee(e,"string");return to(t)=="symbol"?t:t+""}function Bee(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=function(e){function t(r){var n;return $ee(this,t),n=Ree(this,t,[r]),zr(n,"pieRef",null),zr(n,"sectorRefs",[]),zr(n,"id",Oo("recharts-pie-")),zr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xe(a)&&a()}),zr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lee(t,e),Iee(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,o=i.labelLine,l=i.dataKey,c=i.valueKey,f=me(this.props,!1),d=me(s,!1),h=me(o,!1),p=s&&s.offsetRadius||20,m=n.map(function(y,g){var b=(y.startAngle+y.endAngle)/2,w=Ze(y.cx,y.cy,y.outerRadius+p,b),_=Je(Je(Je(Je({},f),y),{},{stroke:"none"},d),{},{index:g,textAnchor:t.getTextAnchor(w.x,y.cx)},w),v=Je(Je(Je(Je({},f),y),{},{fill:"none",stroke:y.fill},h),{},{index:g,points:[Ze(y.cx,y.cy,y.outerRadius,b),w]}),x=l;return _e(l)&&_e(c)?x="value":_e(l)&&(x=c),T.createElement(Me,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(g)},o&&t.renderLabelLineItem(o,v,"line"),t.renderLabelItem(s,_,Tt(y,x)))});return T.createElement(Me,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,o=i.blendStroke,l=i.inactiveShape;return n.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=a.isActiveIndex(f),h=l&&a.hasActiveIndex()?l:null,p=d?s:h,m=Je(Je({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return T.createElement(Me,bs({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ci(a.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),T.createElement(oC,bs({option:p,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,o=a.animationBegin,l=a.animationDuration,c=a.animationEasing,f=a.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return T.createElement(Tn,{begin:o,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,g=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(_,v){var x=h&&h[v],S=v>0?Pr(_,"paddingAngle",0):0;if(x){var k=jr(x.endAngle-x.startAngle,_.endAngle-_.startAngle),E=Je(Je({},_),{},{startAngle:w+S,endAngle:w+k(y)+S});g.push(E),w=E.endAngle}else{var A=_.endAngle,j=_.startAngle,P=jr(0,A-j),I=P(y),D=Je(Je({},_),{},{startAngle:w+S,endAngle:w+I+S});g.push(D),w=D.endAngle}}),T.createElement(Me,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Vc(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,o=a.className,l=a.label,c=a.cx,f=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!s||!s.length||!X(c)||!X(f)||!X(d)||!X(h))return null;var y=Ne("recharts-pie",o);return T.createElement(Me,{tabIndex:this.props.rootTabIndex,className:y,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),Bt.renderCallByParent(this.props,null,!1),(!p||m)&&dr.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);if(xe(n))return n(a);var s=Ne("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(sf,bs({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(T.isValidElement(n))return T.cloneElement(n,a);var s=i;if(xe(n)&&(s=n(a),T.isValidElement(s)))return s;var o=Ne("recharts-pie-label-text",typeof n!="boolean"&&!xe(n)?n.className:"");return T.createElement(Ti,bs({},a,{alignmentBaseline:"middle",className:o}),s)}}])}(O.PureComponent);Xu=da;zr(da,"displayName","Pie");zr(da,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ui.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zr(da,"parseDeltaAngle",function(e,t){var r=nr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});zr(da,"getRealPieData",function(e){var t=e.data,r=e.children,n=me(e,!1),a=Cr(r,jh);return t&&t.length?t.map(function(i,s){return Je(Je(Je({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Je(Je({},n),i.props)}):[]});zr(da,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=UP(a,i),o=n+ar(e.cx,a,a/2),l=r+ar(e.cy,i,i/2),c=ar(e.innerRadius,s,0),f=ar(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:f,maxRadius:d}});zr(da,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Je(Je({},t.type.defaultProps),t.props):t.props,a=Xu.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=Xu.parseCoordinateOfPie(n,r),y=Xu.parseDeltaAngle(s,o),g=Math.abs(y),b=c;_e(c)&&_e(d)?(vn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):_e(c)&&(vn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var w=a.filter(function(E){return Tt(E,b,0)!==0}).length,_=(g>=360?w:w-1)*l,v=g-w*p-_,x=a.reduce(function(E,A){var j=Tt(A,b,0);return E+(X(j)?j:0)},0),S;if(x>0){var k;S=a.map(function(E,A){var j=Tt(E,b,0),P=Tt(E,f,A),I=(X(j)?j:0)/x,D;A?D=k.endAngle+nr(y)*l*(j!==0?1:0):D=s;var B=D+nr(y)*((j!==0?p:0)+I*v),F=(D+B)/2,U=(m.innerRadius+m.outerRadius)/2,M=[{name:P,value:j,payload:E,dataKey:b,type:h}],R=Ze(m.cx,m.cy,U,F);return k=Je(Je(Je({percent:I,cornerRadius:i,name:P,tooltipPayload:M,midAngle:F,middleRadius:U,tooltipPosition:R},E),m),{},{value:Tt(E,b),startAngle:D,endAngle:B,payload:E,paddingAngle:nr(y)*l}),k})}return Je(Je({},m),{},{sectors:S,data:a})});var Fee=Math.ceil,Uee=Math.max;function zee(e,t,r,n){for(var a=-1,i=Uee(Fee((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var qee=zee,Wee=EA,LS=1/0,Vee=17976931348623157e292;function Kee(e){if(!e)return e===0?e:0;if(e=Wee(e),e===LS||e===-LS){var t=e<0?-1:1;return t*Vee}return e===e?e:0}var uC=Kee,Hee=qee,Gee=Sh,rm=uC;function Yee(e){return function(t,r,n){return n&&typeof n!="number"&&Gee(t,r,n)&&(r=n=void 0),t=rm(t),r===void 0?(r=t,t=0):r=rm(r),n=n===void 0?t<r?1:-1:rm(n),Hee(t,r,n,e)}}var Jee=Yee,Xee=Jee,Qee=Xee(),Zee=Qee;const vf=ze(Zee);function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){dC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dC(e,t,r){return t=ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return jc(t)=="symbol"?t:t+""}function tte(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=["Webkit","Moz","O","ms"],nte=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=rte.reduce(function(i,s){return FS(FS({},i),{},dC({},s+n,r))},{});return a[t]=r,a};function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ate(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hC(n.key),n)}}function ite(e,t,r){return t&&zS(e.prototype,t),r&&zS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ste(e,t,r){return t=yf(t),ote(e,fC()?Reflect.construct(t,r||[],yf(e).constructor):t.apply(e,r))}function ote(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lte(e)}function lte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!e})()}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yf(e)}function cte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kg(e,t)}function wr(e,t,r){return t=hC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hC(e){var t=ute(e,"string");return ro(t)=="symbol"?t:t+""}function ute(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dte=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=xl().domain(vf(0,l)).range([i,i+s-o]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:f}},qS=function(t){return t.changedTouches&&!!t.changedTouches.length},no=function(e){function t(r){var n;return ate(this,t),n=ste(this,t,[r]),wr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),wr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),wr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),wr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wr(n,"handleSlideDragStart",function(a){var i=qS(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cte(t,e),ite(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,f=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),m=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:m===f?f:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Tt(i[n],o,n);return xe(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,y=n.pageX-i;y>0?y=Math.min(y,c+f-d-o,c+f-d-s):y<0&&(y=Math.max(y,c-s,c-o));var g=this.getIndex({startX:s+y,endX:o+y});(g.startIndex!==h||g.endIndex!==p)&&m&&m(g),this.setState({startX:s+y,endX:o+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=qS(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,m=f.onChange,y=f.gap,g=f.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,d+h-p-c):w<0&&(w=Math.max(w,d-c)),b[s]=c+w;var _=this.getIndex(b),v=_.startIndex,x=_.endIndex,S=function(){var E=g.length-1;return s==="startX"&&(o>l?v%y===0:x%y===0)||o<l&&x===E||s==="endX"&&(o>l?x%y===0:v%y===0)||o>l&&x===E};this.setState(wr(wr({},s,c+w),"brushMoveStartX",n.pageX),function(){m&&S()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,f=this.state[a],d=o.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(wr({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return T.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,f=n.padding,d=O.Children.only(c);return d?T.cloneElement(d,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,g=l.endIndex,b=Math.max(n,this.props.x),w=nm(nm({},me(this.props,!1)),{},{x:b,y:c,width:f,height:d}),_=p||"Min value: ".concat((i=m[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[g])===null||s===void 0?void 0:s.name);return T.createElement(Me,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),o.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,f=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,m={pointerEvents:"none",fill:c};return T.createElement(Me,{className:"recharts-brush-texts"},T.createElement(Ti,gf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},m),this.getTextOfTick(a)),T.createElement(Ti,gf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,y=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!X(o)||!X(l)||!X(c)||!X(f)||c<=0||f<=0)return null;var _=Ne("recharts-brush",i),v=T.Children.count(s)===1,x=nte("userSelect","none");return T.createElement(Me,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||g||b||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),T.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return T.isValidElement(n)?i=T.cloneElement(n,a):xe(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return nm({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?dte({data:i,width:s,x:o,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(O.PureComponent);wr(no,"displayName","Brush");wr(no,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fte=x0;function hte(e,t){var r;return fte(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var pte=hte,mte=tA,vte=In,gte=pte,yte=gr,bte=Sh;function xte(e,t,r){var n=yte(e)?mte:gte;return r&&bte(e,t,r)&&(t=void 0),n(e,vte(t))}var wte=xte;const _te=ze(wte);var An=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},WS=SA;function Ste(e,t,r){t=="__proto__"&&WS?WS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jte=Ste,kte=jte,Nte=wA,Ote=In;function Ete(e,t){var r={};return t=Ote(t),Nte(e,function(n,a,i){kte(r,a,t(n,a,i))}),r}var Ate=Ete;const Pte=ze(Ate);function Cte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Tte=Cte,$te=x0;function Ite(e,t){var r=!0;return $te(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Rte=Ite,Mte=Tte,Dte=Rte,Lte=In,Bte=gr,Fte=Sh;function Ute(e,t,r){var n=Bte(e)?Mte:Dte;return r&&Fte(e,t,r)&&(t=void 0),n(e,Lte(t))}var zte=Ute;const pC=ze(zte);var qte=["x","y"];function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){Wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t,r){return t=Vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vte(e){var t=Kte(e,"string");return kc(t)=="symbol"?t:t+""}function Kte(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hte(e,t){if(e==null)return{};var r=Gte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yte(e,t){var r=e.x,n=e.y,a=Hte(e,qte),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),f=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return el(el(el(el(el({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function KS(e){return T.createElement(oC,Ng({shapeType:"rectangle",propTransformer:Yte,activeClassName:"recharts-active-bar"},e))}var Jte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=X(n)||xB(n);return i?t(n,a):(i||Ii(),r)}},Xte=["value","background"],mC;function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Qte(e,t){if(e==null)return{};var r=Zte(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(this,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gC(n.key),n)}}function tre(e,t,r){return t&&GS(e.prototype,t),r&&GS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rre(e,t,r){return t=xf(t),nre(e,vC()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function nre(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return are(e)}function are(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vC=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function ire(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Og(e,t)}function Ea(e,t,r){return t=gC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gC(e){var t=sre(e,"string");return ao(t)=="symbol"?t:t+""}function sre(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hr=function(e){function t(){var r;ere(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rre(this,t,[].concat(a)),Ea(r,"state",{isAnimationFinished:!1}),Ea(r,"id",Oo("recharts-bar-")),Ea(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ea(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return ire(t,e),tre(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,f=me(this.props,!1);return n&&n.map(function(d,h){var p=h===l,m=p?c:s,y=jt(jt(jt({},f),d),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return T.createElement(Me,bf({className:"recharts-bar-rectangle"},Ci(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),T.createElement(KS,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,f=a.animationEasing,d=a.animationId,h=this.state.prevData;return T.createElement(Tn,{begin:l,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=i.map(function(g,b){var w=h&&h[b];if(w){var _=jr(w.x,g.x),v=jr(w.y,g.y),x=jr(w.width,g.width),S=jr(w.height,g.height);return jt(jt({},g),{},{x:_(m),y:v(m),width:x(m),height:S(m)})}if(s==="horizontal"){var k=jr(0,g.height),E=k(m);return jt(jt({},g),{},{y:g.y+g.height-E,height:E})}var A=jr(0,g.width),j=A(m);return jt(jt({},g),{},{width:j})});return T.createElement(Me,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Vc(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=me(this.props.background,!1);return i.map(function(c,f){c.value;var d=c.background,h=Qte(c,Xte);if(!d)return null;var p=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},d),l),Ci(n.props,c,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return T.createElement(KS,bf({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,f=i.children,d=Cr(f,Kc);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(g,b){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:Tt(g,b)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Me,m,d.map(function(y){return T.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,m=n.background,y=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=Ne("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,v=w||_,x=_e(y)?this.id:y;return T.createElement(Me,{className:b},w||_?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(x)},T.createElement("rect",{x:w?c:c-d/2,y:_?f:f-h/2,width:w?d:d*2,height:_?h:h*2}))):null,T.createElement(Me,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!p||g)&&dr.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);mC=Hr;Ea(Hr,"displayName","Bar");Ea(Hr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ui.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ea(Hr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=BY(n,r);if(!p)return null;var m=t.layout,y=r.type.defaultProps,g=y!==void 0?jt(jt({},y),r.props):r.props,b=g.dataKey,w=g.children,_=g.minPointSize,v=m==="horizontal"?s:i,x=c?v.scale.domain():null,S=KY({numericAxis:v}),k=Cr(w,jh),E=d.map(function(A,j){var P,I,D,B,F,U;c?P=FY(c[f+j],x):(P=Tt(A,b),Array.isArray(P)||(P=[S,P]));var M=Jte(_,mC.defaultProps.minPointSize)(P[1],j);if(m==="horizontal"){var R,L=[s.scale(P[0]),s.scale(P[1])],C=L[0],H=L[1];I=D1({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:A,index:j}),D=(R=H??C)!==null&&R!==void 0?R:void 0,B=p.size;var q=C-H;if(F=Number.isNaN(q)?0:q,U={x:I,y:s.y,width:B,height:s.height},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var Z=nr(F||M)*(Math.abs(M)-Math.abs(F));D-=Z,F+=Z}}else{var le=[i.scale(P[0]),i.scale(P[1])],je=le[0],Ae=le[1];if(I=je,D=D1({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:A,index:j}),B=Ae-je,F=p.size,U={x:i.x,y:D,width:i.width,height:F},Math.abs(M)>0&&Math.abs(B)<Math.abs(M)){var bt=nr(B||M)*(Math.abs(M)-Math.abs(B));B+=bt}}return jt(jt(jt({},A),{},{x:I,y:D,width:B,height:F,value:c?P:P[1],payload:A,background:U},k&&k[j]&&k[j].props),{},{tooltipPayload:[BP(r,A)],tooltipPosition:{x:I+B/2,y:D+F/2}})});return jt({data:E,layout:m},h)});function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function ore(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yC(n.key),n)}}function lre(e,t,r){return t&&YS(e.prototype,t),r&&YS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qh(e,t,r){return t=yC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=cre(e,"string");return Nc(t)=="symbol"?t:t+""}function cre(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bC=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Sr(c,Hr);return f.reduce(function(p,m){var y=r[m],g=y.orientation,b=y.domain,w=y.padding,_=w===void 0?{}:w,v=y.mirror,x=y.reversed,S="".concat(g).concat(v?"Mirror":""),k,E,A,j,P;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=b[1]-b[0],D=1/0,B=y.categoricalDomain.sort(SB);if(B.forEach(function(le,je){je>0&&(D=Math.min((le||0)-(B[je-1]||0),D))}),Number.isFinite(D)){var F=D/I,U=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(k=F*U/2),y.padding==="no-gap"){var M=ar(t.barCategoryGap,F*U),R=F*U/2;k=R-M-(R-M)/U*M}}}a==="xAxis"?E=[n.left+(_.left||0)+(k||0),n.left+n.width-(_.right||0)-(k||0)]:a==="yAxis"?E=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(k||0),n.top+n.height-(_.bottom||0)-(k||0)]:E=y.range,x&&(E=[E[1],E[0]]);var L=RP(y,i,h),C=L.scale,H=L.realScaleType;C.domain(b).range(E),MP(C);var q=DP(C,cn(cn({},y),{},{realScaleType:H}));a==="xAxis"?(P=g==="top"&&!v||g==="bottom"&&v,A=n.left,j=d[S]-P*y.height):a==="yAxis"&&(P=g==="left"&&!v||g==="right"&&v,A=d[S]-P*y.width,j=n.top);var Z=cn(cn(cn({},y),q),{},{realScaleType:H,x:A,y:j,scale:C,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return Z.bandSize=rf(Z,q),!y.hide&&a==="xAxis"?d[S]+=(P?-1:1)*Z.height:y.hide||(d[S]+=(P?-1:1)*Z.width),cn(cn({},p),{},qh({},m,Z))},{})},xC=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},ure=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return xC({x:r,y:n},{x:a,y:i})},wC=function(){function e(t){ore(this,e),this.scale=t}return lre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();qh(wC,"EPS",1e-4);var Y0=function(t){var r=Object.keys(t).reduce(function(n,a){return cn(cn({},n),{},qh({},a,wC.create(t[a])))},{});return cn(cn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return Pte(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return pC(a,function(i,s){return r[s].isInRange(i)})}})};function dre(e){return(e%180+180)%180}var fre=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=dre(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},hre=In,pre=Fc,mre=wh;function vre(e){return function(t,r,n){var a=Object(t);if(!pre(t)){var i=hre(r);t=mre(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var gre=vre,yre=uC;function bre(e){var t=yre(e),r=t%1;return t===t?r?t-r:t:0}var xre=bre,wre=mA,_re=In,Sre=xre,jre=Math.max;function kre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Sre(r);return a<0&&(a=jre(n+a,0)),wre(e,_re(t),a)}var Nre=kre,Ore=gre,Ere=Nre,Are=Ore(Ere),Pre=Are;const Cre=ze(Pre);var Tre=N3(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),J0=O.createContext(void 0),X0=O.createContext(void 0),_C=O.createContext(void 0),SC=O.createContext({}),jC=O.createContext(void 0),kC=O.createContext(0),NC=O.createContext(0),XS=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,f=Tre(i);return T.createElement(J0.Provider,{value:n},T.createElement(X0.Provider,{value:a},T.createElement(SC.Provider,{value:i},T.createElement(_C.Provider,{value:f},T.createElement(jC.Provider,{value:s},T.createElement(kC.Provider,{value:c},T.createElement(NC.Provider,{value:l},o)))))))},$re=function(){return O.useContext(jC)},OC=function(t){var r=O.useContext(J0);r==null&&Ii();var n=r[t];return n==null&&Ii(),n},Ire=function(){var t=O.useContext(J0);return ja(t)},Rre=function(){var t=O.useContext(X0),r=Cre(t,function(n){return pC(n.domain,Number.isFinite)});return r||ja(t)},EC=function(t){var r=O.useContext(X0);r==null&&Ii();var n=r[t];return n==null&&Ii(),n},Mre=function(){var t=O.useContext(_C);return t},Dre=function(){return O.useContext(SC)},Q0=function(){return O.useContext(NC)},Z0=function(){return O.useContext(kC)};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PC(n.key),n)}}function Fre(e,t,r){return t&&Bre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ure(e,t,r){return t=wf(t),zre(e,AC()?Reflect.construct(t,r||[],wf(e).constructor):t.apply(e,r))}function zre(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(e)}function qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AC=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}function Wre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eg(e,t){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Eg(e,t)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eb(e,t,r){return t=PC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PC(e){var t=Vre(e,"string");return io(t)=="symbol"?t:t+""}function Vre(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kre(e,t){return Jre(e)||Yre(e,t)||Gre(e,t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(e,t){if(e){if(typeof e=="string")return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}function ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Jre(e){if(Array.isArray(e))return e}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}var Xre=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):xe(t)?n=t(r):n=T.createElement("line",Ag({},r,{className:"recharts-reference-line-line"})),n},Qre=function(t,r,n,a,i,s,o,l,c){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var m=c.y,y=t.y.apply(m,{position:s});if(An(c,"discard")&&!t.y.isInRange(y))return null;var g=[{x:f+h,y},{x:f,y}];return l==="left"?g.reverse():g}if(r){var b=c.x,w=t.x.apply(b,{position:s});if(An(c,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:d+p},{x:w,y:d}];return o==="top"?_.reverse():_}if(a){var v=c.segment,x=v.map(function(S){return t.apply(S,{position:s})});return An(c,"discard")&&_te(x,function(S){return!t.isInRange(S)})?null:x}return null};function Zre(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=$re(),f=OC(a),d=EC(i),h=Mre();if(!c||!h)return null;vn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Y0({x:f.scale,y:d.scale}),m=It(t),y=It(r),g=n&&n.length===2,b=Qre(p,m,y,g,h,e.position,f.orientation,d.orientation,e);if(!b)return null;var w=Kre(b,2),_=w[0],v=_.x,x=_.y,S=w[1],k=S.x,E=S.y,A=An(e,"hidden")?"url(#".concat(c,")"):void 0,j=ZS(ZS({clipPath:A},me(e,!0)),{},{x1:v,y1:x,x2:k,y2:E});return T.createElement(Me,{className:Ne("recharts-reference-line",o)},Xre(s,j),Bt.renderCallByParent(e,ure({x1:v,y1:x,x2:k,y2:E})))}var tb=function(e){function t(){return Lre(this,t),Ure(this,t,arguments)}return Wre(t,e),Fre(t,[{key:"render",value:function(){return T.createElement(Zre,this.props)}}])}(T.Component);eb(tb,"displayName","ReferenceLine");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){Wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TC(n.key),n)}}function rne(e,t,r){return t&&tne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=_f(t),ane(e,CC()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function ane(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ine(e)}function ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function sne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cg(e,t)}function Cg(e,t){return Cg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cg(e,t)}function Wh(e,t,r){return t=TC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TC(e){var t=one(e,"string");return so(t)=="symbol"?t:t+""}function one(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lne=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=Y0({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return An(t,"discard")&&!s.isInRange(o)?null:o},Vh=function(e){function t(){return ene(this,t),nne(this,t,arguments)}return sne(t,e),rne(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=It(a),f=It(i);if(vn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=lne(this.props);if(!d)return null;var h=d.x,p=d.y,m=this.props,y=m.shape,g=m.className,b=An(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=rj(rj({clipPath:b},me(this.props,!0)),{},{cx:h,cy:p});return T.createElement(Me,{className:Ne("recharts-reference-dot",g)},t.renderDot(y,w),Bt.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(T.Component);Wh(Vh,"displayName","ReferenceDot");Wh(Vh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wh(Vh,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):xe(e)?r=e(t):r=T.createElement(Mh,Pg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){Kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function une(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IC(n.key),n)}}function dne(e,t,r){return t&&une(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fne(e,t,r){return t=Sf(t),hne(e,$C()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function hne(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pne(e)}function pne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$g(e,t)}function $g(e,t){return $g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$g(e,t)}function Kh(e,t,r){return t=IC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IC(e){var t=vne(e,"string");return oo(t)=="symbol"?t:t+""}function vne(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gne=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=Y0({x:f.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return An(i,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:xC(p,m)},Hh=function(e){function t(){return cne(this,t),fne(this,t,arguments)}return mne(t,e),dne(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,f=n.clipPathId;vn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=It(a),h=It(i),p=It(s),m=It(o),y=this.props.shape;if(!d&&!h&&!p&&!m&&!y)return null;var g=gne(d,h,p,m,this.props);if(!g&&!y)return null;var b=An(this.props,"hidden")?"url(#".concat(f,")"):void 0;return T.createElement(Me,{className:Ne("recharts-reference-area",l)},t.renderRect(y,aj(aj({clipPath:b},me(this.props,!0)),g)),Bt.renderCallByParent(this.props,g))}}])}(T.Component);Kh(Hh,"displayName","ReferenceArea");Kh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kh(Hh,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):xe(e)?r=e(t):r=T.createElement(G0,Tg({},t,{className:"recharts-reference-area-rect"})),r});function RC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function yne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fre(n,r)}function bne(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function jf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function xne(e,t){return RC(e,t+1)}function wne(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,f=s,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:RC(n,c)};var y=l,g,b=function(){return g===void 0&&(g=r(m,y)),g},w=m.coordinate,_=l===0||jf(e,w,b,f,o);_||(l=0,f=s,c+=1),_&&(f=w+e*(b()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(r),!0).forEach(function(n){_ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ne(e,t,r){return t=Sne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sne(e){var t=jne(e,"string");return Oc(t)=="symbol"?t:t+""}function jne(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kne(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],m,y=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var g=e*(p.coordinate+e*y()/2-l);i[h]=p=Xt(Xt({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=Xt(Xt({},p),{},{tickCoord:p.coordinate});var b=jf(e,p.tickCoord,y,o,l);b&&(l=p.tickCoord-e*(y()/2+a),i[h]=Xt(Xt({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)c(f);return i}function Nne(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var f=n[o-1],d=r(f,o-1),h=e*(f.coordinate+e*d/2-c);s[o-1]=f=Xt(Xt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=jf(e,f.tickCoord,function(){return d},l,c);p&&(c=f.tickCoord-e*(d/2+a),s[o-1]=Xt(Xt({},f),{},{isShow:!0}))}for(var m=i?o-1:o,y=function(w){var _=s[w],v,x=function(){return v===void 0&&(v=r(_,w)),v};if(w===0){var S=e*(_.coordinate-e*x()/2-l);s[w]=_=Xt(Xt({},_),{},{tickCoord:S<0?_.coordinate-S*e:_.coordinate})}else s[w]=_=Xt(Xt({},_),{},{tickCoord:_.coordinate});var k=jf(e,_.tickCoord,x,l,c);k&&(l=_.tickCoord+e*(x()/2+a),s[w]=Xt(Xt({},_),{},{isShow:!0}))},g=0;g<m;g++)y(g);return s}function rb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(X(l)||Ui.isSsr)return xne(a,typeof l=="number"&&X(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=f&&p==="width"?bl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(_,v){var x=xe(c)?c(_.value,v):_.value;return p==="width"?yne(bl(x,{fontSize:t,letterSpacing:r}),m,d):bl(x,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,b=bne(i,g,p);return l==="equidistantPreserveStart"?wne(g,b,y,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Nne(g,b,y,a,s,l==="preserveStartEnd"):h=kne(g,b,y,a,s),h.filter(function(w){return w.isShow}))}var One=["viewBox"],Ene=["viewBox"],Ane=["ticks"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(this,arguments)}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function am(e,t){if(e==null)return{};var r=Pne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DC(n.key),n)}}function Tne(e,t,r){return t&&oj(e.prototype,t),r&&oj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ne(e,t,r){return t=kf(t),Ine(e,MC()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function Ine(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(e)}function Rne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MC=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function Mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ig(e,t)}function nb(e,t,r){return t=DC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DC(e){var t=Dne(e,"string");return lo(t)=="symbol"?t:t+""}function Dne(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Io=function(e){function t(r){var n;return Cne(this,t),n=$ne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Mne(t,e),Tne(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=am(n,One),o=this.props,l=o.viewBox,c=am(o,Ene);return!Ps(i,l)||!Ps(s,c)||!Ps(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,f=a.tickSize,d=a.mirror,h=a.tickMargin,p,m,y,g,b,w,_=d?-1:1,v=n.tickSize||f,x=X(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,g=s+ +!d*l,y=g-_*v,w=y-_*h,b=x;break;case"left":y=g=n.coordinate,m=i+ +!d*o,p=m-_*v,b=p-_*h,w=x;break;case"right":y=g=n.coordinate,m=i+ +d*o,p=m+_*v,b=p+_*h,w=x;break;default:p=m=n.coordinate,g=s+ +d*l,y=g+_*v,w=y+_*h,b=x;break}return{line:{x1:p,y1:y,x2:m,y2:g},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,f=n.axisLine,d=Et(Et(Et({},me(this.props,!1)),me(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Et(Et({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Et(Et({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return T.createElement("line",xs({},d,{className:Ne("recharts-cartesian-axis-line",Pr(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,f=o.tick,d=o.tickFormatter,h=o.unit,p=rb(Et(Et({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),g=me(this.props,!1),b=me(f,!1),w=Et(Et({},g),{},{fill:"none"},me(l,!1)),_=p.map(function(v,x){var S=s.getTickLineCoord(v),k=S.line,E=S.tick,A=Et(Et(Et(Et({textAnchor:m,verticalAnchor:y},g),{},{stroke:"none",fill:c},b),E),{},{index:x,payload:v,visibleTicksCount:p.length,tickFormatter:d});return T.createElement(Me,xs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Ci(s.props,v,x)),l&&T.createElement("line",xs({},w,k,{className:Ne("recharts-cartesian-axis-tick-line",Pr(l,"className"))})),f&&t.renderTickItem(f,A,"".concat(xe(d)?d(v.value,x):v.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,f=a.hide;if(f)return null;var d=this.props,h=d.ticks,p=am(d,Ane),m=h;return xe(l)&&(m=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!m||!m.length?null:T.createElement(Me,{className:Ne("recharts-cartesian-axis",c),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Bt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=Ne(a.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?s=T.cloneElement(n,Et(Et({},a),{},{className:o})):xe(n)?s=n(Et(Et({},a),{},{className:o})):s=T.createElement(Ti,xs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(O.Component);nb(Io,"displayName","CartesianAxis");nb(Io,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lne=["x1","y1","x2","y2","key"],Bne=["offset"];function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return t=Une(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e){var t=zne(e,"string");return Ri(t)=="symbol"?t:t+""}function zne(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function cj(e,t){if(e==null)return{};var r=qne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return T.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LC(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(xe(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=cj(t,Lne),c=me(l,!1);c.offset;var f=cj(c,Bne);r=T.createElement("line",xi({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function Vne(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Zt(Zt({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return LC(a,c)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Kne(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Zt(Zt({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return LC(a,c)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Hne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var f=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],y=m?a+s-h:f[p+1]-h;if(y<=0)return null;var g=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Gne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var f=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var m=!f[p+1],y=m?i+o-h:f[p+1]-h;if(y<=0)return null;var g=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:l,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Yne=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return IP(rb(Zt(Zt(Zt({},Io.defaultProps),n),{},{ticks:Yn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Jne=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return IP(rb(Zt(Zt(Zt({},Io.defaultProps),n),{},{ticks:Yn(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},es={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function as(e){var t,r,n,a,i,s,o=Q0(),l=Z0(),c=Dre(),f=Zt(Zt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:es.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:es.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:es.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:es.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:es.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:es.verticalFill,x:X(e.x)?e.x:c.left,y:X(e.y)?e.y:c.top,width:X(e.width)?e.width:c.width,height:X(e.height)?e.height:c.height}),d=f.x,h=f.y,p=f.width,m=f.height,y=f.syncWithTicks,g=f.horizontalValues,b=f.verticalValues,w=Ire(),_=Rre();if(!X(p)||p<=0||!X(m)||m<=0||!X(d)||d!==+d||!X(h)||h!==+h)return null;var v=f.verticalCoordinatesGenerator||Yne,x=f.horizontalCoordinatesGenerator||Jne,S=f.horizontalPoints,k=f.verticalPoints;if((!S||!S.length)&&xe(x)){var E=g&&g.length,A=x({yAxis:_?Zt(Zt({},_),{},{ticks:E?g:_.ticks}):void 0,width:o,height:l,offset:c},E?!0:y);vn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ri(A),"]")),Array.isArray(A)&&(S=A)}if((!k||!k.length)&&xe(v)){var j=b&&b.length,P=v({xAxis:w?Zt(Zt({},w),{},{ticks:j?b:w.ticks}):void 0,width:o,height:l,offset:c},j?!0:y);vn(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ri(P),"]")),Array.isArray(P)&&(k=P)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Wne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),T.createElement(Vne,xi({},f,{offset:c,horizontalPoints:S,xAxis:w,yAxis:_})),T.createElement(Kne,xi({},f,{offset:c,verticalPoints:k,xAxis:w,yAxis:_})),T.createElement(Hne,xi({},f,{horizontalPoints:S})),T.createElement(Gne,xi({},f,{verticalPoints:k})))}as.displayName="CartesianGrid";var Xne=["type","layout","connectNulls","ref"],Qne=["key"];function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function uj(e,t){if(e==null)return{};var r=Zne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ts(e){return nae(e)||rae(e)||tae(e)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(e,t){if(e){if(typeof e=="string")return Rg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rg(e,t)}}function rae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nae(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FC(n.key),n)}}function iae(e,t,r){return t&&fj(e.prototype,t),r&&fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sae(e,t,r){return t=Nf(t),oae(e,BC()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function oae(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lae(e)}function lae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BC=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function cae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mg(e,t)}function Mg(e,t){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mg(e,t)}function un(e,t,r){return t=FC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FC(e){var t=uae(e,"string");return co(t)=="symbol"?t:t+""}function uae(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ro=function(e){function t(){var r;aae(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=sae(this,t,[].concat(a)),un(r,"state",{isAnimationFinished:!0,totalLength:0}),un(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),un(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(b,w){return b+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var f=Math.floor(s/c),d=s%c,h=o-s,p=[],m=0,y=0;m<l.length;y+=l[m],++m)if(y+l[m]>d){p=[].concat(ts(l.slice(0,m)),[d-y]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ts(t.repeat(l,f)),ts(p),g).map(function(b){return"".concat(b,"px")}).join(", ")}),un(r,"id",Oo("recharts-line-")),un(r,"pathRef",function(s){r.mainCurve=s}),un(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),un(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cae(t,e),iae(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,f=i.children,d=Cr(f,Kc);if(!d)return null;var h=function(y,g){return{x:y.x,y:y.y,value:y.value,errorVal:Tt(y.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return T.createElement(Me,p,d.map(function(m){return T.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,f=o.dataKey,d=me(this.props,!1),h=me(l,!0),p=c.map(function(y,g){var b=xr(xr(xr({key:"dot-".concat(g),r:3},d),h),{},{index:g,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:c});return t.renderDotItem(l,b)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return T.createElement(Me,kl({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,f=o.connectNulls;o.ref;var d=uj(o,Xne),h=xr(xr(xr({},me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:f});return T.createElement(sf,kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,y=s.width,g=s.height,b=this.state,w=b.prevPoints,_=b.totalLength;return T.createElement(Tn,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t;if(w){var S=w.length/o.length,k=o.map(function(I,D){var B=Math.floor(D*S);if(w[B]){var F=w[B],U=jr(F.x,I.x),M=jr(F.y,I.y);return xr(xr({},I),{},{x:U(x),y:M(x)})}if(m){var R=jr(y*2,I.x),L=jr(g/2,I.y);return xr(xr({},I),{},{x:R(x),y:L(x)})}return xr(xr({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(k,n,a)}var E=jr(0,_),A=E(x),j;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});j=i.getStrokeDasharray(A,_,P)}else j=i.generateSimpleStrokeDasharray(_,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return o&&s&&s.length&&(!c&&f>0||!Vc(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,f=a.yAxis,d=a.top,h=a.left,p=a.width,m=a.height,y=a.isAnimationActive,g=a.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=o.length===1,_=Ne("recharts-line",l),v=c&&c.allowDataOverflow,x=f&&f.allowDataOverflow,S=v||x,k=_e(g)?this.id:g,E=(n=me(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,j=A===void 0?3:A,P=E.strokeWidth,I=P===void 0?2:P,D=TB(s)?s:{},B=D.clipDot,F=B===void 0?!0:B,U=j*2+I;return T.createElement(Me,{className:_},v||x?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(k)},T.createElement("rect",{x:v?h:h-p/2,y:x?d:d-m/2,width:v?p:p*2,height:x?m:m*2})),!F&&T.createElement("clipPath",{id:"clipPath-dots-".concat(k)},T.createElement("rect",{x:h-U/2,y:d-U/2,width:p+U,height:m+U}))):null,!w&&this.renderCurve(S,k),this.renderErrorBar(S,k),(w||s)&&this.renderDots(S,F,k),(!y||b)&&dr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ts(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(ts(s),ts(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(T.isValidElement(n))i=T.cloneElement(n,a);else if(xe(n))i=n(a);else{var s=a.key,o=uj(a,Qne),l=Ne("recharts-line-dot",typeof n!="boolean"?n.className:"");i=T.createElement(Mh,kl({key:s},o,{className:l}))}return i}}])}(O.PureComponent);un(Ro,"displayName","Line");un(Ro,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ui.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});un(Ro,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,f=t.layout,d=l.map(function(h,p){var m=Tt(h,s);return f==="horizontal"?{x:M1({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:_e(m)?null:n.scale(m),value:m,payload:h}:{x:_e(m)?null:r.scale(m),y:M1({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:m,payload:h}});return xr({points:d,layout:f},c)});function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function dae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qC(n.key),n)}}function hae(e,t,r){return t&&fae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pae(e,t,r){return t=Of(t),mae(e,UC()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function mae(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(e)}function vae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UC=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function gae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dg(e,t)}function zC(e,t,r){return t=qC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qC(e){var t=yae(e,"string");return uo(t)=="symbol"?t:t+""}function yae(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function bae(e){var t=e.xAxisId,r=Q0(),n=Z0(),a=OC(t);return a==null?null:O.createElement(Io,Lg({},a,{className:Ne("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Yn(s,!0)}}))}var qr=function(e){function t(){return dae(this,t),pae(this,t,arguments)}return gae(t,e),hae(t,[{key:"render",value:function(){return O.createElement(bae,this.props)}}])}(O.Component);zC(qr,"displayName","XAxis");zC(qr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function xae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KC(n.key),n)}}function _ae(e,t,r){return t&&wae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sae(e,t,r){return t=Ef(t),jae(e,WC()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function jae(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kae(e)}function kae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WC=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function Nae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bg(e,t)}function VC(e,t,r){return t=KC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KC(e){var t=Oae(e,"string");return fo(t)=="symbol"?t:t+""}function Oae(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}var Eae=function(t){var r=t.yAxisId,n=Q0(),a=Z0(),i=EC(r);return i==null?null:O.createElement(Io,Fg({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Yn(o,!0)}}))},Wr=function(e){function t(){return xae(this,t),Sae(this,t,arguments)}return Nae(t,e),_ae(t,[{key:"render",value:function(){return O.createElement(Eae,this.props)}}])}(O.Component);VC(Wr,"displayName","YAxis");VC(Wr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hj(e){return Tae(e)||Cae(e)||Pae(e)||Aae()}function Aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pae(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function Cae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tae(e){if(Array.isArray(e))return Ug(e)}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zg=function(t,r,n,a,i){var s=Cr(t,tb),o=Cr(t,Vh),l=[].concat(hj(s),hj(o)),c=Cr(t,Hh),f="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(y,g){if(g.props[f]===n&&An(g.props,"extendDomain")&&X(g.props[d])){var b=g.props[d];return[Math.min(y[0],b),Math.max(y[1],b)]}return y},h)),c.length){var p="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(y,g){if(g.props[f]===n&&An(g.props,"extendDomain")&&X(g.props[p])&&X(g.props[m])){var b=g.props[p],w=g.props[m];return[Math.min(y[0],b,w),Math.max(y[1],b,w)]}return y},h)}return i&&i.length&&(h=i.reduce(function(y,g){return X(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},h)),h},HC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function i(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)t.call(f,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=r?r+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},o.prototype.listenerCount=function(c){var f=r?r+c:c,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,f,d,h,p,m){var y=r?r+c:c;if(!this._events[y])return!1;var g=this._events[y],b=arguments.length,w,_;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,h),!0;case 5:return g.fn.call(g.context,f,d,h,p),!0;case 6:return g.fn.call(g.context,f,d,h,p,m),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];g.fn.apply(g.context,w)}else{var v=g.length,x;for(_=0;_<v;_++)switch(g[_].once&&this.removeListener(c,g[_].fn,void 0,!0),b){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,f);break;case 3:g[_].fn.call(g[_].context,f,d);break;case 4:g[_].fn.call(g[_].context,f,d,h);break;default:if(!w)for(x=1,w=new Array(b-1);x<b;x++)w[x-1]=arguments[x];g[_].fn.apply(g[_].context,w)}}return!0},o.prototype.on=function(c,f,d){return i(this,c,f,d,!1)},o.prototype.once=function(c,f,d){return i(this,c,f,d,!0)},o.prototype.removeListener=function(c,f,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!f)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===f&&(!h||m.once)&&(!d||m.context===d)&&s(this,p);else{for(var y=0,g=[],b=m.length;y<b;y++)(m[y].fn!==f||h&&!m[y].once||d&&m[y].context!==d)&&g.push(m[y]);g.length?this._events[p]=g.length===1?g[0]:g:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(HC);var $ae=HC.exports;const Iae=ze($ae);var im=new Iae,sm="recharts.syncMouseEvents";function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Rae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GC(n.key),n)}}function Dae(e,t,r){return t&&Mae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function om(e,t,r){return t=GC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GC(e){var t=Lae(e,"string");return Ec(t)=="symbol"?t:t+""}function Lae(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bae=function(){function e(){Rae(this,e),om(this,"activeIndex",0),om(this,"coordinateList",[]),om(this,"layout","horizontal")}return Dae(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Fae(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&X(n)&&X(a))return!0}return!1}function Uae(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YC(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ze(t,r,n,a),o=Ze(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zae(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ze(o,l,c,d),p=Ze(o,l,f,d);n=h.x,a=h.y,i=p.x,s=p.y}else return YC(t);return[{x:n,y:a},{x:i,y:s}]}function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qae(e,t,r){return t=Wae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wae(e){var t=Vae(e,"string");return Ac(t)=="symbol"?t:t+""}function Vae(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kae(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,y=sf;if(h==="ScatterChart")m=s,y=uZ;else if(h==="BarChart")m=Uae(d,s,l,f),y=G0;else if(d==="radial"){var g=YC(s),b=g.cx,w=g.cy,_=g.radius,v=g.startAngle,x=g.endAngle;m={cx:b,cy:w,startAngle:v,endAngle:x,innerRadius:_,outerRadius:_},y=VP}else m={points:zae(d,s,l)},y=sf;var S=Ru(Ru(Ru(Ru({stroke:"#ccc",pointerEvents:"none"},l),m),me(p,!1)),{},{payload:o,payloadIndex:c,className:Ne("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,S):O.createElement(y,S)}var Hae=["item"],Gae=["children","className","width","height","style","compact","title","desc"];function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(this,arguments)}function mj(e,t){return Xae(e)||Jae(e,t)||XC(e,t)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Xae(e){if(Array.isArray(e))return e}function vj(e,t){if(e==null)return{};var r=Qae(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QC(n.key),n)}}function tie(e,t,r){return t&&eie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rie(e,t,r){return t=Af(t),nie(e,JC()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function nie(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aie(e)}function aie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JC=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function iie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qg(e,t)}function po(e){return lie(e)||oie(e)||XC(e)||sie()}function sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XC(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function oie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lie(e){if(Array.isArray(e))return Wg(e)}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ve(e,t,r){return t=QC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QC(e){var t=cie(e,"string");return ho(t)=="symbol"?t:t+""}function cie(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie={xAxis:["bottom","top"],yAxis:["left","right"]},die={width:"100%",height:"100%"},ZC={x:0,y:0};function Mu(e){return e}var fie=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hie=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return V(V(V({},a),Ze(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return V(V(V({},a),Ze(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return ZC},Gh=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(po(o),po(c)):o},[]);return s.length>0?s:t&&t.length&&X(a)&&X(i)?t.slice(a,i+1):[]};function eT(e){return e==="number"?[0,"auto"]:void 0}var Vg=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=Gh(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Ed(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(po(l),[BP(c,h)]):l},[])},yj=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=fie(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,f=$Y(s,o,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=Vg(t,r,f,d),p=hie(n,o,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},pie=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=$P(f,i);return n.reduce(function(m,y){var g,b=y.type.defaultProps!==void 0?V(V({},y.type.defaultProps),y.props):y.props,w=b.type,_=b.dataKey,v=b.allowDataOverflow,x=b.allowDuplicatedCategory,S=b.scale,k=b.ticks,E=b.includeHidden,A=b[s];if(m[A])return m;var j=Gh(t.data,{graphicalItems:a.filter(function(q){var Z,le=s in q.props?q.props[s]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[s];return le===A}),dataStartIndex:l,dataEndIndex:c}),P=j.length,I,D,B;Fae(b.domain,v,w)&&(I=ig(b.domain,null,v),p&&(w==="number"||S!=="auto")&&(B=wl(j,_,"category")));var F=eT(w);if(!I||I.length===0){var U,M=(U=b.domain)!==null&&U!==void 0?U:F;if(_){if(I=wl(j,_,w),w==="category"&&p){var R=_B(I);x&&R?(D=I,I=vf(0,P)):x||(I=F1(M,I,y).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(po(q),[Z])},[]))}else if(w==="category")x?I=I.filter(function(q){return q!==""&&!_e(q)}):I=F1(M,I,y).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||_e(Z)?q:[].concat(po(q),[Z])},[]);else if(w==="number"){var L=LY(j,a.filter(function(q){var Z,le,je=s in q.props?q.props[s]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[s],Ae="hide"in q.props?q.props.hide:(le=q.type.defaultProps)===null||le===void 0?void 0:le.hide;return je===A&&(E||!Ae)}),_,i,f);L&&(I=L)}p&&(w==="number"||S!=="auto")&&(B=wl(j,_,"category"))}else p?I=vf(0,P):o&&o[A]&&o[A].hasStack&&w==="number"?I=h==="expand"?[0,1]:LP(o[A].stackGroups,l,c):I=TP(j,a.filter(function(q){var Z=s in q.props?q.props[s]:q.type.defaultProps[s],le="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===A&&(E||!le)}),w,f,!0);if(w==="number")I=zg(d,I,A,i,k),M&&(I=ig(M,I,v));else if(w==="category"&&M){var C=M,H=I.every(function(q){return C.indexOf(q)>=0});H&&(I=C)}}return V(V({},m),{},ve({},A,V(V({},b),{},{axisType:i,domain:I,categoricalDomain:B,duplicateDomain:D,originalDomain:(g=b.domain)!==null&&g!==void 0?g:F,isCategorical:p,layout:f})))},{})},mie=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.layout,d=t.children,h=Gh(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=$P(f,i),y=-1;return n.reduce(function(g,b){var w=b.type.defaultProps!==void 0?V(V({},b.type.defaultProps),b.props):b.props,_=w[s],v=eT("number");if(!g[_]){y++;var x;return m?x=vf(0,p):o&&o[_]&&o[_].hasStack?(x=LP(o[_].stackGroups,l,c),x=zg(d,x,_,i)):(x=ig(v,TP(h,n.filter(function(S){var k,E,A=s in S.props?S.props[s]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[s],j="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===_&&!j}),"number",f),a.defaultProps.allowDataOverflow),x=zg(d,x,_,i)),V(V({},g),{},ve({},_,V(V({axisType:i},a.defaultProps),{},{hide:!0,orientation:Pr(uie,"".concat(i,".").concat(y%2),null),domain:x,originalDomain:v,isCategorical:m,layout:f})))}return g},{})},vie=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),h=Cr(f,i),p={};return h&&h.length?p=pie(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=mie(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},gie=function(t){var r=ja(t),n=Yn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:w0(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rf(r,n)}},bj=function(t){var r=t.children,n=t.defaultShowTooltip,a=Sr(r,no),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},yie=function(t){return!t||!t.length?!1:t.some(function(r){var n=Xn(r&&r.type);return n&&n.indexOf("Bar")>=0})},xj=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bie=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,f=n.height,d=n.children,h=n.margin||{},p=Sr(d,no),m=Sr(d,fn),y=Object.keys(l).reduce(function(x,S){var k=l[S],E=k.orientation;return!k.mirror&&!k.hide?V(V({},x),{},ve({},E,x[E]+k.width)):x},{left:h.left||0,right:h.right||0}),g=Object.keys(s).reduce(function(x,S){var k=s[S],E=k.orientation;return!k.mirror&&!k.hide?V(V({},x),{},ve({},E,Pr(x,"".concat(E))+k.height)):x},{top:h.top||0,bottom:h.bottom||0}),b=V(V({},g),y),w=b.bottom;p&&(b.bottom+=p.props.height||no.defaultProps.height),m&&r&&(b=MY(b,a,n,r));var _=c-b.left-b.right,v=f-b.top-b.bottom;return V(V({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(v,0)})},xie=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ab=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(b,w){var _=w.graphicalItems,v=w.stackGroups,x=w.offset,S=w.updateId,k=w.dataStartIndex,E=w.dataEndIndex,A=b.barSize,j=b.layout,P=b.barGap,I=b.barCategoryGap,D=b.maxBarSize,B=xj(j),F=B.numericAxisName,U=B.cateAxisName,M=yie(_),R=[];return _.forEach(function(L,C){var H=Gh(b.data,{graphicalItems:[L],dataStartIndex:k,dataEndIndex:E}),q=L.type.defaultProps!==void 0?V(V({},L.type.defaultProps),L.props):L.props,Z=q.dataKey,le=q.maxBarSize,je=q["".concat(F,"Id")],Ae=q["".concat(U,"Id")],bt={},ot=l.reduce(function(z,Q){var pe=w["".concat(Q.axisType,"Map")],he=q["".concat(Q.axisType,"Id")];pe&&pe[he]||Q.axisType==="zAxis"||Ii();var $e=pe[he];return V(V({},z),{},ve(ve({},Q.axisType,$e),"".concat(Q.axisType,"Ticks"),Yn($e)))},bt),ee=ot[U],se=ot["".concat(U,"Ticks")],ue=v&&v[je]&&v[je].hasStack&&HY(L,v[je].stackGroups),G=Xn(L.type).indexOf("Bar")>=0,Pe=rf(ee,se),Oe=[],Be=M&&IY({barSize:A,stackGroups:v,totalSize:xie(ot,U)});if(G){var Ke,lt,mt=_e(le)?D:le,$=(Ke=(lt=rf(ee,se,!0))!==null&&lt!==void 0?lt:mt)!==null&&Ke!==void 0?Ke:0;Oe=RY({barGap:P,barCategoryGap:I,bandSize:$!==Pe?$:Pe,sizeList:Be[Ae],maxBarSize:mt}),$!==Pe&&(Oe=Oe.map(function(z){return V(V({},z),{},{position:V(V({},z.position),{},{offset:z.position.offset-$/2})})}))}var re=L&&L.type&&L.type.getComposedData;re&&R.push({props:V(V({},re(V(V({},ot),{},{displayedData:H,props:b,dataKey:Z,item:L,bandSize:Pe,barPosition:Oe,offset:x,stackedData:ue,layout:j,dataStartIndex:k,dataEndIndex:E}))),{},ve(ve(ve({key:L.key||"item-".concat(C)},F,ot[F]),U,ot[U]),"animationId",S)),childIndex:RB(L,b.children),item:L})}),R},p=function(b,w){var _=b.props,v=b.dataStartIndex,x=b.dataEndIndex,S=b.updateId;if(!$w({props:_}))return null;var k=_.children,E=_.layout,A=_.stackOffset,j=_.data,P=_.reverseStackOrder,I=xj(E),D=I.numericAxisName,B=I.cateAxisName,F=Cr(k,n),U=VY(j,F,"".concat(D,"Id"),"".concat(B,"Id"),A,P),M=l.reduce(function(q,Z){var le="".concat(Z.axisType,"Map");return V(V({},q),{},ve({},le,vie(_,V(V({},Z),{},{graphicalItems:F,stackGroups:Z.axisType===D&&U,dataStartIndex:v,dataEndIndex:x}))))},{}),R=bie(V(V({},M),{},{props:_,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(M).forEach(function(q){M[q]=f(_,M[q],R,q.replace("Map",""),r)});var L=M["".concat(B,"Map")],C=gie(L),H=h(_,V(V({},M),{},{dataStartIndex:v,dataEndIndex:x,updateId:S,graphicalItems:F,stackGroups:U,offset:R}));return V(V({formattedGraphicalItems:H,graphicalItems:F,offset:R,stackGroups:U},C),M)},m=function(g){function b(w){var _,v,x;return Zae(this,b),x=rie(this,b,[w]),ve(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(x,"accessibilityManager",new Bae),ve(x,"handleLegendBBoxUpdate",function(S){if(S){var k=x.state,E=k.dataStartIndex,A=k.dataEndIndex,j=k.updateId;x.setState(V({legendBBox:S},p({props:x.props,dataStartIndex:E,dataEndIndex:A,updateId:j},V(V({},x.state),{},{legendBBox:S}))))}}),ve(x,"handleReceiveSyncEvent",function(S,k,E){if(x.props.syncId===S){if(E===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(k)}}),ve(x,"handleBrushChange",function(S){var k=S.startIndex,E=S.endIndex;if(k!==x.state.dataStartIndex||E!==x.state.dataEndIndex){var A=x.state.updateId;x.setState(function(){return V({dataStartIndex:k,dataEndIndex:E},p({props:x.props,dataStartIndex:k,dataEndIndex:E,updateId:A},x.state))}),x.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),ve(x,"handleMouseEnter",function(S){var k=x.getMouseInfo(S);if(k){var E=V(V({},k),{},{isTooltipActive:!0});x.setState(E),x.triggerSyncEvent(E);var A=x.props.onMouseEnter;xe(A)&&A(E,S)}}),ve(x,"triggeredAfterMouseMove",function(S){var k=x.getMouseInfo(S),E=k?V(V({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(E),x.triggerSyncEvent(E);var A=x.props.onMouseMove;xe(A)&&A(E,S)}),ve(x,"handleItemMouseEnter",function(S){x.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ve(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ve(x,"handleMouseMove",function(S){S.persist(),x.throttleTriggeredAfterMouseMove(S)}),ve(x,"handleMouseLeave",function(S){x.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};x.setState(k),x.triggerSyncEvent(k);var E=x.props.onMouseLeave;xe(E)&&E(k,S)}),ve(x,"handleOuterEvent",function(S){var k=IB(S),E=Pr(x.props,"".concat(k));if(k&&xe(E)){var A,j;/.*touch.*/i.test(k)?j=x.getMouseInfo(S.changedTouches[0]):j=x.getMouseInfo(S),E((A=j)!==null&&A!==void 0?A:{},S)}}),ve(x,"handleClick",function(S){var k=x.getMouseInfo(S);if(k){var E=V(V({},k),{},{isTooltipActive:!0});x.setState(E),x.triggerSyncEvent(E);var A=x.props.onClick;xe(A)&&A(E,S)}}),ve(x,"handleMouseDown",function(S){var k=x.props.onMouseDown;if(xe(k)){var E=x.getMouseInfo(S);k(E,S)}}),ve(x,"handleMouseUp",function(S){var k=x.props.onMouseUp;if(xe(k)){var E=x.getMouseInfo(S);k(E,S)}}),ve(x,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ve(x,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseDown(S.changedTouches[0])}),ve(x,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseUp(S.changedTouches[0])}),ve(x,"handleDoubleClick",function(S){var k=x.props.onDoubleClick;if(xe(k)){var E=x.getMouseInfo(S);k(E,S)}}),ve(x,"handleContextMenu",function(S){var k=x.props.onContextMenu;if(xe(k)){var E=x.getMouseInfo(S);k(E,S)}}),ve(x,"triggerSyncEvent",function(S){x.props.syncId!==void 0&&im.emit(sm,x.props.syncId,S,x.eventEmitterSymbol)}),ve(x,"applySyncEvent",function(S){var k=x.props,E=k.layout,A=k.syncMethod,j=x.state.updateId,P=S.dataStartIndex,I=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)x.setState(V({dataStartIndex:P,dataEndIndex:I},p({props:x.props,dataStartIndex:P,dataEndIndex:I,updateId:j},x.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,B=S.chartY,F=S.activeTooltipIndex,U=x.state,M=U.offset,R=U.tooltipTicks;if(!M)return;if(typeof A=="function")F=A(R,S);else if(A==="value"){F=-1;for(var L=0;L<R.length;L++)if(R[L].value===S.activeLabel){F=L;break}}var C=V(V({},M),{},{x:M.left,y:M.top}),H=Math.min(D,C.x+C.width),q=Math.min(B,C.y+C.height),Z=R[F]&&R[F].value,le=Vg(x.state,x.props.data,F),je=R[F]?{x:E==="horizontal"?R[F].coordinate:H,y:E==="horizontal"?q:R[F].coordinate}:ZC;x.setState(V(V({},S),{},{activeLabel:Z,activeCoordinate:je,activePayload:le,activeTooltipIndex:F}))}else x.setState(S)}),ve(x,"renderCursor",function(S){var k,E=x.state,A=E.isTooltipActive,j=E.activeCoordinate,P=E.activePayload,I=E.offset,D=E.activeTooltipIndex,B=E.tooltipAxisBandSize,F=x.getTooltipEventType(),U=(k=S.props.active)!==null&&k!==void 0?k:A,M=x.props.layout,R=S.key||"_recharts-cursor";return T.createElement(Kae,{key:R,activeCoordinate:j,activePayload:P,activeTooltipIndex:D,chartName:r,element:S,isActive:U,layout:M,offset:I,tooltipAxisBandSize:B,tooltipEventType:F})}),ve(x,"renderPolarAxis",function(S,k,E){var A=Pr(S,"type.axisType"),j=Pr(x.state,"".concat(A,"Map")),P=S.type.defaultProps,I=P!==void 0?V(V({},P),S.props):S.props,D=j&&j[I["".concat(A,"Id")]];return O.cloneElement(S,V(V({},D),{},{className:Ne(A,D.className),key:S.key||"".concat(k,"-").concat(E),ticks:Yn(D,!0)}))}),ve(x,"renderPolarGrid",function(S){var k=S.props,E=k.radialLines,A=k.polarAngles,j=k.polarRadius,P=x.state,I=P.radiusAxisMap,D=P.angleAxisMap,B=ja(I),F=ja(D),U=F.cx,M=F.cy,R=F.innerRadius,L=F.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(A)?A:Yn(F,!0).map(function(C){return C.coordinate}),polarRadius:Array.isArray(j)?j:Yn(B,!0).map(function(C){return C.coordinate}),cx:U,cy:M,innerRadius:R,outerRadius:L,key:S.key||"polar-grid",radialLines:E})}),ve(x,"renderLegend",function(){var S=x.state.formattedGraphicalItems,k=x.props,E=k.children,A=k.width,j=k.height,P=x.props.margin||{},I=A-(P.left||0)-(P.right||0),D=PP({children:E,formattedGraphicalItems:S,legendWidth:I,legendContent:c});if(!D)return null;var B=D.item,F=vj(D,Hae);return O.cloneElement(B,V(V({},F),{},{chartWidth:A,chartHeight:j,margin:P,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ve(x,"renderTooltip",function(){var S,k=x.props,E=k.children,A=k.accessibilityLayer,j=Sr(E,Lt);if(!j)return null;var P=x.state,I=P.isTooltipActive,D=P.activeCoordinate,B=P.activePayload,F=P.activeLabel,U=P.offset,M=(S=j.props.active)!==null&&S!==void 0?S:I;return O.cloneElement(j,{viewBox:V(V({},U),{},{x:U.left,y:U.top}),active:M,label:F,payload:M?B:[],coordinate:D,accessibilityLayer:A})}),ve(x,"renderBrush",function(S){var k=x.props,E=k.margin,A=k.data,j=x.state,P=j.offset,I=j.dataStartIndex,D=j.dataEndIndex,B=j.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Cu(x.handleBrushChange,S.props.onChange),data:A,x:X(S.props.x)?S.props.x:P.left,y:X(S.props.y)?S.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:X(S.props.width)?S.props.width:P.width,startIndex:I,endIndex:D,updateId:"brush-".concat(B)})}),ve(x,"renderReferenceElement",function(S,k,E){if(!S)return null;var A=x,j=A.clipPathId,P=x.state,I=P.xAxisMap,D=P.yAxisMap,B=P.offset,F=S.type.defaultProps||{},U=S.props,M=U.xAxisId,R=M===void 0?F.xAxisId:M,L=U.yAxisId,C=L===void 0?F.yAxisId:L;return O.cloneElement(S,{key:S.key||"".concat(k,"-").concat(E),xAxis:I[R],yAxis:D[C],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:j})}),ve(x,"renderActivePoints",function(S){var k=S.item,E=S.activePoint,A=S.basePoint,j=S.childIndex,P=S.isRange,I=[],D=k.props.key,B=k.item.type.defaultProps!==void 0?V(V({},k.item.type.defaultProps),k.item.props):k.item.props,F=B.activeDot,U=B.dataKey,M=V(V({index:j,dataKey:U,cx:E.x,cy:E.y,r:4,fill:H0(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},me(F,!1)),Ad(F));return I.push(b.renderActiveDot(F,M,"".concat(D,"-activePoint-").concat(j))),A?I.push(b.renderActiveDot(F,V(V({},M),{},{cx:A.x,cy:A.y}),"".concat(D,"-basePoint-").concat(j))):P&&I.push(null),I}),ve(x,"renderGraphicChild",function(S,k,E){var A=x.filterFormatItem(S,k,E);if(!A)return null;var j=x.getTooltipEventType(),P=x.state,I=P.isTooltipActive,D=P.tooltipAxis,B=P.activeTooltipIndex,F=P.activeLabel,U=x.props.children,M=Sr(U,Lt),R=A.props,L=R.points,C=R.isRange,H=R.baseLine,q=A.item.type.defaultProps!==void 0?V(V({},A.item.type.defaultProps),A.item.props):A.item.props,Z=q.activeDot,le=q.hide,je=q.activeBar,Ae=q.activeShape,bt=!!(!le&&I&&M&&(Z||je||Ae)),ot={};j!=="axis"&&M&&M.props.trigger==="click"?ot={onClick:Cu(x.handleItemMouseEnter,S.props.onClick)}:j!=="axis"&&(ot={onMouseLeave:Cu(x.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Cu(x.handleItemMouseEnter,S.props.onMouseEnter)});var ee=O.cloneElement(S,V(V({},A.props),ot));function se(Q){return typeof D.dataKey=="function"?D.dataKey(Q.payload):null}if(bt)if(B>=0){var ue,G;if(D.dataKey&&!D.allowDuplicatedCategory){var Pe=typeof D.dataKey=="function"?se:"payload.".concat(D.dataKey.toString());ue=Ed(L,Pe,F),G=C&&H&&Ed(H,Pe,F)}else ue=L==null?void 0:L[B],G=C&&H&&H[B];if(Ae||je){var Oe=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[O.cloneElement(S,V(V(V({},A.props),ot),{},{activeIndex:Oe})),null,null]}if(!_e(ue))return[ee].concat(po(x.renderActivePoints({item:A,activePoint:ue,basePoint:G,childIndex:B,isRange:C})))}else{var Be,Ke=(Be=x.getItemByXY(x.state.activeCoordinate))!==null&&Be!==void 0?Be:{graphicalItem:ee},lt=Ke.graphicalItem,mt=lt.item,$=mt===void 0?S:mt,re=lt.childIndex,z=V(V(V({},A.props),ot),{},{activeIndex:re});return[O.cloneElement($,z),null,null]}return C?[ee,null,null]:[ee,null]}),ve(x,"renderCustomized",function(S,k,E){return O.cloneElement(S,V(V({key:"recharts-customized-".concat(E)},x.props),x.state))}),ve(x,"renderMap",{CartesianGrid:{handler:Mu,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Mu},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Mu},YAxis:{handler:Mu},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Oo("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=AA(x.triggeredAfterMouseMove,(v=w.throttleDelay)!==null&&v!==void 0?v:1e3/60),x.state={},x}return iie(b,g),tie(b,[{key:"componentDidMount",value:function(){var _,v;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(v=this.props.margin.top)!==null&&v!==void 0?v:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,v=_.children,x=_.data,S=_.height,k=_.layout,E=Sr(v,Lt);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=Vg(this.state,x,A,j),I=this.state.tooltipTicks[A].coordinate,D=(this.state.offset.top+S)/2,B=k==="horizontal",F=B?{x:I,y:D}:{y:I,x:D},U=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});U&&(F=V(V({},F),U.props.points[A].tooltipPosition),P=U.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:j,activePayload:P,activeCoordinate:F};this.setState(M),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,v){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==v.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var x,S;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(_){xv([Sr(_.children,Lt)],[Sr(this.props.children,Lt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Sr(this.props.children,Lt);if(_&&typeof _.props.shared=="boolean"){var v=_.props.shared?"axis":"item";return o.indexOf(v)>=0?v:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var v=this.container,x=v.getBoundingClientRect(),S=o9(x),k={chartX:Math.round(_.pageX-S.left),chartY:Math.round(_.pageY-S.top)},E=x.width/v.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,E);if(!A)return null;var j=this.state,P=j.xAxisMap,I=j.yAxisMap,D=this.getTooltipEventType(),B=yj(this.state,this.props.data,this.props.layout,A);if(D!=="axis"&&P&&I){var F=ja(P).scale,U=ja(I).scale,M=F&&F.invert?F.invert(k.chartX):null,R=U&&U.invert?U.invert(k.chartY):null;return V(V({},k),{},{xValue:M,yValue:R},B)}return B?V(V({},k),B):null}},{key:"inRange",value:function(_,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=_/x,E=v/x;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,j=k>=A.left&&k<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return j?{x:k,y:E}:null}var P=this.state,I=P.angleAxisMap,D=P.radiusAxisMap;if(I&&D){var B=ja(I);return q1({x:k,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,v=this.getTooltipEventType(),x=Sr(_,Lt),S={};x&&v==="axis"&&(x.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Ad(this.props,this.handleOuterEvent);return V(V({},k),S)}},{key:"addListener",value:function(){im.on(sm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){im.removeListener(sm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,v,x){for(var S=this.state.formattedGraphicalItems,k=0,E=S.length;k<E;k++){var A=S[k];if(A.item===_||A.props.key===_.key||v===Xn(A.item.type)&&x===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,v=this.state.offset,x=v.left,S=v.top,k=v.height,E=v.width;return T.createElement("defs",null,T.createElement("clipPath",{id:_},T.createElement("rect",{x,y:S,height:k,width:E})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(v,x){var S=mj(x,2),k=S[0],E=S[1];return V(V({},v),{},ve({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(v,x){var S=mj(x,2),k=S[0],E=S[1];return V(V({},v),{},ve({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var v;return(v=this.state.xAxisMap)===null||v===void 0||(v=v[_])===null||v===void 0?void 0:v.scale}},{key:"getYScaleByAxisId",value:function(_){var v;return(v=this.state.yAxisMap)===null||v===void 0||(v=v[_])===null||v===void 0?void 0:v.scale}},{key:"getItemByXY",value:function(_){var v=this.state,x=v.formattedGraphicalItems,S=v.activeItem;if(x&&x.length)for(var k=0,E=x.length;k<E;k++){var A=x[k],j=A.props,P=A.item,I=P.type.defaultProps!==void 0?V(V({},P.type.defaultProps),P.props):P.props,D=Xn(P.type);if(D==="Bar"){var B=(j.data||[]).find(function(R){return WQ(_,R)});if(B)return{graphicalItem:A,payload:B}}else if(D==="RadialBar"){var F=(j.data||[]).find(function(R){return q1(_,R)});if(F)return{graphicalItem:A,payload:F}}else if(Uh(A,S)||zh(A,S)||Sc(A,S)){var U=Tee({graphicalItem:A,activeTooltipItem:S,itemData:I.data}),M=I.activeIndex===void 0?U:I.activeIndex;return{graphicalItem:V(V({},A),{},{childIndex:M}),payload:Sc(A,S)?I.data[U]:A.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!$w(this))return null;var v=this.props,x=v.children,S=v.className,k=v.width,E=v.height,A=v.style,j=v.compact,P=v.title,I=v.desc,D=vj(v,Gae),B=me(D,!1);if(j)return T.createElement(XS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(_v,ws({},B,{width:k,height:E,title:P,desc:I}),this.renderClipPath(),Rw(x,this.renderMap)));if(this.props.accessibilityLayer){var F,U;B.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,B.role=(U=this.props.role)!==null&&U!==void 0?U:"application",B.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},B.onFocus=function(){_.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return T.createElement(XS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",ws({className:Ne("recharts-wrapper",S),style:V({position:"relative",cursor:"default",width:k,height:E},A)},M,{ref:function(L){_.container=L}}),T.createElement(_v,ws({},B,{width:k,height:E,title:P,desc:I,style:die}),this.renderClipPath(),Rw(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);ve(m,"displayName",r),ve(m,"defaultProps",V({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ve(m,"getDerivedStateFromProps",function(g,b){var w=g.dataKey,_=g.data,v=g.children,x=g.width,S=g.height,k=g.layout,E=g.stackOffset,A=g.margin,j=b.dataStartIndex,P=b.dataEndIndex;if(b.updateId===void 0){var I=bj(g);return V(V(V({},I),{},{updateId:0},p(V(V({props:g},I),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:A,prevChildren:v})}if(w!==b.prevDataKey||_!==b.prevData||x!==b.prevWidth||S!==b.prevHeight||k!==b.prevLayout||E!==b.prevStackOffset||!Ps(A,b.prevMargin)){var D=bj(g),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=V(V({},yj(b,_,k)),{},{updateId:b.updateId+1}),U=V(V(V({},D),B),F);return V(V(V({},U),p(V({props:g},U),b)),{},{prevDataKey:w,prevData:_,prevWidth:x,prevHeight:S,prevLayout:k,prevStackOffset:E,prevMargin:A,prevChildren:v})}if(!xv(v,b.prevChildren)){var M,R,L,C,H=Sr(v,no),q=H&&(M=(R=H.props)===null||R===void 0?void 0:R.startIndex)!==null&&M!==void 0?M:j,Z=H&&(L=(C=H.props)===null||C===void 0?void 0:C.endIndex)!==null&&L!==void 0?L:P,le=q!==j||Z!==P,je=!_e(_),Ae=je&&!le?b.updateId:b.updateId+1;return V(V({updateId:Ae},p(V(V({props:g},b),{},{updateId:Ae,dataStartIndex:q,dataEndIndex:Z}),b)),{},{prevChildren:v,dataStartIndex:q,dataEndIndex:Z})}return null}),ve(m,"renderActiveDot",function(g,b,w){var _;return O.isValidElement(g)?_=O.cloneElement(g,b):xe(g)?_=g(b):_=T.createElement(Mh,b),T.createElement(Me,{className:"recharts-active-dot",key:w},_)});var y=O.forwardRef(function(b,w){return T.createElement(m,ws({},b,{ref:w}))});return y.displayName=m.displayName,y},tT=ab({chartName:"LineChart",GraphicalChild:Ro,axisComponents:[{axisType:"xAxis",AxisComp:qr},{axisType:"yAxis",AxisComp:Wr}],formatAxisMap:bC}),_s=ab({chartName:"BarChart",GraphicalChild:Hr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qr},{axisType:"yAxis",AxisComp:Wr}],formatAxisMap:bC}),wie=ab({chartName:"PieChart",GraphicalChild:da,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fh},{axisType:"radiusAxis",AxisComp:Lh}],formatAxisMap:nJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function _ie(){const e=new Date,t=typeof document<"u"&&document.documentElement.classList.contains("dark"),r=t?"#e5e7eb":"#0f172a",n=t?"#374151":"#e5e7eb",a=[{v:"01",n:"Jan"},{v:"02",n:"Fev"},{v:"03",n:"Mar"},{v:"04",n:"Abr"},{v:"05",n:"Mai"},{v:"06",n:"Jun"},{v:"07",n:"Jul"},{v:"08",n:"Ago"},{v:"09",n:"Set"},{v:"10",n:"Out"},{v:"11",n:"Nov"},{v:"12",n:"Dez"}],[i,s]=O.useState(null),[o,l]=O.useState(()=>{const m=localStorage.getItem("dashboard_period_draft");return m?JSON.parse(m):{month:String(e.getMonth()+1).padStart(2,"0"),year:e.getFullYear(),location:""}});O.useEffect(()=>{localStorage.setItem("dashboard_period_draft",JSON.stringify(o))},[o]);const c=async(m=o)=>{const y=await uR({month:Number(m.month),year:Number(m.year),location:m.location});s(y)},f=O.useRef(c);f.current=c,O.useEffect(()=>{c(o)},[]),O.useEffect(()=>{let m=[];(async()=>{if(Re){const b=Re.channel("public:viagens").on("postgres_changes",{event:"*",schema:"public",table:"viagens"},()=>{f.current()}).subscribe(),w=Re.channel("public:motoristas").on("postgres_changes",{event:"*",schema:"public",table:"motoristas"},()=>{f.current()}).subscribe(),_=Re.channel("public:caminhoes").on("postgres_changes",{event:"*",schema:"public",table:"caminhoes"},()=>{f.current()}).subscribe(),v=Re.channel("public:pranchas").on("postgres_changes",{event:"*",schema:"public",table:"pranchas"},()=>{f.current()}).subscribe();m=[b,w,_,v]}})();const g=setInterval(()=>{f.current()},1e4);return()=>{m.length>0&&Re&&m.forEach(b=>Re.removeChannel(b)),clearInterval(g)}},[]);const d=m=>`R$ ${Number(m).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`,h=m=>Number(m).toLocaleString("pt-BR"),p=m=>{const y=Math.floor(m),g=Math.round((m-y)*60);return`${y}h ${g}m`};return i?u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 p-4 flex flex-col md:flex-row md:items-center gap-3 mb-6",children:[u.jsx("div",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Perodo"}),u.jsx("select",{className:"select",value:o.month,onChange:m=>{const y={...o,month:m.target.value};l(y),c(y)},children:a.map(m=>u.jsx("option",{value:m.v,children:m.n},m.v))}),u.jsx("input",{className:"input w-28",inputMode:"numeric",value:o.year,onChange:m=>{const y={...o,year:m.target.value.replace(/[^0-9]/g,"").slice(0,4)||""};l(y)},onBlur:()=>{const m=Number(o.year||e.getFullYear()),y={...o,year:m};l(y),c(y)}}),u.jsxs("select",{className:"select",value:o.location,onChange:m=>{const y={...o,location:m.target.value};l(y),c(y)},children:[u.jsx("option",{value:"",children:"Todas as Unidades"}),u.jsx("option",{value:"Cambu",children:"Cambu"}),u.jsx("option",{value:"Vale",children:"Vale"}),u.jsx("option",{value:"Panorama",children:"Panorama"}),u.jsx("option",{value:"Floresta",children:"Floresta"})]}),u.jsx("div",{className:"text-xs text-slate-500",children:"Preparado para futuro intervalo personalizado"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-10 mb-10",children:[u.jsx("div",{className:"card card-hover p-6 border-t-4 border-accent",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-accent/20 text-accent flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Viagens no Ms"}),u.jsx("div",{className:"text-3xl font-bold",children:i.totalTrips})]})]}),i.trends&&u.jsxs("div",{className:`text-sm font-bold ${i.trends.trips>=0?"text-green-600":"text-red-600"}`,children:[i.trends.trips>0?"":i.trends.trips<0?"":"-"," ",Math.abs(i.trends.trips).toFixed(1),"%"]})]})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-pink-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-pink-500/20 text-pink-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Gasto"}),u.jsx("div",{className:"text-3xl font-bold",children:d(i.totalCostsMonth||0)})]})]}),i.trends&&u.jsxs("div",{className:`text-sm font-bold ${i.trends.costs<=0?"text-green-600":"text-red-600"}`,children:[i.trends.costs>0?"":i.trends.costs<0?"":"-"," ",Math.abs(i.trends.costs).toFixed(1),"%"]})]})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-indigo-500",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-500/20 text-indigo-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Custo por Km"}),u.jsxs("div",{className:"text-3xl font-bold",children:[d(i.costPerKm||0),u.jsx("span",{className:"text-sm font-normal text-slate-500",children:"/km"})]})]})]})})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-green-500",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-green-500/20 text-green-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Horas Trabalhadas"}),u.jsx("div",{className:"text-3xl font-bold",children:i.totalHours})]})]})})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-primary",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/20 text-primary flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Servios Concludos"}),u.jsx("div",{className:"text-3xl font-bold",children:i.totalCompleted})]})]})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-yellow-500",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-500/20 text-yellow-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Viagens Pendentes"}),u.jsx("div",{className:"text-3xl font-bold",children:i.pendingTrips||0})]})]})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-cyan-500",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-500/20 text-cyan-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Caminhes Disponveis"}),u.jsxs("div",{className:"text-3xl font-bold",children:[i.trucksAvailable||0," ",u.jsxs("span",{className:"text-xs text-slate-500 font-normal",children:["/ ",i.totalTrucks||0]})]})]})]})}),u.jsx("div",{className:"card card-hover p-6 border-t-4 border-orange-500",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/20 text-orange-600 flex items-center justify-center text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Ociosidade da Frota"}),u.jsxs("div",{className:"text-3xl font-bold",children:[Number(i.idlePercentage||0).toFixed(1),"%"]})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-6 text-slate-900 dark:text-slate-100 text-lg",children:"Km por Ms"}),u.jsx("div",{className:"h-80",children:u.jsx(Wn,{children:u.jsxs(_s,{data:i.kmByMonth,margin:{top:20,right:30,left:10,bottom:0},children:[u.jsx(as,{strokeDasharray:"3 3",stroke:n,vertical:!1}),u.jsx(qr,{dataKey:"month",tick:{fill:r},axisLine:!1,tickLine:!1}),u.jsx(Wr,{width:65,tickMargin:10,tick:{fill:r},axisLine:!1,tickLine:!1,tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(0)}k`:m}),u.jsx(Lt,{contentStyle:{backgroundColor:t?"#1f2937":"#fff",borderColor:n,color:r},formatter:m=>[`${h(m)} km`,"KM Rodados"]}),u.jsx(fn,{wrapperStyle:{color:r}}),u.jsx(Hr,{name:"KM Rodados",dataKey:"km",fill:"#2563eb",radius:[4,4,0,0],children:u.jsx(dr,{dataKey:"km",position:"top",fill:r,formatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m})})]})})})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-6 text-slate-900 dark:text-slate-100 text-lg",children:"Viagens por Motorista"}),u.jsx("div",{className:"h-80",children:u.jsx(Wn,{children:u.jsxs(_s,{data:i.tripsByDriver,margin:{top:20,right:30,left:10,bottom:0},children:[u.jsx(as,{strokeDasharray:"3 3",stroke:n,vertical:!1}),u.jsx(qr,{dataKey:"name",tick:{fill:r,fontSize:12},interval:0,angle:-45,textAnchor:"end",height:80,axisLine:!1,tickLine:!1,tickFormatter:m=>{if(!m)return"";const y=m.split(" ");return y.length>=2?`${y[0]} ${y[y.length-1].slice(0,1)}.`:m.slice(0,10)+(m.length>10?".":"")}}),u.jsx(Wr,{width:65,tickMargin:10,tick:{fill:r},axisLine:!1,tickLine:!1,allowDecimals:!1}),u.jsx(Lt,{contentStyle:{backgroundColor:t?"#1f2937":"#fff",borderColor:n,color:r},formatter:m=>[m,"Viagens"]}),u.jsx(fn,{wrapperStyle:{color:r}}),u.jsx(Hr,{name:"Viagens",dataKey:"value",fill:"#0ea5e9",radius:[4,4,0,0],children:u.jsx(dr,{dataKey:"value",position:"top",fill:r,formatter:m=>m>0?m:""})})]})})})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-6 text-slate-900 dark:text-slate-100 text-lg",children:"Horas por Ms"}),u.jsx("div",{className:"h-80",children:u.jsx(Wn,{children:u.jsxs(tT,{data:i.hoursByMonth,margin:{top:20,right:30,left:10,bottom:10},children:[u.jsx(as,{strokeDasharray:"3 3",stroke:n,vertical:!1}),u.jsx(qr,{dataKey:"month",tick:{fill:r},axisLine:!1,tickLine:!1}),u.jsx(Wr,{width:65,tickMargin:10,tick:{fill:r},axisLine:!1,tickLine:!1,tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(0)}k`:`${m}h`}),u.jsx(Lt,{contentStyle:{backgroundColor:t?"#1f2937":"#fff",borderColor:n,color:r},formatter:m=>[p(m),"Horas Trabalhadas"]}),u.jsx(fn,{wrapperStyle:{color:r}}),u.jsx(Ro,{name:"Horas Trabalhadas",type:"monotone",dataKey:"hours",stroke:"#38bdf8",strokeWidth:3,dot:{r:4,strokeWidth:2},activeDot:{r:6},children:u.jsx(dr,{dataKey:"hours",position:"top",fill:r,formatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m>0?p(m):""})})]})})})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-6 text-slate-900 dark:text-slate-100 text-lg",children:"Custos por Ms"}),u.jsx("div",{className:"h-80",children:u.jsx(Wn,{children:u.jsxs(_s,{data:i.costsByMonth,margin:{top:20,right:30,left:10,bottom:10},children:[u.jsx(as,{strokeDasharray:"3 3",stroke:n,vertical:!1}),u.jsx(qr,{dataKey:"month",tick:{fill:r},axisLine:!1,tickLine:!1}),u.jsx(Wr,{width:65,tickMargin:10,tick:{fill:r},axisLine:!1,tickLine:!1,tickFormatter:m=>m>=1e3?`R$${(m/1e3).toFixed(0)}k`:`R$${m}`}),u.jsx(Lt,{contentStyle:{backgroundColor:t?"#1f2937":"#fff",borderColor:n,color:r},formatter:m=>[d(m),"Custo Total"]}),u.jsx(fn,{wrapperStyle:{color:r}}),u.jsx(Hr,{name:"Custo Total",dataKey:"total",fill:"#ef4444",radius:[4,4,0,0],children:u.jsx(dr,{dataKey:"total",position:"top",fill:r,formatter:m=>m>=1e3?`R$${(m/1e3).toFixed(1)}k`:m>0?`R$${m}`:""})})]})})})]}),u.jsxs("div",{className:"card p-6 lg:col-span-2",children:[u.jsx("div",{className:"font-semibold mb-6 text-slate-900 dark:text-slate-100 text-lg",children:"Custos por Categoria"}),u.jsx("div",{className:"h-80",children:u.jsx(Wn,{children:u.jsxs(_s,{data:i.costsByCategory,margin:{top:20,right:30,left:10,bottom:10},children:[u.jsx(as,{strokeDasharray:"3 3",stroke:n,vertical:!1}),u.jsx(qr,{dataKey:"name",tick:{fill:r,fontSize:13},interval:0,angle:-30,textAnchor:"end",height:100,axisLine:!1,tickLine:!1,tickFormatter:m=>m.length>20?m.slice(0,20)+"...":m}),u.jsx(Wr,{width:65,tickMargin:10,tick:{fill:r},axisLine:!1,tickLine:!1,tickFormatter:m=>m>=1e3?`R$${(m/1e3).toFixed(0)}k`:`R$${m}`}),u.jsx(Lt,{contentStyle:{backgroundColor:t?"#1f2937":"#fff",borderColor:n,color:r},formatter:m=>[d(m),"Custo"]}),u.jsx(fn,{wrapperStyle:{color:r}}),u.jsx(Hr,{name:"Custo",dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0],children:u.jsx(dr,{dataKey:"value",position:"top",fill:r,formatter:m=>m>=1e3?`R$${(m/1e3).toFixed(1)}k`:m>0?`R$${m}`:""})})]})})})]})]})]}):u.jsx("div",{className:"animate-fade",children:"Carregando..."})}const rT=O.createContext(null);function Sie({children:e}){const[t,r]=O.useState([]),n=O.useMemo(()=>({show(a,i="info",s=3e3){const o=Math.random().toString(36).slice(2);r(l=>[...l,{id:o,msg:a,type:i}]),setTimeout(()=>r(l=>l.filter(c=>c.id!==o)),s)}}),[]);return u.jsxs(rT.Provider,{value:n,children:[e,u.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(a=>u.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg text-white ${a.type==="success"?"bg-green-600":a.type==="error"?"bg-red-600":"bg-slate-800"} dark:bg-[#1e293b] dark:text-[#f1f5f9]`,children:[u.jsx("span",{className:"material-icons",children:a.type==="success"?"check_circle":a.type==="error"?"error":"info"}),u.jsx("span",{children:a.msg})]},a.id))})]})}function Hc(){return O.useContext(rT)}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),wj=e=>{const t=kie(e);return t.charAt(0).toUpperCase()+t.slice(1)},nT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Nie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>O.createElement("svg",{ref:l,...Oie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:nT("lucide",a),...!i&&!Nie(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,f])=>O.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=(e,t)=>{const r=O.forwardRef(({className:n,...a},i)=>O.createElement(Eie,{ref:i,iconNode:t,className:nT(`lucide-${jie(wj(e))}`,`lucide-${e}`,n),...a}));return r.displayName=wj(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pie=Gc("credit-card",Aie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_j=Gc("file-text",Cie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$ie=Gc("plus",Tie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rie=Gc("search",Iie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Die=Gc("user",Mie);function Lie(){const e=Hc(),[t,r]=O.useState([]),[n,a]=O.useState(""),[i,s]=O.useState(1),[o,l]=O.useState(20),[c,f]=O.useState(0),[d,h]=O.useState(()=>{const A=localStorage.getItem("drivers_form_draft");return A?JSON.parse(A):{name:"",cpf:"",cnh_number:"",cnh_category:"",status:"Ativo",salary_base:"",charges_percent:"",daily_cost:""}});O.useEffect(()=>{if(d.salary_base){const A=Number(d.salary_base),j=d.charges_percent?Number(d.charges_percent):0,I=A*(1+j/100)/30;h(D=>({...D,daily_cost:I.toFixed(2)}))}},[d.salary_base,d.charges_percent]);const[p,m]=O.useState(null),[y,g]=O.useState(!1),b=O.useRef(null),w=()=>{Xf({page:i,pageSize:o,search:n}).then(A=>{A.data?(r(A.data),f(A.total)):(r(A),f(A.length))})},_=O.useRef(w);_.current=w,O.useEffect(()=>{w()},[i,o,n]),O.useEffect(()=>{const A=setInterval(()=>{_.current()},1e4);let j=null;return(async()=>{Re&&(j=Re.channel("public:motoristas").on("postgres_changes",{event:"*",schema:"public",table:"motoristas"},()=>{_.current()}).subscribe())})(),()=>{j&&Re&&Re.removeChannel(j),clearInterval(A)}},[]);const v=async A=>{if(A.preventDefault(),!d.name){e==null||e.show("Erro  Aba Motoristas  Campo Nome obrigatrio","error");return}try{p?(await eR(p.id,d),e==null||e.show("Motorista atualizado","success")):(await ZI(d),e==null||e.show("Motorista cadastrado","success")),localStorage.removeItem("drivers_form_draft"),h({name:"",cpf:"",cnh_number:"",cnh_category:"",status:"Ativo",salary_base:"",charges_percent:"",daily_cost:""}),m(null),g(!1),w(),window.scrollTo({top:0,behavior:"smooth"})}catch(j){console.error(j),e==null||e.show("Erro ao salvar motorista: "+(j.message||"Erro desconhecido"),"error")}},x=A=>{m(A),h({name:A.name,cpf:A.cpf||"",cnh_number:A.cnh_number||"",cnh_category:A.cnh_category||"",status:A.status,salary_base:A.salary_base||"",charges_percent:A.charges_percent||"",daily_cost:A.daily_cost||""}),g(!0),e==null||e.show("Edio carregada","info"),setTimeout(()=>{b.current?b.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},S=A=>{const j=String(A||"").replace(/\D/g,"").slice(0,11),P=j.slice(0,3),I=j.slice(3,6),D=j.slice(6,9),B=j.slice(9,11);return[P,I,D].filter(Boolean).join(".")+(B?"-"+B:"")},k=async A=>{window.confirm("Confirma excluir este motorista?")&&(await tR(A),e==null||e.show("Motorista excludo","success"),w())};O.useEffect(()=>{p||localStorage.setItem("drivers_form_draft",JSON.stringify(d))},[d,p]);const E=t;return u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gerenciar Motoristas"}),u.jsxs("button",{onClick:()=>{m(null),h({name:"",cpf:"",cnh_category:"",status:"Ativo"}),g(!y)},className:"btn btn-primary flex items-center gap-2",children:[u.jsx($ie,{size:20}),y?"Fechar Formulrio":"Novo Motorista"]})]}),y&&u.jsx("div",{ref:b,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 mb-8 animate-fade-in",children:u.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nome Completo"}),u.jsxs("div",{className:"relative",children:[u.jsx(Die,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{required:!0,className:"input pl-10",placeholder:"Joo da Silva",value:d.name||"",onChange:A=>h({...d,name:A.target.value})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"CPF"}),u.jsxs("div",{className:"relative",children:[u.jsx(Pie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{required:!0,className:"input pl-10",placeholder:"000.000.000-00",maxLength:14,value:d.cpf||"",onChange:A=>h({...d,cpf:S(A.target.value)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nmero CNH"}),u.jsxs("div",{className:"relative",children:[u.jsx(_j,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{className:"input !pl-10",placeholder:"12345678900",maxLength:11,value:d.cnh_number||"",onChange:A=>h({...d,cnh_number:A.target.value.replace(/\D/g,"").slice(0,11)})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Status"}),u.jsxs("select",{className:"input",value:d.status,onChange:A=>h({...d,status:A.target.value}),children:[u.jsx("option",{value:"Ativo",children:"Ativo"}),u.jsx("option",{value:"Inativo",children:"Inativo"}),u.jsx("option",{value:"Frias",children:"Frias"})]})]}),u.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4 border-t pt-4 mt-2",children:[u.jsx("div",{className:"md:col-span-3 font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Dados Financeiros (Custos)"}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Salrio Base (R$)"}),u.jsx("input",{type:"number",className:"input",placeholder:"0.00",value:d.salary_base||"",onChange:A=>h({...d,salary_base:A.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Encargos (%)"}),u.jsx("input",{type:"number",className:"input",placeholder:"Ex: 60",value:d.charges_percent||"",onChange:A=>h({...d,charges_percent:A.target.value})}),u.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"INSS, FGTS, 13, Frias"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custo Dirio (R$)"}),u.jsx("input",{type:"number",className:"input bg-slate-50",placeholder:"Calculado...",value:d.daily_cost||"",onChange:A=>h({...d,daily_cost:A.target.value})}),u.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Custo dia efetivo"})]})]}),u.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[p&&u.jsx("button",{type:"button",onClick:()=>{m(null),h({name:"",cpf:"",cnh_category:"",status:"Ativo"}),g(!1)},className:"btn btn-ghost",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"btn btn-primary px-8",children:p?"Atualizar":"Salvar"})]})]})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[u.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex gap-4",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Rie,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{className:"input !pl-10",placeholder:"Buscar por nome ou CPF...",value:n,onChange:A=>{a(A.target.value),s(1)}})]})}),u.jsxs("div",{className:"md:hidden divide-y divide-slate-100 dark:divide-slate-700",children:[E.map(A=>u.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:A.name}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:A.cpf})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:A.status})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 dark:text-slate-400 mt-2",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(_j,{size:14})," CNH ",A.cnh_number||"-"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>x(A),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>k(A.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})]})]},A.id)),E.length===0&&u.jsx("div",{className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum motorista encontrado"})]}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-400 font-bold text-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Nome"}),u.jsx("th",{className:"p-4",children:"CPF"}),u.jsx("th",{className:"p-4",children:"CNH"}),u.jsx("th",{className:"p-4",children:"Status"}),u.jsx("th",{className:"p-4 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[E.slice(0,o).map(A=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsx("td",{className:"p-4 font-medium text-slate-800 dark:text-slate-200",children:A.name}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:A.cpf}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:A.cnh_number||"-"}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:A.status})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>x(A),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",title:"Editar",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>k(A.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})})]},A.id)),E.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"5",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum motorista encontrado"})})]})]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4 p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Pgina ",i," de ",Math.ceil(c/o)||1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:i<=1,onClick:()=>s(i-1),children:"Anterior"}),u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:i*o>=c,onClick:()=>s(i+1),children:"Prxima"}),u.jsxs("select",{className:"select select-sm !py-1 dark:bg-slate-700 dark:border-slate-600",value:o,onChange:A=>{l(Number(A.target.value)),s(1)},children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:50,children:"50"})]})]})]})]})}const Du=async e=>{if(!e)return null;const t=e.match(/^(-?\d+(\.\d+)?),\s*(-?\d+(\.\d+)?)$/);if(t)return{lat:parseFloat(t[1]),lon:parseFloat(t[3])};try{const n=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`)).json();if(n&&n.length>0)return{lat:parseFloat(n[0].lat),lon:parseFloat(n[0].lon)}}catch(r){console.error("Geocoding error",r)}return null},ol=async(e,t)=>{console.log(`[Integration] Fetching route from ${e} to ${t}`);try{const l=await Du(e),c=await Du(t);if(!l||!c)throw console.warn("Could not geocode origin or destination - using fallback"),new Error("Geocoding failed - falling back to mock");const f=`https://router.project-osrm.org/route/v1/driving/${l.lon},${l.lat};${c.lon},${c.lat}?overview=full&geometries=geojson&alternatives=true`,h=await(await fetch(f)).json();if(h.code==="Ok"&&h.routes&&h.routes.length>0){const p=h.routes.map((y,g)=>({id:g,distanceKm:parseFloat((y.distance/1e3).toFixed(1)),durationMinutes:Math.round(y.duration/60),geometry:y.geometry,summary:y.legs&&y.legs[0]?y.legs[0].summary:`Rota ${g+1}`,weight:y.weight,weight_name:y.weight_name})),m=p[0];return{distanceKm:m.distanceKm,durationMinutes:m.durationMinutes,geometry:m.geometry,waypoints:h.waypoints,source:"OSRM",alternatives:p}}}catch(l){l.message&&l.message.includes("Geocoding failed")?console.warn("Route fetch: "+l.message):console.error("Route fetch error",l)}console.warn("Falling back to mock route data");let r=null,n=null;try{r=await Du(e),n=await Du(t)}catch(l){console.warn("Fallback geocode failed",l)}const i=50+(e.length+t.length)*123%800;let s=null;r&&n&&(s={type:"LineString",coordinates:[[r.lon,r.lat],[n.lon,n.lat]]});const o={distanceKm:Math.round(i),durationMinutes:Math.round(i/60*60),geometry:s};return{...o,source:"MOCK_FALLBACK",alternatives:[{...o,id:0,summary:"Rota Estimada (Linha Reta)"}]}},Bie=async(e="SP")=>({price:{SP:6.1,MG:6.25,RJ:6.3,PR:6.05,SC:6.15,RS:6.2}[e]||6.15,lastUpdate:new Date().toISOString().split("T")[0],source:"ANP_MOCK"}),Fie=async(e,t,r=6)=>{const a=(await ol(e,t)).distanceKm,i=Math.floor(a/100),s=11*(r/2),o=i*s;return{cost:Math.round(o*100)/100,plazas:i,source:"ESTIMATED_MOCK"}},ib=e=>{try{return String(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch{return String(e).toLowerCase()}},Uie=e=>{const t=String(e).toUpperCase(),r=t.match(/\b([A-Z]{3}[0-9]{4})\b/);if(r)return r[1];const n=t.match(/\b([A-Z]{3}[0-9][A-Z][0-9]{2})\b/);return n?n[1]:null},zie=e=>{const r=String(e).toUpperCase().match(/\b([A-HJ-NPR-Z0-9]{17})\b/);return r?r[1]:null},Sj=e=>{const r=ib(e).match(/\b(20\d{2})\b/);return r?Number(r[1]):null},qie=e=>{const r=ib(e).match(/emitido\s*em\s*[:\.]?\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(0[1-9]|1[0-2])\s*[\/-]\s*(20\d{2}))/);if(r&&r[1]){const n=String(r[1]).match(/(0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(0[1-9]|1[0-2])\s*[\/-]\s*(20\d{2})/);if(n){const a=String(n[1]).padStart(2,"0");return`${n[3]}-${n[2]}-${a}`}}return null},Wie=e=>{const t=ib(e),r=[/com\s*validade\s*ate\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(?:0[1-9]|1[0-2])\s*[\/-]\s*20\d{2})/,/validade\s*ate\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(?:0[1-9]|1[0-2])\s*[\/-]\s*20\d{2})/,/vencimento\s*(?:em|ate)?\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(?:0[1-9]|1[0-2])\s*[\/-]\s*20\d{2})/,/valido\s*ate\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(?:0[1-9]|1[0-2])\s*[\/-]\s*20\d{2})/,/ate\s*((?:0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(?:0[1-9]|1[0-2])\s*[\/-]\s*20\d{2})/];for(const n of r){const a=t.match(n),i=String((a==null?void 0:a[1])||"").match(/(0?[1-9]|[12]\d|3[01])\s*[\/-]\s*(0[1-9]|1[0-2])\s*[\/-]\s*(20\d{2})/);if(i){const s=String(i[1]).padStart(2,"0");return`${i[3]}-${i[2]}-${s}`}}return null};async function Vie(e){try{const t=await Yf(()=>import("./pdf-C2NMrW9w.js"),[]),r=await new Promise((s,o)=>{const l=new FileReader;l.onload=()=>s(new Uint8Array(l.result)),l.onerror=o,l.readAsArrayBuffer(e)}),n=await t.getDocument({data:r}).promise;let a="";const i=n.numPages;for(let s=1;s<=i;s++){const l=await(await n.getPage(s)).getTextContent();a+=l.items.map(c=>c.str).join(" ")+`
`}return a}catch{return""}}const Kie=async e=>{const t="https://gerenciamento-prancha.onrender.com";if(t)try{if((e==null?void 0:e.file)instanceof File||e instanceof File){const n=e.file instanceof File?e.file:e,a=new FormData;a.append("file",n),e.type&&a.append("type",e.type);const s=await(await fetch(`${t}/api/ai/extract-document`,{method:"POST",body:a})).json();if(s&&!s.error)return s}else if(e!=null&&e.id){const a=await(await fetch(`${t}/api/ai/extract-document`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,type:e.type})})).json();if(a&&!a.error)return a}}catch(n){console.warn("Backend extraction failed, falling back to local",n)}const r=(e==null?void 0:e.file)instanceof File?e.file:e instanceof File?e:null;if(r){const n=await Vie(r);let a=Wie(n);const i=Sj(n),s=i?`${Number(i)+1}-10-31`:null;return a||(a=s),{plate:Uie(n),chassis:zie(n),year:Sj(n),doc_type:"documento",issue_date:qie(n),expiry_date:a,confidence:.4,notes:"Extrao local (pdf.js) sem IA"}}return{plate:null,chassis:null,year:null,doc_type:"documento",issue_date:null,expiry_date:null,confidence:.1,notes:"Sem dados para extrao"}},jj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Nj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function Hie({isOpen:e,onClose:t,onSelect:r,initialAddress:n}){const a=O.useRef(null),i=O.useRef(null),s=O.useRef(null),[o,l]=O.useState(""),[c,f]=O.useState(null),[d,h]=O.useState(!1),[p,m]=O.useState(!1),[y,g]=O.useState(!1),[b,w]=O.useState("");O.useEffect(()=>{if(e){if(!i.current&&a.current){const j=window.L;if(!j)return;const P=j.map(a.current).setView([-17.8136,-50.5969],13);j.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(P),P.on("click",async I=>{const{lat:D,lng:B}=I.latlng;v(D,B),f({lat:D,lon:B,display_name:null}),S(D,B)}),i.current=P}return setTimeout(()=>{i.current&&i.current.invalidateSize()},100),n&&n.length>3&&(l(n),x(n)),()=>{i.current&&(i.current.remove(),i.current=null,s.current=null)}}},[e]),O.useEffect(()=>{const j=window.L;j&&(delete j.Icon.Default.prototype._getIconUrl,j.Icon.Default.mergeOptions({iconRetinaUrl:kj,iconUrl:jj,shadowUrl:Nj}))},[]);const _=j=>j?[j.road||j.street,j.house_number,j.suburb||j.neighborhood,j.city||j.town||j.village||j.municipality,j.state].filter(Boolean).join(", "):"",v=(j,P)=>{const I=window.L;if(!i.current||!I)return;const D=I.icon({iconUrl:jj,iconRetinaUrl:kj,shadowUrl:Nj,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});s.current&&s.current.remove(),s.current=I.marker([j,P],{icon:D,draggable:!0}).addTo(i.current),s.current.on("dragend",function(B){const F=B.target.getLatLng();i.current.panTo(F),S(F.lat,F.lng)}),i.current.panTo([j,P])},x=async(j,P=!1)=>{if(j){h(!0);try{const D=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&q=${encodeURIComponent(j)}`)).json();if(D&&D.length>0){const B=D[0],F=parseFloat(B.lat),U=parseFloat(B.lon);v(F,U);const M=_(B.address)||B.display_name;f({lat:F,lon:U,display_name:M,full:B})}else{if(!P&&j.includes(",")){const F=j.split(",");if(F.length>1){const U=F.slice(1).join(",").trim();if(U.length>3){console.log(`Retrying search with fallback: ${U}`),await x(U,!0);return}}}const B=document.querySelector('input[placeholder*="Digite o endereo"]');B&&(B.classList.add("input-error"),setTimeout(()=>B.classList.remove("input-error"),2e3))}}catch(I){console.error("Geocoding error",I)}finally{P||h(!1)}}},S=async(j,P)=>{h(!0);try{const D=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${j}&lon=${P}`)).json();if(D){const B=_(D.address)||D.display_name;f({lat:j,lon:P,display_name:B,full:D})}}catch(I){console.error("Reverse geocoding error",I)}finally{h(!1)}},k=j=>{let P=j;(!P||P.trim()==="")&&(P=`Localizao (${c.lat.toFixed(5)}, ${c.lon.toFixed(5)})`),r({address:P,lat:c.lat,lon:c.lon}),g(!1),t()},E=()=>{var j;if(c){let P=c.display_name;const I=((j=c.full)==null?void 0:j.address)||{},D=I.road||I.street||I.house_number||I.amenity||I.building||I.leisure||I.tourism||I.shop,B=!P||typeof P=="string"&&(P.includes("Unnamed")||P.match(/^Localizao \(-?\d/));if(!D||B){w(P&&!P.match(/^Localizao \(-?\d/)?P:""),g(!0);return}k(P)}else t()},A=()=>{navigator.geolocation&&(h(!0),navigator.geolocation.getCurrentPosition(j=>{const{latitude:P,longitude:I}=j.coords;v(P,I),S(P,I),h(!1)},j=>{console.error(j),h(!1)}))};return e?u.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade ${p?"p-0":"p-4"}`,children:u.jsxs("div",{className:`bg-white dark:bg-slate-800 shadow-2xl flex flex-col border border-slate-200 dark:border-slate-700 overflow-hidden transition-all duration-300 ${p?"w-screen h-screen rounded-none":"w-full max-w-7xl h-[90vh] rounded-xl"}`,children:[u.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"map"})," Selecionar Localizao"]}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Busque um endereo ou clique no mapa"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{m(!p),setTimeout(()=>{i.current&&i.current.invalidateSize()},300)},className:"btn btn-ghost btn-sm btn-circle text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",title:p?"Sair da Tela Cheia":"Tela Cheia",children:u.jsx("span",{className:"material-icons",children:p?"fullscreen_exit":"fullscreen"})}),u.jsx("button",{onClick:t,className:"btn btn-ghost btn-sm btn-circle text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:u.jsx("span",{className:"material-icons",children:"close"})})]})]}),u.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 flex gap-2 border-b border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("input",{className:"input input-bordered w-full pl-10 bg-white dark:bg-slate-800 dark:border-slate-600 dark:text-white focus:ring-2 focus:ring-primary focus:border-primary transition-all",placeholder:"Digite o endereo (Rua, Cidade, Estado...)",value:o,onChange:j=>l(j.target.value),onKeyDown:j=>j.key==="Enter"&&x(o)}),u.jsx("span",{className:"material-icons absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"})]}),u.jsx("button",{className:"btn btn-primary px-6",onClick:()=>x(o),disabled:d,children:d?u.jsx("span",{className:"loading loading-spinner loading-xs"}):"Buscar"}),u.jsx("button",{className:"btn btn-square btn-outline btn-secondary",onClick:A,title:"Minha Localizao",children:u.jsx("span",{className:"material-icons",children:"my_location"})})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-900",children:[u.jsx("div",{ref:a,className:"absolute inset-0 z-0"}),d&&u.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-white dark:bg-slate-800 px-4 py-2 rounded-full shadow-lg z-[400] flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"loading loading-spinner loading-xs text-primary"}),"Carregando mapa..."]})]}),u.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800 flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"flex-1 w-full",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold tracking-wider mb-1",children:"Endereo Selecionado"}),u.jsx("div",{className:`text-sm p-3 rounded-lg border ${c?"bg-blue-50 border-blue-100 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200":"bg-slate-50 border-slate-100 text-slate-500 dark:bg-slate-800 dark:border-slate-700"}`,children:c?u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"material-icons text-blue-500 text-sm mt-0.5",children:"place"}),u.jsx("span",{className:"font-medium",children:c.display_name})]}):u.jsx("span",{className:"italic",children:"Nenhum local selecionado. Clique no mapa ou busque acima."})})]}),u.jsxs("div",{className:"flex gap-3 w-full md:w-auto mt-2 md:mt-0",children:[u.jsx("button",{className:"btn btn-ghost text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 flex-1 md:flex-none",onClick:t,children:"Cancelar"}),u.jsxs("button",{className:"btn btn-success text-white px-8 flex-1 md:flex-none shadow-lg hover:shadow-green-500/30 transition-all transform active:scale-95",onClick:E,disabled:!c,children:[u.jsx("span",{className:"material-icons",children:"check_circle"})," Confirmar"]})]})]}),y&&u.jsx("div",{className:"absolute inset-0 z-[1000] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 animate-scale-up transform transition-all",children:[u.jsxs("h4",{className:"text-lg font-bold mb-2 text-slate-800 dark:text-white flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"edit_location"}),"Nomear Localizao"]}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4 leading-relaxed",children:'Este local no possui um endereo especfico. D um nome para facilitar a identificao (ex: "Fazenda Santa Maria", "Entrada B"):'}),u.jsx("input",{autoFocus:!0,className:"input input-bordered w-full mb-6 bg-slate-50 dark:bg-slate-900 dark:text-white dark:border-slate-600 focus:ring-2 focus:ring-primary",value:b,onChange:j=>w(j.target.value),onKeyDown:j=>j.key==="Enter"&&k(b),placeholder:"Digite um nome..."}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{className:"btn btn-ghost text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>k(null),children:"Usar Coordenadas"}),u.jsx("button",{className:"btn btn-primary px-6 shadow-lg hover:shadow-primary/30",onClick:()=>k(b),children:"Salvar Nome"})]})]})})]})}):null}function Oj({isOpen:e,onClose:t,routeData:r,inline:n=!1,onRouteSelect:a,isLoading:i=!1}){const s=O.useRef(null),o=O.useRef(null),l=O.useRef([]),[c,f]=O.useState(0);O.useEffect(()=>{f(0)},[r]),O.useEffect(()=>{if(!e&&!n||!s.current||o.current)return;const y=window.L;if(y){try{const g=y.map(s.current,{zoomControl:!1,attributionControl:!1}).setView([-17.8136,-50.5969],13);y.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(g),o.current=g;const b=()=>{g&&g._container&&g.invalidateSize()};setTimeout(b,10),setTimeout(b,100),setTimeout(b,300),setTimeout(b,500),setTimeout(b,1e3);const w=new ResizeObserver(()=>{b()});w.observe(s.current),g._resizeObserver=w}catch(g){console.error("Error initializing map:",g)}return()=>{if(o.current){o.current._resizeObserver&&o.current._resizeObserver.disconnect();try{o.current.remove()}catch(g){console.warn("Error removing map:",g)}o.current=null,l.current=[]}}}},[e,n]),O.useEffect(()=>{const y=o.current;if(!y||!r)return;const g=window.L;l.current&&(l.current.forEach(w=>{try{y.removeLayer(w)}catch{}}),l.current=[]),(r.alternatives||[r]).forEach((w,_)=>{if(!w.geometry)return;const v=_===c,x=v?"#2563eb":"#94a3b8",S=v?5:4,k=v?.8:.5;try{const E=g.geoJSON(w.geometry,{style:{color:x,weight:S,opacity:k}}).addTo(y);v&&(E.bringToFront(),setTimeout(()=>{try{y&&y._container&&(y.fitBounds(E.getBounds(),{padding:[20,20]}),y.invalidateSize())}catch{}},100)),E.on("click",()=>{d(_,w)}),l.current.push(E)}catch(E){console.error("Error drawing route layer:",E)}}),r.waypoints&&r.waypoints.forEach((w,_)=>{const[v,x]=w.location;try{g.marker([x,v]).bindPopup(_===0?"Origem":"Destino").addTo(y)}catch{}}),setTimeout(()=>{y&&y.invalidateSize()},50)},[r,c,e,n]);const d=(y,g)=>{f(y),a&&a(g)};if(!e&&!n)return null;const h=(r==null?void 0:r.alternatives)||(r?[r]:[]),p=h[c]||r,m=()=>u.jsx("div",{className:"absolute top-2 right-2 z-[400] flex flex-col gap-2 max-w-[200px]",children:h.length>1&&h.map((y,g)=>u.jsxs("button",{onClick:b=>{b.stopPropagation(),d(g,y)},className:`text-xs p-2 rounded shadow-lg text-left transition-all ${c===g?"bg-primary text-white scale-105":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,children:[u.jsx("div",{className:"font-bold",children:y.summary||`Rota ${g+1}`}),u.jsxs("div",{children:[y.distanceKm," km  ",Math.floor(y.durationMinutes/60),"h ",y.durationMinutes%60,"m"]})]},g))});return n?u.jsxs("div",{className:"w-full h-full relative bg-slate-100 dark:bg-slate-900 group",children:[u.jsx("div",{ref:s,className:"absolute inset-0 z-0"}),u.jsx(m,{}),i&&u.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-3 animate-pulse",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Carregando mapa..."})]})}),!(p!=null&&p.geometry)&&!i&&u.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-sm",children:u.jsxs("div",{className:"text-center p-4",children:[u.jsx("span",{className:"material-icons text-4xl text-slate-400 mb-2",children:"map"}),u.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Mapa indisponvel para rota estimada"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"A distncia e durao foram calculadas manualmente"})]})})]}):u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl flex flex-col h-[80vh] border border-slate-200 dark:border-slate-700 overflow-hidden relative",children:[u.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white dark:bg-slate-800 z-10 relative",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-xl text-slate-800 dark:text-white flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"alt_route"})," Rota Calculada"]}),u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 flex gap-4 mt-1",children:[u.jsxs("span",{children:["Distncia: ",u.jsxs("b",{children:[p==null?void 0:p.distanceKm," km"]})]}),u.jsxs("span",{children:["Durao Est.: ",u.jsxs("b",{children:[Math.floor(((p==null?void 0:p.durationMinutes)||0)/60),"h ",((p==null?void 0:p.durationMinutes)||0)%60,"m"]})]})]})]}),u.jsx("button",{onClick:t,className:"btn btn-ghost btn-sm btn-circle text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:u.jsx("span",{className:"material-icons",children:"close"})})]}),u.jsxs("div",{className:"flex-1 relative bg-slate-100 dark:bg-slate-900",children:[u.jsx("div",{ref:s,className:"absolute inset-0 z-0"}),u.jsx(m,{}),i&&u.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:u.jsxs("div",{className:"flex flex-col items-center gap-3 animate-pulse",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Carregando mapa..."})]})}),!(p!=null&&p.geometry)&&!i&&u.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-sm",children:u.jsxs("div",{className:"text-center p-4",children:[u.jsx("span",{className:"material-icons text-4xl text-slate-400 mb-2",children:"map"}),u.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Mapa indisponvel para rota estimada"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"A distncia e durao foram calculadas manualmente"})]})})]})]})})}function Gie(){var pb,mb,vb,gb,yb;const e=Hc(),t=Bi(),[r,n]=O.useState([]),[a,i]=O.useState([]),[s,o]=O.useState([]),[l,c]=O.useState([]),[f,d]=O.useState([]),[h,p]=O.useState({isOpen:!1,target:null,initial:""}),[m,y]=O.useState(null),[g,b]=O.useState(null),w=["Mquinas Agrcolas","Mquinas de Construo","Equipamentos Industriais","Veculos Pesados","Veculos Leves"],_={date:"",end_date:"",requester:"",driver_id:"",truck_id:"",prancha_id:"",destination:"",destination_coords:"",origin:"Santa Helena de Gois",origin_coords:"",location:"",service_type:"",cargo_qty:"",status:"Previsto",description:"",start_time:"",end_time:"",km_start:"",km_end:"",km_trip:"",km_per_liter:"",noKmStart:!1,noKmEnd:!1,fuel_liters:"",noFuelLiters:!1,fuel_price:"",noFuelPrice:!1,other_costs:"",noOtherCosts:!1,maintenance_cost:"",noMaintenanceCost:!1,driver_daily:"",noDriverDaily:!1,tolls:"",freight_value:"",freight_type:"Fechado",planned_km:"",planned_duration:"",planned_fuel_liters:"",planned_toll_cost:"",planned_driver_cost:"",planned_total_cost:"",planned_maintenance:"",trip_type:"one_way"},[v,x]=O.useState(()=>{const N=localStorage.getItem("trips_form_draft");return N?JSON.parse(N):_}),[S,k]=O.useState(null);O.useEffect(()=>{if(!v.truck_id||!v.driver_id){k(null);return}const N=a.find(Xh=>String(Xh.id)===String(v.truck_id)),K=r.find(Xh=>String(Xh.id)===String(v.driver_id));if(!N||!K)return;const W=Number(v.km_trip)||0,J=Number(v.freight_value)||0,te=(Number(v.fuel_liters)||0)*(Number(v.fuel_price)||0),oe=Number(v.tolls)||0,be=Number(v.other_costs)||0,zt=Number(v.maintenance_cost)||0,yr=Number(v.driver_daily)||0,Gt=Number(N.vehicle_value)||0,ut=Number(N.residual_value)||0,Le=Number(N.useful_life_km)||1e6,Ge=(Gt-ut)/Le,bn=(Number(N.annual_insurance)||0)+(Number(N.annual_taxes)||0)+(Number(N.annual_maintenance)||0),Rr=Number(N.annual_km)||12e4,xn=bn/Rr,wn=(Ge+xn)*W;let pa=1;v.date&&v.start_time&&v.end_date&&v.end_time;const Rn=(Number(K.daily_cost)||0)*pa,Mn=te+oe+be+zt+yr,bb=wn+Rn,Jh=Mn+bb,xb=J-Jh,mT=J>0?xb/J*100:0,vT=W>0?Jh/W:0;k({revenue:J,totalVariable:Mn,totalFixed:bb,totalCost:Jh,profit:xb,margin:mT,costPerKm:vT,details:{fuel:te,tolls:oe,driver:yr+Rn,truck:wn+zt,other:be}})},[v,a,r]);const[E,A]=O.useState(null),[j,P]=O.useState(null),[I,D]=O.useState(null),[B,F]=O.useState(!1);O.useEffect(()=>{if(j){D(null),F(!0);const N=j.origin||j.location||"Santa Helena de Gois",K=j.destination;K?ol(N,K).then(W=>{W&&W.geometry&&D(W)}).catch(W=>console.error("Error fetching details route:",W)).finally(()=>F(!1)):F(!1)}},[j]);const[U,M]=O.useState(!1),[R,L]=O.useState(!1),[C,H]=O.useState(!1),[q,Z]=O.useState(!0),le=O.useRef(null),je=O.useRef(0);O.useEffect(()=>{const N=setTimeout(()=>{const K=v.origin_coords||v.origin,W=v.destination_coords||v.destination,J=v.origin_coords||v.origin&&v.origin.length>3,te=v.destination_coords||v.destination&&v.destination.length>3;J&&te?ol(K,W).then(oe=>{oe&&(oe._origin=v.origin,oe._destination=v.destination,y(oe),b(oe))}).catch(oe=>{console.error("Error fetching route preview:",oe)}):y(null)},1500);return()=>clearTimeout(N)},[v.origin,v.destination,v.origin_coords,v.destination_coords]);const Ae=N=>{if(!N)return;const K={...N,_origin:v.origin,_destination:v.destination};b(K);const W=v.trip_type==="round_trip"?2:1,J=Number(N.distanceKm||0),te=Number(N.durationMinutes||0),oe=(J*W).toFixed(1),be=te*W;x(yr=>({...yr,planned_km:String(oe),planned_duration:`${Math.floor(be/60)}h ${Math.round(be%60)}m`}));const zt=W===2?`Rota de ${J} km selecionada (x2 Ida e Volta = ${oe} km)`:`Rota de ${J} km selecionada`;e==null||e.show(zt,"info")};O.useEffect(()=>{g&&Ae(g)},[v.trip_type]);const bt=(N,K,W,J)=>{if(!N||!K||!J)return"-";const te=W||N,oe=(Ge,bn)=>{if(!Ge)return null;const Rr=Ge.includes("T")?Ge.split("T")[0]:Ge;let xn;if(Rr.includes("-")){const[Ce,Rn,Mn]=Rr.split("-").map(Number);xn=new Date(Ce,Rn-1,Mn)}else if(Rr.includes("/")){const[Ce,Rn,Mn]=Rr.split("/").map(Number);xn=new Date(Mn,Rn-1,Ce)}else return null;const[wn,pa]=bn.split(":").map(Number);return xn.setHours(wn,pa,0,0),xn},be=oe(N,K),zt=oe(te,J);if(!be||!zt)return"-";const yr=zt-be;if(yr<0)return"-";const Gt=Math.floor(yr/6e4),ut=Math.floor(Gt/60),Le=Gt%60;return ut>0&&Le>0?`${ut}h ${Le}m`:ut>0?`${ut}h`:`${Le}m`},ot=()=>{if(!v.date||!v.start_time)return null;const N=v.date.split("/");if(N.length!==3)return null;const[K,W,J]=N,te=v.start_time.split(":");if(te.length!==2)return null;const[oe,be]=te;if(!K||!W||!J||!oe||!be)return null;const zt=J.length===2?`20${J}`:J,yr=new Date(Number(zt),Number(W)-1,Number(K),Number(oe),Number(be));let Gt=0;if(g!=null&&g.durationMinutes)Gt=g.durationMinutes;else if(m!=null&&m.durationMinutes)Gt=m.durationMinutes;else{const Ce=v.planned_duration||"",Rn=Ce.match(/(\d+)h/),Mn=Ce.match(/(\d+)m/);Rn&&(Gt+=parseInt(Rn[1])*60),Mn&&(Gt+=parseInt(Mn[1]))}if(v.trip_type==="round_trip"&&!g&&!m||Gt<=0)return null;const Le=Gt*1.2,Ge=new Date(yr.getTime()+Le*6e4),bn=String(Ge.getDate()).padStart(2,"0"),Rr=String(Ge.getMonth()+1).padStart(2,"0"),xn=Ge.getFullYear(),wn=String(Ge.getHours()).padStart(2,"0"),pa=String(Ge.getMinutes()).padStart(2,"0");return`${bn}/${Rr}/${xn} ${wn}:${pa}`},ee=()=>{if(!j)return;const N=r.find(oe=>oe.id===j.driver_id),K=a.find(oe=>oe.id===j.truck_id),W=s.find(oe=>oe.id===j.prancha_id),J=(N==null?void 0:N.name)||j.driver_id;K!=null&&K.fleet||K!=null&&K.plate||j.truck_id,W!=null&&W.asset_number||W!=null&&W.identifier||j.prancha_id;const te=window.open("","_blank");te.document.write(`
      <html>
        <head>
          <title>Relatrio de Viagem #${j.id}</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 40px; color: #333; line-height: 1.6; }
            h1 { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; color: #1e293b; }
            .header-info { text-align: center; margin-bottom: 40px; color: #64748b; font-size: 0.9em; }
            .section { margin-bottom: 30px; background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px solid #e2e8f0; }
            .section-title { font-weight: bold; font-size: 1.2em; margin-bottom: 15px; color: #2563eb; border-bottom: 1px solid #e2e8f0; padding-bottom: 10px; }
            .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .row { display: flex; justify-content: space-between; border-bottom: 1px dotted #cbd5e1; padding-bottom: 5px; }
            .label { font-weight: 600; color: #475569; }
            .value { font-weight: 400; color: #1e293b; text-align: right; }
            .total-cost-box { background: #dcfce7; padding: 15px; border-radius: 8px; margin-top: 10px; border: 1px solid #86efac; }
            .total-cost { font-size: 1.4em; font-weight: bold; color: #166534; text-align: right; }
            .total-label { font-size: 1.1em; font-weight: 600; color: #15803d; }
            .signature-section { margin-top: 60px; display: flex; justify-content: space-around; page-break-inside: avoid; }
            .signature-box { text-align: center; width: 40%; }
            .signature-line { border-top: 1px solid #333; margin-bottom: 10px; }
            @media print {
              body { margin: 0; padding: 20px; -webkit-print-color-adjust: exact; }
              .section { break-inside: avoid; border: 1px solid #ccc; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <h1>Relatrio Detalhado de Viagem #${j.id}</h1>
          <div class="header-info">
            Gerado em ${new Date().toLocaleString("pt-BR")}
          </div>
          
          <div class="section">
            <div class="section-title">Informaes Gerais</div>
            <div class="grid">
              <div class="row"><span class="label">Data de Sada:</span> <span class="value">${j.date} ${j.start_time}</span></div>
              <div class="row"><span class="label">Data de Retorno:</span> <span class="value">${j.end_date||"-"} ${j.end_time}</span></div>
              <div class="row"><span class="label">Status:</span> <span class="value">${j.status}</span></div>
              <div class="row"><span class="label">Solicitante:</span> <span class="value">${j.requester}</span></div>
              <div class="row"><span class="label">Unidade:</span> <span class="value">${j.location||"-"}</span></div>
              <div class="row"><span class="label">Destino:</span> <span class="value">${j.destination}</span></div>
              <div class="row"><span class="label">Tipo de Servio:</span> <span class="value">${j.service_type}</span></div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Dados do Motorista</div>
            <div class="grid">
              <div class="row"><span class="label">Nome:</span> <span class="value">${(N==null?void 0:N.name)||j.driver_id}</span></div>
              <div class="row"><span class="label">CPF:</span> <span class="value">${(N==null?void 0:N.cpf)||"-"}</span></div>
              <div class="row"><span class="label">CNH:</span> <span class="value">${(N==null?void 0:N.cnh)||"-"}</span></div>
              <div class="row"><span class="label">Categoria:</span> <span class="value">${(N==null?void 0:N.category)||"-"}</span></div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Dados do Veculo (Caminho)</div>
            <div class="grid">
              <div class="row"><span class="label">Frota:</span> <span class="value">${(K==null?void 0:K.fleet)||"-"}</span></div>
              <div class="row"><span class="label">Placa:</span> <span class="value">${(K==null?void 0:K.plate)||j.truck_id}</span></div>
              <div class="row"><span class="label">Modelo:</span> <span class="value">${(K==null?void 0:K.model)||"-"}</span></div>
              <div class="row"><span class="label">Categoria:</span> <span class="value">${(K==null?void 0:K.category)||"-"}</span></div>
              <div class="row"><span class="label">Marca:</span> <span class="value">${(K==null?void 0:K.brand)||"-"}</span></div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Dados do Reboque (Prancha)</div>
            <div class="grid">
              <div class="row"><span class="label">Ativo:</span> <span class="value">${(W==null?void 0:W.asset_number)||j.prancha_id}</span></div>
              <div class="row"><span class="label">Placa:</span> <span class="value">${(W==null?void 0:W.plate)||"-"}</span></div>
              <div class="row"><span class="label">Tipo:</span> <span class="value">${(W==null?void 0:W.type)||"-"}</span></div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Quilometragem</div>
            <div class="grid">
              <div class="row"><span class="label">KM Inicial:</span> <span class="value">${j.km_start!=null?j.km_start:"N/R"}</span></div>
              <div class="row"><span class="label">KM Final:</span> <span class="value">${j.km_end!=null?j.km_end:"N/R"}</span></div>
              <div class="row"><span class="label">KM Total Percorrido:</span> <span class="value" style="font-weight: bold;">${j.km_rodado||0} km</span></div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Detalhamento de Custos</div>
            <div class="grid">
              <div class="row">
                <span class="label">Combustvel (${j.fuel_liters||0} L):</span> 
                <span class="value">R$ ${((j.fuel_liters||0)*(j.fuel_price||0)).toFixed(2)}</span>
              </div>
              <div class="row"><span class="label">Manuteno:</span> <span class="value">R$ ${(j.maintenance_cost||0).toFixed(2)}</span></div>
              <div class="row"><span class="label">Diria Motorista:</span> <span class="value">R$ ${(j.driver_daily||0).toFixed(2)}</span></div>
              <div class="row"><span class="label">Outros Custos:</span> <span class="value">R$ ${(j.other_costs||0).toFixed(2)}</span></div>
            </div>
            <div class="total-cost-box">
               <div style="display: flex; justify-content: space-between; align-items: center;">
                 <span class="total-label">Custo Total da Viagem:</span>
                 <span class="total-cost">R$ ${(j.total_cost||0).toFixed(2)}</span>
               </div>
            </div>
          </div>

          ${j.description?`
          <div class="section">
            <div class="section-title">Observaes</div>
            <div style="white-space: pre-wrap; padding: 10px; background: #fff; border: 1px dashed #cbd5e1; border-radius: 4px;">${j.description}</div>
          </div>
          `:""}

          <div class="signature-section">
            <div class="signature-box">
              <div class="signature-line"></div>
              <div>${J}</div>
              <div style="font-size: 0.8em; color: #666;">Motorista</div>
            </div>
            <div class="signature-box">
              <div class="signature-line"></div>
              <div>Responsvel / Gestor</div>
              <div style="font-size: 0.8em; color: #666;">Assinatura</div>
            </div>
          </div>

          <script>
            window.onload = function() { window.print(); }
          <\/script>
        </body>
      </html>
    `),te.document.close()};O.useEffect(()=>{E||localStorage.setItem("trips_form_draft",JSON.stringify(v))},[v,E]),O.useEffect(()=>{console.log("Trips component loaded v1.0.1")},[]);const[se,ue]=O.useState({key:"date",direction:"desc"}),[G,Pe]=O.useState(""),Oe=O.useRef(G),[Be,Ke]=O.useState(""),lt=O.useRef(Be),[mt,$]=O.useState(1),[re,z]=O.useState(1),[Q,pe]=O.useState(20),he=()=>Xf().then(N=>n(N)),$e=()=>iR().then(N=>d(N||[])),we=()=>Mc().then(N=>i(N.filter(K=>K.status==="Ativo"))),_t=()=>Qf().then(N=>o(N.filter(K=>K.status==="Ativo"))),de=(N=mt,K=Q)=>{const W={page:N,pageSize:K};Oe.current&&(W.status=Oe.current),lt.current&&(W.location=lt.current),Ju(W).then(J=>{J.data?(c(J.data),z(Math.ceil(J.total/K))):(c(J),z(1))})},ke=O.useRef(de);ke.current=de;const vt=N=>{N>=1&&N<=re&&$(N)};O.useEffect(()=>{de()},[mt,Q]);const ct=[...l].sort((N,K)=>{if(!se.key)return 0;let W=N[se.key],J=K[se.key];return se.key==="id"?se.direction==="asc"?Number(W)-Number(J):Number(J)-Number(W):W<J?se.direction==="asc"?-1:1:W>J?se.direction==="asc"?1:-1:0});O.useEffect(()=>{Oe.current=G,lt.current=Be,de()},[G,Be]),O.useEffect(()=>{he(),$e(),we(),_t(),de();let N=[];(async()=>{if(!Re)return;const J=Re.channel("public:viagens").on("postgres_changes",{event:"*",schema:"public",table:"viagens"},()=>{ke.current()}).subscribe(),te=Re.channel("public:motoristas").on("postgres_changes",{event:"*",schema:"public",table:"motoristas"},()=>{he()}).subscribe(),oe=Re.channel("public:caminhoes").on("postgres_changes",{event:"*",schema:"public",table:"caminhoes"},()=>{we()}).subscribe(),be=Re.channel("public:pranchas").on("postgres_changes",{event:"*",schema:"public",table:"pranchas"},()=>{_t()}).subscribe();N=[J,te,oe,be]})();const W=setInterval(()=>{ke.current()},1e4);return()=>{Re&&N.forEach(J=>Re.removeChannel(J)),clearInterval(W)}},[]);const St=N=>{var K,W,J,te;return{date:N.date?lb(N.date):"",end_date:N.end_date?lb(N.end_date):"",requester:N.requester||"",driver_id:((K=N.driver_id)==null?void 0:K.toString())||"",truck_id:((W=N.truck_id)==null?void 0:W.toString())||"",prancha_id:((te=(J=s.find(oe=>oe.id===N.prancha_id))==null?void 0:J.asset_number)==null?void 0:te.toString())||(N.prancha_id?String(N.prancha_id):""),destination:N.destination||"",origin_coords:N.origin_coords||"",destination_coords:N.destination_coords||"",origin:N.origin||"Cambu - MG",location:N.location||"",service_type:N.service_type||"",cargo_qty:N.cargo_qty||"",trip_type:N.trip_type||"one_way",status:N.status||"Previsto",description:N.description||"",start_time:N.start_time||"",end_time:N.end_time||"",km_start:N.km_start!=null?String(N.km_start):"",km_end:N.km_end!=null?String(N.km_end):"",km_trip:N.km_rodado!=null?String(N.km_rodado):N.km_start!=null&&N.km_end!=null?String(Math.max(0,Number(N.km_end)-Number(N.km_start))):"",km_per_liter:"",noKmStart:N.km_start===null,noKmEnd:N.km_end===null,fuel_liters:N.fuel_liters?String(N.fuel_liters):"",noFuelLiters:!N.fuel_liters,fuel_price:N.fuel_price?String(N.fuel_price):"",noFuelPrice:!N.fuel_price,other_costs:N.other_costs?String(N.other_costs):"",noOtherCosts:!N.other_costs,maintenance_cost:N.maintenance_cost?String(N.maintenance_cost):"",noMaintenanceCost:!N.maintenance_cost,driver_daily:N.driver_daily?String(N.driver_daily):"",noDriverDaily:!N.driver_daily,tolls:N.tolls?String(N.tolls):"",freight_value:N.freight_value?String(N.freight_value):"",freight_type:N.freight_type||"Fechado",planned_km:N.planned_km?String(N.planned_km):"",planned_duration:N.planned_duration||"",planned_fuel_liters:N.planned_fuel_liters?String(N.planned_fuel_liters):"",planned_toll_cost:N.planned_toll_cost?String(N.planned_toll_cost):"",planned_driver_cost:N.planned_driver_cost?String(N.planned_driver_cost):"",planned_total_cost:N.planned_total_cost?String(N.planned_total_cost):"",planned_maintenance:N.planned_maintenance?String(N.planned_maintenance):""}};O.useEffect(()=>{const N=new URLSearchParams(t.search).get("editId");N&&rR(N).then(K=>{A(K),x(St(K))})},[t.search,s]);const Ja=N=>{const K=N.replace(/\D/g,"").slice(0,8),W=K.slice(0,2),J=K.slice(2,4),te=K.slice(4,8);return[W,J,te].filter(Boolean).join("/")},fa=N=>{const K=(N||"").match(/^(\d{2})\/(\d{2})\/(\d{2})$/);if(K){const J=K[1],te=K[2],be=2e3+Number(K[3]);return`${J}/${te}/${be}`}return(N||"").match(/^(\d{2})\/(\d{2})\/(\d{4})$/)?N:null},ha=N=>{const K=fa(N);if(!K)return!1;const W=K.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!W)return!1;const J=Number(W[1]),te=Number(W[2])-1,oe=Number(W[3]),be=new Date(oe,te,J);return be.getFullYear()===oe&&be.getMonth()===te&&be.getDate()===J},sb=N=>/^([01]\d|2[0-3]):[0-5]\d$/.test(N||""),ob=N=>{const K=String(N||"").replace(/\D/g,"").slice(0,4),W=K.slice(0,2),J=K.slice(2,4);return[W,J].filter(Boolean).join(":")},Yh=N=>{const K=fa(N);if(!K)return"";const[W,J,te]=K.split("/").map(Number);return`${te}-${String(J).padStart(2,"0")}-${String(W).padStart(2,"0")}`},lb=N=>{const[K,W,J]=N.split("-").map(Number);return`${String(J).padStart(2,"0")}/${String(W).padStart(2,"0")}/${K}`},oT=async()=>{if(!v.origin||!v.destination){e==null||e.show("Defina Origem e Destino para simular","warning");return}e==null||e.show("Calculando rota e custos...","info");try{const N=g||await ol(v.origin,v.destination),K=v.trip_type==="round_trip"?2:1,W=Number(N.distanceKm)*K,J=N.durationMinutes/60*K;let te=6.1;try{const Ce=await Bie("SP");Ce&&Ce.price&&(te=Number(Ce.price))}catch(Ce){console.warn("Using default diesel price",Ce)}let oe=0;try{const Ce=await Fie(v.origin,v.destination,6);Ce&&Ce.cost&&(oe=Number(Ce.cost)*K)}catch(Ce){console.warn("Toll cost error",Ce)}const be=a.find(Ce=>String(Ce.id)===String(v.truck_id)),zt=be&&Number(be.avg_consumption)||2,yr=W/zt,Gt=yr*te,ut=r.find(Ce=>String(Ce.id)===String(v.driver_id)),Le=ut&&Number(ut.daily_cost)||0,Ge=J*1.2,bn=Math.ceil(Ge/8)||1,Rr=Le*bn,xn=be&&Number(be.maintenance_per_km)?Number(be.maintenance_per_km):15,wn=W*xn,pa=Gt+oe+Rr+wn;x(Ce=>({...Ce,planned_km:W.toFixed(1),planned_duration:`${Math.floor(J)}h ${Math.round(J%1*60)}m`,planned_fuel_liters:yr.toFixed(1),planned_toll_cost:oe.toFixed(2),planned_driver_cost:Rr.toFixed(2),planned_maintenance:wn.toFixed(2),planned_total_cost:pa.toFixed(2),km_trip:Ce.km_trip?Ce.km_trip:W.toFixed(1),tolls:Ce.tolls?Ce.tolls:oe.toFixed(2),fuel_price:Ce.fuel_price?Ce.fuel_price:te.toFixed(2),driver_daily:Ce.driver_daily?Ce.driver_daily:Rr.toFixed(2),maintenance_cost:Ce.maintenance_cost?Ce.maintenance_cost:wn.toFixed(2)})),e==null||e.show(`Simulao concluda! Custo Est.: R$ ${pa.toFixed(2)}`,"success")}catch(N){console.error(N),e==null||e.show("Erro na simulao: "+N.message,"error")}},cb=async()=>{try{if(!v.origin||!v.destination){e==null||e.show("Informe Origem e Destino para obter KM","warning");return}let N=null;g&&g._origin===v.origin&&g._destination===v.destination?N=g:N=await ol(v.origin,v.destination);const K=v.trip_type==="round_trip"?2:1,W=(Number(N.distanceKm||0)*K).toFixed(1),J=Number(String(v.km_start||"").replace(",",".")),te=v.km_start!==""?String((J+Number(W)).toFixed(0)):v.km_end;x(oe=>({...oe,km_trip:String(W),km_end:te})),e==null||e.show(`KM preenchido automaticamente: ${W} km (${v.trip_type==="round_trip"?"Ida e Volta":"Somente Ida"})`,"success")}catch{e==null||e.show("No foi possvel obter o KM da rota","error")}},ub=()=>{const N={};return v.date?ha(v.date)||(N.date="Data invlida"):N.date="Campo obrigatrio",v.requester||(N.requester="Campo obrigatrio"),v.driver_id||(N.driver_id="Campo obrigatrio"),v.truck_id||(N.truck_id="Campo obrigatrio"),v.prancha_id||(N.prancha_id="Campo obrigatrio"),v.destination||(N.destination="Campo obrigatrio"),v.location||(N.location="Campo obrigatrio"),v.service_type||(N.service_type="Campo obrigatrio"),v.status||(N.status="Campo obrigatrio"),v.start_time?sb(v.start_time)||(N.start_time="Hora invlida"):N.start_time="Campo obrigatrio",!v.noKmStart&&v.km_start===""&&(N.km_start="Campo obrigatrio"),!v.noKmEnd&&v.km_end===""&&(N.km_end="Campo obrigatrio"),v.km_trip===""&&(N.km_trip="Campo obrigatrio"),v.end_time&&!sb(v.end_time)&&(N.end_time="Hora invlida"),v.end_date&&!ha(v.end_date)&&(N.end_date="Data invlida"),v.km_trip!==""&&(Number(v.km_trip)>=0||(N.km_trip="No pode ser negativo")),!N.km_start&&!N.km_end&&!v.noKmStart&&!v.noKmEnd&&v.km_end!==""&&v.km_start!==""&&Number(v.km_end)<Number(v.km_start)&&(N.km_end="Menor que KM inicial"),N},ye=R?ub():{},lT=()=>{if(!v.planned_total_cost||Number(v.planned_total_cost)===0){e==null||e.show("No h dados de planejamento para aplicar","warning");return}x(N=>({...N,fuel_liters:N.planned_fuel_liters||N.fuel_liters,tolls:N.planned_toll_cost||N.tolls,maintenance_cost:N.planned_maintenance||N.maintenance_cost,driver_daily:N.planned_driver_cost||N.driver_daily})),e==null||e.show("Planejamento aplicado aos custos reais","success"),C||H(!0)},cT=async N=>{var K;N.preventDefault();try{L(!0);const W=ub();if(Object.keys(W).length>0){e==null||e.show("Verifique os campos obrigatrios","error"),le.current&&le.current.scrollIntoView({behavior:"smooth",block:"start"});return}const J=Date.now();if(J-je.current<3e3){e==null||e.show("Aguarde um momento antes de enviar novamente","warning");return}je.current=J;const te={...v,date:ha(v.date)?Yh(v.date):"",end_date:ha(v.end_date)?Yh(v.end_date):ha(v.date)?Yh(v.date):"",driver_id:v.driver_id?Number(v.driver_id):null,truck_id:v.truck_id?Number(v.truck_id):null,prancha_id:v.prancha_id?((K=s.find(oe=>String(oe.asset_number||"")===String(v.prancha_id)))==null?void 0:K.id)??null:null,km_start:v.noKmStart?null:v.km_start!==""?Number(v.km_start):null,km_end:v.noKmEnd?null:v.km_end!==""?Number(v.km_end):null,fuel_liters:v.fuel_liters!==""?Number(v.fuel_liters):0,fuel_price:v.fuel_price!==""?Number(v.fuel_price):0,other_costs:v.other_costs!==""?Number(v.other_costs):0,maintenance_cost:v.maintenance_cost!==""?Number(v.maintenance_cost):0,driver_daily:v.driver_daily!==""?Number(v.driver_daily):0,tolls:v.tolls!==""?Number(v.tolls):0,freight_value:v.freight_value!==""?Number(v.freight_value):0,origin:v.origin,cargo_qty:v.cargo_qty,planned_km:v.planned_km!==""?Number(v.planned_km):0,planned_duration:v.planned_duration,planned_fuel_liters:v.planned_fuel_liters!==""?Number(v.planned_fuel_liters):0,planned_toll_cost:v.planned_toll_cost!==""?Number(v.planned_toll_cost):0,planned_driver_cost:v.planned_driver_cost!==""?Number(v.planned_driver_cost):0,planned_maintenance:v.planned_maintenance!==""?Number(v.planned_maintenance):0,planned_total_cost:v.planned_total_cost!==""?Number(v.planned_total_cost):0};if(v.km_trip!==""&&v.km_per_liter!==""){const oe=Number(v.km_trip),be=Number(String(v.km_per_liter).replace(",","."));be>0?te.fuel_liters=Number((oe/be).toFixed(2)):e==null||e.show("KM por litro invlido","warning")}if(te.requester=v.requester,te.status=v.status,E)await Kx(E.id,te);else{if(te.truck_id&&te.km_start){const{data:oe}=await Ju({truckId:te.truck_id,status:"Em Andamento"});if(oe&&oe.length>0){const be=oe[0],zt=be.km_start!=null?Number(be.km_start):0;if(be.km_start!=null&&te.km_start<zt){e==null||e.show(`KM inicial (${te.km_start}) no pode ser menor que o KM inicial da viagem pendente (${zt})`,"error");return}await Kx(be.id,{...be,km_end:te.km_start,status:"Finalizado",end_date:te.date}),e==null||e.show("Viagem anterior finalizada e KM atualizado","info")}}await nR(te)}e==null||e.show(E?"Viagem atualizada":"Viagem cadastrada","success"),localStorage.removeItem("trips_form_draft"),x({date:"",end_date:"",requester:"",driver_id:"",truck_id:"",prancha_id:"",destination:"",origin:"",location:"",service_type:"",cargo_qty:"",status:"",description:"",start_time:"",end_time:"",km_start:"",km_end:"",km_trip:"",km_per_liter:"",noKmStart:!1,noKmEnd:!1,fuel_liters:"",noFuelLiters:!1,fuel_price:"",noFuelPrice:!1,other_costs:"",noOtherCosts:!1,maintenance_cost:"",noMaintenanceCost:!1,driver_daily:"",noDriverDaily:!1,tolls:"",freight_value:""}),A(null),M(!1),L(!1),de(),window.scrollTo({top:0,behavior:"smooth"})}catch(W){console.error("Erro ao salvar viagem:",W);let J="Erro desconhecido";typeof W=="string"?J=W:W!=null&&W.message?J=W.message:W!=null&&W.error_description?J=W.error_description:W!=null&&W.details?J=W.details:J=JSON.stringify(W),e==null||e.show(`Erro ao salvar: ${J}`,"error")}},uT=N=>{if(N.key!=="Enter")return;N.preventDefault();const K=N.currentTarget,W=Array.from(K.querySelectorAll("input, select, textarea, button")).filter(oe=>!oe.disabled&&oe.tabIndex!==-1&&oe.type!=="hidden"),J=W.indexOf(document.activeElement),te=W[J+1];te&&te.focus()},db=N=>{A(N),M(!0),L(!0),x(St(N)),e==null||e.show("Edio carregada","info"),setTimeout(()=>{le.current?le.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},fb=N=>{p({isOpen:!0,target:N,initial:v[N]})},dT=N=>{h.target&&x(typeof N=="object"&&N!==null?K=>({...K,[h.target]:N.address,[`${h.target}_coords`]:`${N.lat},${N.lon}`}):K=>({...K,[h.target]:N}))},fT=async N=>{await aR(N),e==null||e.show("Viagem excluda","success"),de()},hb=async N=>{window.confirm("Confirma excluir esta viagem?")&&await fT(N)},hT=async()=>{const N=await exportCsv({status:G,location:Be}),K=URL.createObjectURL(N),W=document.createElement("a");W.href=K,W.download="viagens.csv",W.click(),URL.revokeObjectURL(K),e==null||e.show("CSV exportado","success")},pT=async()=>{const N=await exportPdf({status:G,location:Be}),K=URL.createObjectURL(N),W=document.createElement("a");W.href=K,W.download="viagens.pdf",W.click(),URL.revokeObjectURL(K),e==null||e.show("PDF exportado","success")};return O.useEffect(()=>{E||localStorage.setItem("trips_form_draft",JSON.stringify(v))},[v,E]),u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[!U&&!E&&u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[u.jsxs("select",{className:"select w-full md:w-48",value:Be,onChange:N=>Ke(N.target.value),children:[u.jsx("option",{value:"",children:"Todas as Unidades"}),u.jsx("option",{value:"Cambu",children:"Cambu"}),u.jsx("option",{value:"Vale",children:"Vale"}),u.jsx("option",{value:"Panorama",children:"Panorama"}),u.jsx("option",{value:"Floresta",children:"Floresta"})]}),u.jsxs("select",{className:"select w-full md:w-48",value:G,onChange:N=>Pe(N.target.value),children:[u.jsx("option",{value:"",children:"Todos os Status"}),u.jsx("option",{value:"Em Andamento",children:"Em Andamento"}),u.jsx("option",{value:"Finalizado",children:"Finalizado"}),u.jsx("option",{value:"Previsto",children:"Previsto"})]})]}),u.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[u.jsx("button",{className:"btn btn-secondary",onClick:hT,title:"Exportar CSV",children:u.jsx("span",{className:"material-icons",children:"download"})}),u.jsx("button",{className:"btn btn-secondary",onClick:pT,title:"Exportar PDF",children:u.jsx("span",{className:"material-icons",children:"picture_as_pdf"})}),u.jsxs("button",{className:"btn btn-primary flex-1 flex items-center justify-center gap-2",onClick:()=>{localStorage.removeItem("trips_form_draft"),x(_),y(null),b(null),M(!0)},children:[u.jsx("span",{className:"material-icons text-sm",children:"add"})," Novo"]})]})]}),(U||E)&&u.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade overflow-y-auto",children:u.jsx("div",{ref:le,className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-7xl relative flex flex-col max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-100 dark:border-slate-700 pb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-bold text-2xl text-slate-800 dark:text-white flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"local_shipping"}),E?`Editar Viagem #${E.id}`:"Nova Viagem"]}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Preencha os dados abaixo para registrar ou editar uma viagem"})]}),u.jsx("button",{onClick:()=>{M(!1),A(null)},className:"btn btn-ghost btn-circle text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",children:u.jsx("span",{className:"material-icons",children:"close"})})]}),u.jsxs("div",{className:"mb-4 text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-blue-500 text-sm",children:"info"}),"Passos: 1) Dados bsicos  2) Simular custos  3) Conferir  4) Salvar"]}),u.jsxs("form",{onSubmit:cT,onKeyDown:uT,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("input",{className:`input ${ye.date?"ring-red-500 border-red-500":""}`,placeholder:"Data (DD/MM/YY) *",value:v.date,onChange:N=>x({...v,date:Ja(N.target.value)})}),ye.date&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.date})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("input",{className:`input ${ye.requester?"ring-red-500 border-red-500":""}`,placeholder:"Solicitante *",value:v.requester,onChange:N=>x({...v,requester:N.target.value})}),ye.requester&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.requester})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.driver_id?"ring-red-500 border-red-500":""}`,value:v.driver_id,onChange:N=>x({...v,driver_id:N.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Motorista *"}),r.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]}),ye.driver_id&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.driver_id})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.truck_id?"ring-red-500 border-red-500":""}`,value:v.truck_id,onChange:N=>{const K=N.target.value,W=a.find(J=>J.id===Number(K));x({...v,truck_id:K,km_start:W&&W.km_current!=null?String(W.km_current).slice(0,10):v.km_start})},children:[u.jsx("option",{value:"",disabled:!0,children:"Caminho (Frota) *"}),a.map(N=>u.jsx("option",{value:N.id,children:N.fleet||N.plate||N.model||N.id},N.id))]}),ye.truck_id&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.truck_id})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.prancha_id?"ring-red-500 border-red-500":""}`,value:v.prancha_id,onChange:N=>x({...v,prancha_id:N.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Prancha *"}),s.map(N=>u.jsxs("option",{value:N.asset_number||"",children:[N.asset_number||"Reboque",N.is_set&&N.asset_number2?` / ${N.asset_number2}`:""]},N.id))]}),ye.prancha_id&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.prancha_id})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.location?"ring-red-500 border-red-500":""}`,value:v.location,onChange:N=>x({...v,location:N.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Unidade *"}),u.jsx("option",{value:"Cambu",children:"Cambu"}),u.jsx("option",{value:"Vale",children:"Vale"}),u.jsx("option",{value:"Panorama",children:"Panorama"}),u.jsx("option",{value:"Floresta",children:"Floresta"})]}),ye.location&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.location})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.service_type?"ring-red-500 border-red-500":""}`,value:v.service_type,onChange:N=>x({...v,service_type:N.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Tipo *"}),w.map(N=>u.jsx("option",{value:N,children:N},N))]}),ye.service_type&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.service_type})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("select",{className:`select ${ye.status?"ring-red-500 border-red-500":""}`,value:v.status,onChange:N=>x({...v,status:N.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Status *"}),u.jsx("option",{value:"Previsto",children:"Previsto"}),u.jsx("option",{value:"Em Andamento",children:"Em Andamento"}),u.jsx("option",{value:"Finalizado",children:"Finalizado"})]}),ye.status&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.status})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("input",{className:"input",placeholder:"Descrio",value:v.description,onChange:N=>x({...v,description:N.target.value})})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"label-text text-xs mb-1 font-semibold text-slate-500 uppercase",children:"Trajeto"}),u.jsxs("div",{className:"flex gap-4 p-2 bg-base-100 rounded border border-base-300",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"trip_type",className:"radio radio-primary radio-sm",checked:v.trip_type==="one_way",onChange:()=>x({...v,trip_type:"one_way"})}),u.jsx("span",{className:"text-sm",children:"Somente Ida"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"trip_type",className:"radio radio-primary radio-sm",checked:v.trip_type==="round_trip",onChange:()=>x({...v,trip_type:"round_trip"})}),u.jsx("span",{className:"text-sm",children:"Ida e Volta (x2)"})]})]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:`input flex-1 ${ye.origin?"ring-red-500 border-red-500":""}`,placeholder:"Origem *",value:v.origin,onChange:N=>x({...v,origin:N.target.value,origin_coords:""})}),u.jsx("button",{type:"button",className:"btn btn-square btn-outline btn-secondary",onClick:()=>fb("origin"),title:"Selecionar no Mapa",children:u.jsx("span",{className:"material-icons",children:"map"})})]}),ye.origin&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.origin})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{list:"saved-destinations",className:`input flex-1 ${ye.destination?"ring-red-500 border-red-500":""}`,placeholder:"Destino *",value:v.destination,onChange:N=>x({...v,destination:N.target.value,destination_coords:""})}),u.jsx("datalist",{id:"saved-destinations",children:f.map(N=>u.jsx("option",{value:N.name},N.id))}),u.jsx("button",{type:"button",className:"btn btn-square btn-outline btn-secondary",onClick:()=>fb("destination"),title:"Selecionar no Mapa",children:u.jsx("span",{className:"material-icons",children:"map"})})]}),ye.destination&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.destination})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("input",{className:`input ${ye.start_time?"ring-red-500 border-red-500":""}`,placeholder:"Hora sada (HH:MM) *",value:v.start_time,onChange:N=>x({...v,start_time:ob(N.target.value),end_date:!v.end_date&&ha(v.date)?v.date:v.end_date})}),ye.start_time&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.start_time})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("input",{className:`input ${ye.end_date?"ring-red-500 border-red-500":!v.end_date||!ha(v.end_date)?"ring-yellow-500 border-yellow-500":""}`,placeholder:"Data retorno (DD/MM/YY)",value:v.end_date,onChange:N=>x({...v,end_date:Ja(N.target.value)})}),ye.end_date&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.end_date})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("input",{className:`input ${ye.end_time?"ring-red-500 border-red-500":""}`,placeholder:"Hora retorno (HH:MM)",value:v.end_time,onChange:N=>x({...v,end_time:ob(N.target.value),end_date:!v.end_date&&ha(v.date)?v.date:v.end_date})}),ye.end_time&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.end_time})]}),m&&u.jsxs("div",{className:"col-span-1 md:col-span-4 mt-2 animate-fade",children:[u.jsxs("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"alt_route"}),"Rota Sugerida: ",(g==null?void 0:g.distanceKm)||m.distanceKm," km  ",Math.floor(((g==null?void 0:g.durationMinutes)||m.durationMinutes)/60),"h ",Math.round(((g==null?void 0:g.durationMinutes)||m.durationMinutes)%60),"m"]}),u.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden border border-slate-300 dark:border-slate-600 shadow-sm relative z-0",children:u.jsx(Oj,{routeData:m,inline:!0,onRouteSelect:Ae})})]}),u.jsxs("div",{className:"md:col-span-4 grid grid-cols-1 md:grid-cols-3 gap-4 border p-4 rounded-lg bg-slate-50 dark:bg-slate-900/50",children:[u.jsxs("div",{className:"col-span-full flex items-center justify-between border-b border-slate-200 pb-2 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"analytics"}),u.jsx("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Planejamento da Viagem"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:oT,className:"btn btn-sm btn-primary",children:[u.jsx("span",{className:"material-icons text-sm",children:"calculate"})," Simular Custos"]}),Number(v.planned_total_cost)>0&&u.jsxs("button",{type:"button",onClick:lT,className:"btn btn-sm btn-secondary",title:"Copiar valores planejados para os custos reais",children:[u.jsx("span",{className:"material-icons text-sm",children:"content_copy"})," Aplicar"]})]})]}),(Number(v.planned_total_cost)>0||g||m)&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"col-span-full grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[u.jsx("div",{className:"stats shadow bg-base-100 border border-slate-100 dark:border-slate-700",children:u.jsxs("div",{className:"stat p-3",children:[u.jsx("div",{className:"stat-title text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Distncia Est."}),u.jsxs("div",{className:"stat-value text-xl text-slate-700 dark:text-slate-200",children:[v.planned_km||(Number((g==null?void 0:g.distanceKm)||(m==null?void 0:m.distanceKm)||0)*(v.trip_type==="round_trip"?2:1)).toFixed(1)," km"]}),u.jsx("div",{className:"stat-desc text-xs mt-1 font-medium",children:v.planned_duration||(()=>{const N=((g==null?void 0:g.durationMinutes)||(m==null?void 0:m.durationMinutes)||0)*(v.trip_type==="round_trip"?2:1);return`${Math.floor(N/60)}h ${Math.round(N%60)}m`})()})]})}),u.jsx("div",{className:"stats shadow bg-base-100 border border-slate-100 dark:border-slate-700",children:u.jsxs("div",{className:"stat p-3",children:[u.jsx("div",{className:"stat-title text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Chegada Prevista"}),u.jsx("div",{className:"stat-value text-xl text-secondary",children:ot()?ot().split(" ")[1]:"--:--"}),u.jsx("div",{className:"stat-desc text-xs mt-1 font-medium",children:ot()?ot().split(" ")[0]:"Defina data/hora sada"})]})}),Number(v.planned_total_cost)>0&&u.jsx("div",{className:"stats shadow bg-base-100 border border-slate-100 dark:border-slate-700",children:u.jsxs("div",{className:"stat p-3",children:[u.jsx("div",{className:"stat-title text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Custo Total Est."}),u.jsxs("div",{className:"stat-value text-xl text-primary",children:["R$ ",v.planned_total_cost]}),u.jsx("div",{className:"stat-desc text-xs mt-1 font-medium",children:"Diesel + Pedgio + Outros"})]})})]}),Number(v.planned_total_cost)>0&&u.jsxs("div",{className:"col-span-full grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-2 bg-white dark:bg-slate-800 p-4 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex flex-col border-r border-slate-100 dark:border-slate-700 last:border-0 px-2",children:[u.jsx("span",{className:"text-xs opacity-70 mb-1",children:"Diesel Est."}),u.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-lg",children:[v.planned_fuel_liters," L"]}),u.jsxs("span",{className:"text-xs text-slate-500",children:["R$ ",(Number(v.planned_fuel_liters)*(Number(v.fuel_price)||6.15)).toFixed(2)]})]}),u.jsxs("div",{className:"flex flex-col border-r border-slate-100 dark:border-slate-700 last:border-0 px-2",children:[u.jsx("span",{className:"text-xs opacity-70 mb-1",children:"Pedgio Est."}),u.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-lg",children:["R$ ",v.planned_toll_cost]})]}),u.jsxs("div",{className:"flex flex-col border-r border-slate-100 dark:border-slate-700 last:border-0 px-2",children:[u.jsx("span",{className:"text-xs opacity-70 mb-1",children:"Manuteno Est."}),u.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-lg",children:["R$ ",v.planned_maintenance]})]}),u.jsxs("div",{className:"flex flex-col px-2",children:[u.jsx("span",{className:"text-xs opacity-70 mb-1",children:"Motorista Est."}),u.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200 text-lg",children:["R$ ",v.planned_driver_cost]})]})]})]})]}),u.jsxs("div",{className:"md:col-span-4 grid grid-cols-1 md:grid-cols-2 gap-6 border p-4 rounded-lg bg-slate-50 dark:bg-slate-900/50",children:[u.jsxs("div",{className:"col-span-full flex items-center justify-between mb-2 border-b border-slate-200 pb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"speed"}),u.jsx("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Quilometragem e Consumo"})]}),u.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>Z(!q),children:q?"Ocultar":"Mostrar"})]}),q&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:"Odmetro (Caminho)"})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${ye.km_start?"ring-red-500 border-red-500":""}`,placeholder:"KM Inicial *",inputMode:"decimal",maxLength:10,value:v.km_start,onChange:N=>{const K=N.target.value.replace(/[^0-9.,]/g,"").slice(0,10),W=Number((v.km_end||"").replace(",",".")),J=Number(K.replace(",",".")||""),te=v.km_trip===""&&v.km_end!==""?String(Math.max(0,W-J)):v.km_trip;x({...v,km_start:K,km_trip:te})},disabled:v.noKmStart}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noKmStart,onChange:()=>x({...v,noKmStart:!v.noKmStart,km_start:v.noKmStart?v.km_start:""})})]})]}),ye.km_start&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.km_start})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${ye.km_end?"ring-red-500 border-red-500":""}`,placeholder:"KM Final *",inputMode:"decimal",maxLength:10,value:v.km_end,onChange:N=>{const K=N.target.value.replace(/[^0-9.,]/g,"").slice(0,10),W=Number((v.km_start||"").replace(",",".")),J=Number(K.replace(",",".")||""),te=(K===""||v.km_trip==="")&&v.km_start!==""&&K!==""?String(Math.max(0,J-W)):v.km_trip;x({...v,km_end:K,km_trip:te})},disabled:v.noKmEnd||!(v.status==="Em Andamento"||v.status==="Finalizado")}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noKmEnd,onChange:()=>x({...v,noKmEnd:!v.noKmEnd,km_end:v.noKmEnd?v.km_end:""})})]})]}),u.jsxs("button",{type:"button",className:"btn btn-xs btn-link no-underline text-blue-600 pl-0 justify-start mt-1",onClick:cb,title:"Calcular KM Final baseado na rota",children:[u.jsx("span",{className:"material-icons text-xs mr-1",children:"near_me"})," Preencher KM Final pela Rota"]}),ye.km_end&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.km_end})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{className:"text-xs font-bold uppercase text-slate-500 tracking-wider",children:"Distncia e Consumo"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"flex gap-2",children:u.jsx("input",{className:`input flex-1 ${ye.km_trip?"ring-red-500 border-red-500":""}`,placeholder:"KM Rodado (Viagem)",inputMode:"decimal",maxLength:10,value:v.km_trip,onChange:N=>{const K=N.target.value.replace(/[^0-9.,]/g,"").slice(0,10),W=Number((v.km_start||"").replace(",",".")),J=Number(K.replace(",",".")||""),te=v.km_start!==""?String(W+J):v.km_end,oe=Number(String(v.km_per_liter||"").replace(",",".")),be=oe>0&&J>=0?String((J/oe).toFixed(2)):v.fuel_liters;x({...v,km_trip:K,km_end:te,fuel_liters:be})}})}),u.jsxs("button",{type:"button",className:"btn btn-xs btn-link no-underline text-blue-600 pl-0 justify-start mt-1",onClick:cb,children:[u.jsx("span",{className:"material-icons text-xs mr-1",children:"near_me"})," Preencher pela Rota Sugerida"]}),ye.km_trip&&u.jsx("span",{className:"text-red-500 text-xs mt-1",children:ye.km_trip})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("input",{className:"input",placeholder:"Consumo Mdio (KM/L)",inputMode:"decimal",value:v.km_per_liter,onChange:N=>{const K=N.target.value.replace(/[^0-9.,]/g,""),W=K.replace(",","."),J=Number(v.km_trip||0),te=Number(W||0),oe=te>0&&J>=0?String((J/te).toFixed(2)):v.fuel_liters;x({...v,km_per_liter:K,fuel_liters:oe})},onBlur:()=>{Number(String(v.km_per_liter||"").replace(",","."))>0||e==null||e.show("KM por litro invlido","warning")}})})]})]})]}),u.jsxs("div",{className:"md:col-span-4 border p-4 rounded-lg bg-slate-50 dark:bg-slate-900/50",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-2 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-primary",children:"paid"}),u.jsx("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Execuo / Custos Reais"})]}),u.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>H(!C),children:C?"Ocultar":"Mostrar"})]}),C&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${v.noFuelLiters?"opacity-50":""}`,placeholder:"Combustvel (litros)",value:v.fuel_liters,onChange:N=>x({...v,fuel_liters:N.target.value}),disabled:v.noFuelLiters}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noFuelLiters,onChange:N=>x({...v,noFuelLiters:N.target.checked,fuel_liters:N.target.checked?"":v.fuel_liters})})]})]})}),u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${v.noFuelPrice?"opacity-50":""}`,placeholder:"Valor combustvel (R$/litro)",value:v.fuel_price,onChange:N=>x({...v,fuel_price:N.target.value}),disabled:v.noFuelPrice}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noFuelPrice,onChange:N=>x({...v,noFuelPrice:N.target.checked,fuel_price:N.target.checked?"":v.fuel_price})})]})]}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:async()=>{var N,K;try{const W="https://precos.petrobras.com.br/sele%C3%A7%C3%A3o-de-estados-diesel",J=ut=>{const Le=String(ut||""),Ge=Le.match(/Pre\s?o\s?M[e]dio\s?do\s?Brasil[^\n]*?R\$\s*([0-9]{1,2}[\.,][0-9]{2})/i);if(Ge)return Number(Ge[1].replace(/\./g,"").replace(",","."));const bn=Le.match(/Diesel\s*S-?10[^\n]*?R\$\s*([0-9]{1,2}[\.,][0-9]{2})/i);return bn?Number(bn[1].replace(/\./g,"").replace(",",".")):0};let te=0;try{const ut=`https://r.jina.ai/http://${W.replace(/^https?:\/\//,"")}`,Le=await fetch(ut);if(Le.ok){const Ge=await Le.text();te=J(Ge)||0}}catch{}if(!te)try{const ut=`https://api.allorigins.win/get?url=${encodeURIComponent(W)}`,Le=await fetch(ut);if(Le.ok){const Ge=await Le.json();te=J(Ge.contents)||0}}catch{}if(!te)try{const ut=`https://api.allorigins.win/raw?url=${encodeURIComponent(W)}`,Le=await fetch(ut);if(Le.ok){const Ge=await Le.text();te=J(Ge)||0}}catch{}if(te>0){x({...v,fuel_price:String(te.toFixed(2))}),e==null||e.show("Preo obtido do site da Petrobras","success");return}const oe=(K=(N=import.meta)==null?void 0:N.env)==null?void 0:K.VITE_FUEL_API_URL;if(oe){const Le=await(await fetch(oe)).json(),Ge=Number((Le==null?void 0:Le.diesel)??(Le==null?void 0:Le.gasolina)??(Le==null?void 0:Le.fuel_price)??0);if(Ge>0){x({...v,fuel_price:String(Ge.toFixed(2))}),e==null||e.show("Preo obtido pela API","success");return}}const zt=(await oO({page:1,pageSize:200})).data.find(ut=>Number(ut.valorLitro||0)>0);if(zt){x({...v,fuel_price:String(Number(zt.valorLitro).toFixed(2))}),e==null||e.show("Preo preenchido com ltimo custo","info");return}const Gt=(await Ju({page:1,pageSize:1e3})).data.find(ut=>Number(ut.fuel_price||0)>0);if(Gt){x({...v,fuel_price:String(Number(Gt.fuel_price).toFixed(2))}),e==null||e.show("Preo preenchido com ltima viagem","info");return}x({...v,fuel_price:String(6 .toFixed(2))}),e==null||e.show("Preo padro aplicado (R$ 6,00)","info")}catch{e==null||e.show("No foi possvel obter preo","error")}},children:"Buscar preo"})]})}),u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${v.noOtherCosts?"opacity-50":""}`,placeholder:"Outros custos (R$)",value:v.other_costs,onChange:N=>x({...v,other_costs:N.target.value}),disabled:v.noOtherCosts}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noOtherCosts,onChange:N=>x({...v,noOtherCosts:N.target.checked,other_costs:N.target.checked?"":v.other_costs})})]})]})}),u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${v.noMaintenanceCost?"opacity-50":""}`,placeholder:"Manuteno (R$)",value:v.maintenance_cost,onChange:N=>x({...v,maintenance_cost:N.target.value}),disabled:v.noMaintenanceCost}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noMaintenanceCost,onChange:N=>x({...v,noMaintenanceCost:N.target.checked,maintenance_cost:N.target.checked?"":v.maintenance_cost})})]})]})}),u.jsx("div",{className:"flex flex-col",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:`input flex-1 disabled:bg-slate-200 dark:disabled:bg-slate-700 disabled:text-slate-500 ${v.noDriverDaily?"opacity-50":""}`,placeholder:"Diria do motorista (R$)",value:v.driver_daily,onChange:N=>x({...v,driver_daily:N.target.value}),disabled:v.noDriverDaily}),u.jsxs("label",{className:"cursor-pointer label p-0 flex flex-col items-center gap-1",title:"Marcar como No Registrado",children:[u.jsx("span",{className:"label-text text-[10px] text-slate-400",children:"N/R"}),u.jsx("input",{type:"checkbox",className:"toggle toggle-error toggle-xs",checked:v.noDriverDaily,onChange:N=>x({...v,noDriverDaily:N.target.checked,driver_daily:N.target.checked?"":v.driver_daily})})]})]})})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-4 md:col-span-4 mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{type:"button",className:"btn btn-ghost text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>{A(null),M(!1),L(!1)},children:"Cancelar"}),u.jsxs("button",{type:"submit",className:"btn btn-primary w-full md:w-auto px-8 shadow-lg hover:shadow-blue-500/30 transition-all transform active:scale-95",children:[u.jsx("span",{className:"material-icons",children:"save"})," ",E?"Salvar Alteraes":"Salvar Viagem"]})]})]})]})})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[u.jsxs("div",{className:"md:hidden divide-y divide-slate-100 dark:divide-slate-700",children:[ct.length===0&&u.jsx("div",{className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhuma viagem encontrada."}),ct.slice(0,Q).map(N=>{var K,W,J;return u.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:["#",N.id,"  ",N.date]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[N.destination||"Sem destino",u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:bt(N.date,N.start_time,N.end_date,N.end_time)})]})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="Finalizado"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":N.status==="Em Andamento"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:N.status})]}),u.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-300 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-base text-slate-400",children:"person"}),((K=r.find(te=>te.id===N.driver_id))==null?void 0:K.name)||N.driver_id]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"material-icons text-base text-slate-400",children:"local_shipping"}),((W=a.find(te=>te.id===N.truck_id))==null?void 0:W.fleet)||((J=a.find(te=>te.id===N.truck_id))==null?void 0:J.plate)||N.truck_id||"-"]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:["R$ ",(N.total_cost??0).toFixed(2)]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{P(N),F(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Ver Detalhes",children:u.jsx("span",{className:"material-icons text-lg",children:"visibility"})}),u.jsx("button",{onClick:()=>db(N),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",title:"Editar",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>hb(N.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})]})]},N.id)})]}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-400 font-bold text-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"ID"}),u.jsx("th",{className:"p-4",children:"Data"}),u.jsx("th",{className:"p-4",children:"Motorista"}),u.jsx("th",{className:"p-4",children:"Caminho"}),u.jsx("th",{className:"p-4",children:"Prancha"}),u.jsx("th",{className:"p-4",children:"Unidade"}),u.jsx("th",{className:"p-4",children:"Destino"}),u.jsx("th",{className:"p-4",children:"Durao"}),u.jsx("th",{className:"p-4",children:"Status"}),u.jsx("th",{className:"p-4",children:"Custo"}),u.jsx("th",{className:"p-4 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[ct.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"9",className:"text-center p-8 text-slate-500 dark:text-slate-400",children:"Nenhuma viagem encontrada."})}),ct.slice(0,Q).map(N=>{var K,W,J,te,oe;return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsxs("td",{className:"p-4 font-medium text-slate-800 dark:text-slate-200",children:["#",N.id]}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.date}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:((K=r.find(be=>be.id===N.driver_id))==null?void 0:K.name)||N.driver_id}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:((W=a.find(be=>be.id===N.truck_id))==null?void 0:W.fleet)||((J=a.find(be=>be.id===N.truck_id))==null?void 0:J.plate)||N.truck_id||""}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:((te=s.find(be=>be.id===N.prancha_id))==null?void 0:te.asset_number)||((oe=s.find(be=>be.id===N.prancha_id))==null?void 0:oe.identifier)||N.prancha_id||""}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.location||"-"}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:N.destination||"-"}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400 font-medium",children:bt(N.date,N.start_time,N.end_date,N.end_time)}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="Finalizado"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":N.status==="Em Andamento"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:N.status})}),u.jsxs("td",{className:"p-4 font-medium text-slate-700 dark:text-slate-300",children:["R$ ",(N.total_cost??0).toFixed(2)]}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>P(N),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Ver Detalhes",children:u.jsx("span",{className:"material-icons text-lg",children:"visibility"})}),u.jsx("button",{onClick:()=>db(N),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",title:"Editar",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>hb(N.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})})]},N.id)})]})]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4 p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Pgina ",mt," de ",re||1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:mt<=1,onClick:()=>vt(mt-1),children:"Anterior"}),u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:mt>=re,onClick:()=>vt(mt+1),children:"Prxima"}),u.jsxs("select",{className:"select select-sm !py-1 dark:bg-slate-700 dark:border-slate-600",value:Q,onChange:N=>{pe(Number(N.target.value)),$(1)},children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:50,children:"50"})]})]})]}),j&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 overflow-y-auto",children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-fade",children:B?u.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center gap-4 p-8",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-white",children:"Carregando detalhes da viagem..."}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Obtendo rota e informaes atualizadas."})]})]}):u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["Detalhes da Viagem #",j.id]}),u.jsx("button",{onClick:()=>P(null),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",children:u.jsx("span",{className:"material-icons",children:"close"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Data de Sada"}),u.jsxs("div",{className:"text-lg",children:[j.date," ",j.start_time]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Data de Retorno"}),u.jsxs("div",{className:"text-lg",children:[j.end_date||"-"," ",j.end_time]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Durao"}),u.jsx("div",{className:"text-lg font-medium text-blue-600 dark:text-blue-400",children:bt(j.date,j.start_time,j.end_date,j.end_time)})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Status"}),u.jsx("div",{className:"text-lg font-medium",children:j.status})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Solicitante"}),u.jsx("div",{className:"text-lg",children:j.requester})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Motorista"}),u.jsx("div",{className:"text-lg",children:((pb=r.find(N=>N.id===j.driver_id))==null?void 0:pb.name)||j.driver_id})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Caminho"}),u.jsx("div",{className:"text-lg",children:((mb=a.find(N=>N.id===j.truck_id))==null?void 0:mb.fleet)||((vb=a.find(N=>N.id===j.truck_id))==null?void 0:vb.plate)||j.truck_id})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Prancha"}),u.jsx("div",{className:"text-lg",children:((gb=s.find(N=>N.id===j.prancha_id))==null?void 0:gb.asset_number)||((yb=s.find(N=>N.id===j.prancha_id))==null?void 0:yb.identifier)||j.prancha_id})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Unidade"}),u.jsx("div",{className:"text-lg",children:j.location||"-"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Destino"}),u.jsx("div",{className:"text-lg",children:j.destination})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tipo de Servio"}),u.jsx("div",{className:"text-lg",children:j.service_type})]}),I&&u.jsxs("div",{className:"col-span-full border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-4 text-secondary flex items-center gap-2",children:[u.jsx("span",{className:"material-icons",children:"map"})," Rota da Viagem"]}),u.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden border border-slate-300 dark:border-slate-600 shadow-sm relative z-0",children:u.jsx(Oj,{routeData:I,inline:!0,isLoading:B})})]}),B&&!I&&u.jsxs("div",{className:"col-span-full border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsxs("h3",{className:"font-semibold text-lg mb-4 text-secondary flex items-center gap-2",children:[u.jsx("span",{className:"material-icons",children:"map"})," Rota da Viagem"]}),u.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden border border-slate-300 dark:border-slate-600 shadow-sm relative z-0 bg-slate-100 dark:bg-slate-900 flex items-center justify-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-3 animate-pulse",children:[u.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Carregando mapa..."})]})})]}),u.jsxs("div",{className:"col-span-full border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-4 text-secondary",children:"Quilometragem"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"KM Inicial"}),u.jsx("div",{className:"text-lg",children:j.km_start!=null?j.km_start:"N/R"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"KM Final"}),u.jsx("div",{className:"text-lg",children:j.km_end!=null?j.km_end:"N/R"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"KM Total"}),u.jsxs("div",{className:"text-lg font-bold",children:[j.km_rodado||0," km"]})]})]})]}),u.jsxs("div",{className:"col-span-full border-t border-slate-200 dark:border-slate-700 pt-4",children:[Number(j.planned_total_cost)>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"font-semibold text-lg mb-4 text-secondary",children:"Conciliao: Planejado vs Real"}),u.jsx("div",{className:"overflow-x-auto bg-slate-50 dark:bg-slate-900 rounded-lg p-2",children:u.jsxs("table",{className:"table w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-slate-500",children:[u.jsx("th",{children:"Item"}),u.jsx("th",{children:"Planejado"}),u.jsx("th",{children:"Real"}),u.jsx("th",{children:"Diferena"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"font-medium",children:"Distncia"}),u.jsxs("td",{children:[j.planned_km," km"]}),u.jsxs("td",{children:[j.km_rodado||0," km"]}),u.jsxs("td",{className:Number(j.km_rodado||0)>Number(j.planned_km||0)?"text-red-500 font-bold":"text-green-600 font-bold",children:[(Number(j.km_rodado||0)-Number(j.planned_km||0)).toFixed(1)," km"]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"font-medium",children:"Diesel (L)"}),u.jsxs("td",{children:[j.planned_fuel_liters," L"]}),u.jsxs("td",{children:[j.fuel_liters||0," L"]}),u.jsxs("td",{className:Number(j.fuel_liters||0)>Number(j.planned_fuel_liters||0)?"text-red-500 font-bold":"text-green-600 font-bold",children:[(Number(j.fuel_liters||0)-Number(j.planned_fuel_liters||0)).toFixed(1)," L"]})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"font-medium",children:"Custo Total"}),u.jsxs("td",{children:["R$ ",Number(j.planned_total_cost).toFixed(2)]}),u.jsxs("td",{children:["R$ ",(j.total_cost||0).toFixed(2)]}),u.jsxs("td",{className:Number(j.total_cost||0)>Number(j.planned_total_cost||0)?"text-red-500 font-bold":"text-green-600 font-bold",children:["R$ ",(Number(j.total_cost||0)-Number(j.planned_total_cost||0)).toFixed(2)]})]})]})]})})]}),u.jsx("h3",{className:"font-semibold text-lg mb-4 text-secondary",children:"Custos Realizados"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Combustvel"}),u.jsxs("div",{className:"text-lg",children:[j.fuel_liters?`${j.fuel_liters} L`:"0 L",j.fuel_price?` (R$ ${j.fuel_price}/L)`:""]}),u.jsxs("div",{className:"text-sm text-slate-500",children:["Total: R$ ",((j.fuel_liters||0)*(j.fuel_price||0)).toFixed(2)]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Manuteno"}),u.jsxs("div",{className:"text-lg",children:["R$ ",(j.maintenance_cost||0).toFixed(2)]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Diria Motorista"}),u.jsxs("div",{className:"text-lg",children:["R$ ",(j.driver_daily||0).toFixed(2)]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Outros"}),u.jsxs("div",{className:"text-lg",children:["R$ ",(j.other_costs||0).toFixed(2)]})]}),u.jsxs("div",{className:"space-y-1 col-span-full mt-2 bg-slate-50 dark:bg-slate-700 p-3 rounded",children:[u.jsx("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Custo Total da Viagem"}),u.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",(j.total_cost||0).toFixed(2)]})]})]})]}),j.description&&u.jsx("div",{className:"col-span-full border-t border-slate-200 dark:border-slate-700 pt-4",children:u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Observaes"}),u.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-900 rounded text-sm whitespace-pre-wrap",children:j.description})]})})]}),u.jsxs("div",{className:"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-700 gap-2",children:[u.jsx("button",{className:"btn bg-blue-600 hover:bg-blue-700 text-white",onClick:ee,children:"Imprimir Relatrio"}),u.jsx("button",{className:"btn bg-gray-500 hover:bg-gray-600 text-white",onClick:()=>P(null),children:"Fechar"})]})]})})}),u.jsx(Hie,{isOpen:h.isOpen,onClose:()=>p({...h,isOpen:!1}),onSelect:N=>{dT(N),p({...h,isOpen:!1})},initialAddress:h.initial})]})}function aT({open:e,onClose:t,extracted:r,truck:n,serverDoc:a,onApplied:i}){var v,x;const[s,o]=O.useState({plate:(r==null?void 0:r.plate)||(n==null?void 0:n.plate)||"",chassis:(r==null?void 0:r.chassis)||(n==null?void 0:n.chassis)||"",year:((v=r==null?void 0:r.year)==null?void 0:v.toString())||((x=n==null?void 0:n.year)==null?void 0:x.toString())||"",doc_type:(r==null?void 0:r.doc_type)||(a==null?void 0:a.type)||"documento",issue_date:(r==null?void 0:r.issue_date)||"",expiry_date:(r==null?void 0:r.expiry_date)||""}),[l,c]=O.useState((n==null?void 0:n.fleet)||""),[f,d]=O.useState(!0),[h,p]=O.useState(!0),[m,y]=O.useState(null);if(O.useEffect(()=>{const S=[];n!=null&&n.plate&&s.plate&&String(n.plate).toUpperCase()!==String(s.plate).toUpperCase()&&S.push("Placa extrada diferente da placa do caminho selecionado"),n!=null&&n.chassis&&s.chassis&&String(n.chassis).toUpperCase()!==String(s.chassis).toUpperCase()&&S.push("Chassi extrado diferente do caminho selecionado"),S.length>0?y(S.join("  ")):y(null)},[s,n]),!e)return null;const g=async()=>{try{let S=null;if(f){const k={plate:s.plate||null,model:(n==null?void 0:n.model)||null,year:s.year?Number(s.year):(n==null?void 0:n.year)!=null?Number(n.year):null,chassis:s.chassis||(n==null?void 0:n.chassis)||null,km_current:(n==null?void 0:n.km_current)!=null?Number(n.km_current):null,fleet:l||(n==null?void 0:n.fleet)||null,status:(n==null?void 0:n.status)||"Ativo"};n!=null&&n.id?S=await sO(n.id,k):S=await iO(k)}if(h&&(a!=null&&a.id)){const k=s.expiry_date||null;await lO(a.id,k)}i==null||i({truck:S,expiry_date:s.expiry_date||null}),t==null||t()}catch(S){i==null||i({error:(S==null?void 0:S.message)||String(S)})}},b=Jf(s.expiry_date),w=b.status==="expired"?"bg-red-100 text-red-700":b.status==="expiring"?"bg-amber-100 text-amber-700":b.status==="valid"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600",_=b.status==="expired"?"Vencido":b.status==="expiring"||b.status==="valid"?"Vlido":"Sem validade";return u.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 flex items-center justify-center",onClick:t,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-2xl p-6",onClick:S=>S.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("div",{className:"font-semibold text-xl",children:"Reviso de Documento"}),u.jsx("button",{className:"btn",onClick:t,children:"Fechar"})]}),m&&u.jsx("div",{className:"mb-3 text-sm px-3 py-2 rounded-lg bg-amber-100 text-amber-800",children:m}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Placa"}),u.jsx("input",{className:"input",value:s.plate,onChange:S=>o({...s,plate:S.target.value.toUpperCase()})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Chassi"}),u.jsx("input",{className:"input",value:s.chassis,onChange:S=>o({...s,chassis:S.target.value.toUpperCase()})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Ano"}),u.jsx("input",{className:"input",value:s.year,onChange:S=>o({...s,year:S.target.value.replace(/[^0-9]/g,"").slice(0,4)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Tipo de Documento"}),u.jsxs("select",{className:"select",value:s.doc_type,onChange:S=>o({...s,doc_type:S.target.value}),children:[u.jsx("option",{value:"documento",children:"Licenciamento/Documento"}),u.jsx("option",{value:"tacografo_certificado",children:"Certificado Tacgrafo"}),u.jsx("option",{value:"seguro",children:"Seguro"}),u.jsx("option",{value:"inspecao",children:"Inspeo"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Emitido em"}),u.jsx("input",{className:"input",type:"date",value:s.issue_date||"",onChange:S=>o({...s,issue_date:S.target.value||""})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Validade"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{className:"input",type:"date",value:s.expiry_date||"",onChange:S=>o({...s,expiry_date:S.target.value||""})}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w}`,children:_})]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"label text-xs",children:"Frota vinculada"}),u.jsx("input",{className:"input",value:l,onChange:S=>c(S.target.value.replace(/\D/g,"").slice(0,7)),placeholder:"Informe a frota (opcional)"})]})]}),u.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:f,onChange:S=>d(S.target.checked)})," Salvar no cadastro do caminho"]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:S=>p(S.target.checked)})," Salvar no controle de tacgrafos"]})]}),u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsx("button",{className:"btn btn-primary flex-1",onClick:g,children:"Confirmar"}),u.jsx("button",{className:"btn bg-gray-500 hover:bg-gray-600 text-white",onClick:t,children:"Cancelar"})]})]})})}function Yie(){const e=Hc(),[t,r]=O.useState([]),[n,a]=O.useState(()=>{const C=localStorage.getItem("trucks_form_draft");return C?JSON.parse(C):{plate:"",model:"",year:"",chassis:"",km_current:"",fleet:"",category:"Canavieiro",status:"Ativo",vehicle_value:"",residual_value:"",useful_life_km:"1000000",avg_consumption:"2.5",annual_maintenance:"",annual_insurance:"",annual_taxes:"",annual_km:"120000"}}),[i,s]=O.useState(null),[o,l]=O.useState(!1),c=O.useRef(null),[f,d]=O.useState(!1),[h,p]=O.useState(null),[m,y]=O.useState(null),[g,b]=O.useState(null),[w,_]=O.useState(1),[v,x]=O.useState(20),[S,k]=O.useState(0),E=C=>String(C||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,7),A=C=>/^[A-Z]{3}[0-9][A-Z][0-9]{2}$/.test(String(C))||/^[A-Z]{3}[0-9]{4}$/.test(String(C)),j=C=>String(C||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,17),P=()=>{Mc({page:w,pageSize:v}).then(C=>{C.data?(r(C.data),k(Math.ceil(C.total/v))):(r(C),k(1))})},I=C=>{C>=1&&C<=S&&_(C)},D=O.useRef(P);D.current=P,O.useEffect(()=>{P()},[w,v]),O.useEffect(()=>{const C=setInterval(()=>{D.current()},1e4);let H=null;return(async()=>{Re&&(H=Re.channel("public:caminhoes").on("postgres_changes",{event:"*",schema:"public",table:"caminhoes"},()=>{D.current()}).subscribe())})(),()=>{H&&Re&&Re.removeChannel(H),clearInterval(C)}},[]);const B=async C=>{C.preventDefault();const H=n.year?Number(n.year):null,q=new Date().getFullYear();if(!A(n.plate)){e==null||e.show("Erro  Aba Caminho  Campo Placa invlida","error");return}if(H&&(H<1950||H>q+2)){e==null||e.show("Erro  Aba Caminho  Campo Ano fora do limite (1950 at ano atual + 2)","error");return}const Z={plate:n.plate||null,model:n.model||null,year:n.year?Number(n.year):null,chassis:n.chassis||null,asset_number:n.asset_number||null,capacity:n.capacity?Number(n.capacity):null,km_current:n.km_current?Number(n.km_current):null,fleet:n.fleet||null,category:n.category||null,status:n.status||"Ativo",vehicle_value:n.vehicle_value?Number(n.vehicle_value):0,residual_value:n.residual_value?Number(n.residual_value):0,useful_life_km:n.useful_life_km?Number(n.useful_life_km):1e6,avg_consumption:n.avg_consumption?Number(n.avg_consumption):0,annual_maintenance:n.annual_maintenance?Number(n.annual_maintenance):0,annual_insurance:n.annual_insurance?Number(n.annual_insurance):0,annual_taxes:n.annual_taxes?Number(n.annual_taxes):0,annual_km:n.annual_km?Number(n.annual_km):0};if(!Z.plate||!Z.model||!Z.year){const le=Z.plate?Z.model?"Ano":"Modelo":"Placa";e==null||e.show(`Erro  Aba Caminho  Campo ${le} obrigatrio`,"error");return}i?await sO(i.id,Z):await iO(Z),localStorage.removeItem("trucks_form_draft"),e==null||e.show(i?"Caminho atualizado":"Caminho cadastrado","success"),a({plate:"",model:"",year:"",asset_number:"",capacity:"",km_current:"",fleet:"",category:"Canavieiro",status:"Ativo",vehicle_value:"",residual_value:"",useful_life_km:"1000000",avg_consumption:"2.5",annual_maintenance:"",annual_insurance:"",annual_taxes:"",annual_km:"120000"}),s(null),l(!1),P(),window.scrollTo({top:0,behavior:"smooth"})},F=C=>{if(C.key!=="Enter")return;C.preventDefault();const H=C.currentTarget,q=Array.from(H.querySelectorAll("input, select, textarea, button")).filter(je=>!je.disabled&&je.tabIndex!==-1&&je.type!=="hidden"),Z=q.indexOf(document.activeElement),le=q[Z+1];le&&le.focus()},U=C=>{var H,q;s(C),a({plate:C.plate||"",model:C.model||"",year:((H=C.year)==null?void 0:H.toString())||"",chassis:C.chassis||"",km_current:((q=C.km_current)==null?void 0:q.toString())||"",fleet:C.fleet||"",category:["Canavieiro","Pipa","Vinhaa","Caamba"].includes(C.category)?C.category:"Canavieiro",status:C.status,vehicle_value:C.vehicle_value||"",residual_value:C.residual_value||"",useful_life_km:C.useful_life_km||"1000000",avg_consumption:C.avg_consumption||"2.5",annual_maintenance:C.annual_maintenance||"",annual_insurance:C.annual_insurance||"",annual_taxes:C.annual_taxes||"",annual_km:C.annual_km||"120000"}),l(!0),e==null||e.show("Edio carregada","info"),setTimeout(()=>{c.current?c.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},M=async C=>{await sR(C),e==null||e.show("Caminho excludo","success"),P()},R=async C=>{window.confirm("Confirma excluir este caminho?")&&await M(C)},L=async(C,H)=>{var Z;const q=(Z=H.target.files)==null?void 0:Z[0];if(q)try{const le=await hR(C.id,q,"documento",null);b(C),y(le);try{const je=await Kie(le.url?{id:le.id}:{file:q,id:le.id});p(je),d(!0)}catch{}await ai(C.id),e==null||e.show("Upload concludo","success")}catch{e==null||e.show("Falha no upload","error")}finally{H.target.value=""}};return O.useEffect(()=>{i||localStorage.setItem("trucks_form_draft",JSON.stringify(n))},[n,i]),u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Gerenciar Caminhes"}),!o&&!i&&u.jsxs("button",{className:"btn btn-primary flex items-center gap-2",onClick:()=>l(!0),children:[u.jsx("span",{className:"material-icons text-sm",children:"add"})," Novo"]})]}),(o||i)&&u.jsxs("div",{ref:c,className:"card p-6 animate-fade",children:[u.jsx("div",{className:"font-semibold mb-4 text-secondary text-xl",children:"Cadastro de Caminho"}),u.jsxs("form",{onSubmit:B,onKeyDown:F,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsx("input",{className:`input ${n.plate&&!A(n.plate)&&"ring-red-500 border-red-500"}`,placeholder:"Placa",value:n.plate,onChange:C=>a({...n,plate:E(C.target.value)})}),u.jsx("input",{className:"input",placeholder:"Modelo",value:n.model,onChange:C=>a({...n,model:C.target.value})}),u.jsx("input",{className:"input",placeholder:"Ano",value:n.year,onChange:C=>a({...n,year:C.target.value.replace(/[^0-9]/g,"").slice(0,4)})}),u.jsx("input",{className:`input ${n.chassis&&n.chassis.length>17&&"ring-red-500 border-red-500"}`,placeholder:"Chassi",value:n.chassis,onChange:C=>a({...n,chassis:j(C.target.value)})}),u.jsx("input",{className:"input",placeholder:"KM atual",value:n.km_current,onChange:C=>a({...n,km_current:C.target.value})}),u.jsx("input",{className:"input",placeholder:"Frota",value:n.fleet,maxLength:7,onChange:C=>a({...n,fleet:C.target.value.replace(/\D/g,"").slice(0,7)})}),u.jsxs("select",{className:"select",value:n.category,onChange:C=>a({...n,category:C.target.value}),children:[u.jsx("option",{children:"Canavieiro"}),u.jsx("option",{children:"Pipa"}),u.jsx("option",{children:"Vinhaa"}),u.jsx("option",{children:"Caamba"})]}),u.jsxs("select",{className:"select",value:n.status,onChange:C=>a({...n,status:C.target.value}),children:[u.jsx("option",{children:"Ativo"}),u.jsx("option",{children:"Manuteno"})]}),u.jsxs("div",{className:"col-span-1 md:col-span-6 border-t pt-4 mt-2 mb-2",children:[u.jsx("div",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Custos Fixos e Operacionais"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Valor do Veculo (R$)"}),u.jsx("input",{className:"input",placeholder:"0.00",value:n.vehicle_value,onChange:C=>a({...n,vehicle_value:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Valor Residual (R$)"}),u.jsx("input",{className:"input",placeholder:"0.00",value:n.residual_value,onChange:C=>a({...n,residual_value:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Vida til (km)"}),u.jsx("input",{className:"input",placeholder:"Ex: 1000000",value:n.useful_life_km,onChange:C=>a({...n,useful_life_km:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Consumo Mdio (km/l)"}),u.jsx("input",{className:"input",placeholder:"Ex: 2.5",value:n.avg_consumption,onChange:C=>a({...n,avg_consumption:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Manuteno Anual (R$)"}),u.jsx("input",{className:"input",placeholder:"Oramento anual",value:n.annual_maintenance,onChange:C=>a({...n,annual_maintenance:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Seguro Anual (R$)"}),u.jsx("input",{className:"input",placeholder:"Prmio anual",value:n.annual_insurance,onChange:C=>a({...n,annual_insurance:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"Licenas/Impostos (R$)"}),u.jsx("input",{className:"input",placeholder:"IPVA, Licenciamento",value:n.annual_taxes,onChange:C=>a({...n,annual_taxes:C.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label text-xs",children:"KM Anual Estimado"}),u.jsx("input",{className:"input",placeholder:"Para rateio",value:n.annual_km,onChange:C=>a({...n,annual_km:C.target.value})})]})]})]}),u.jsxs("div",{className:"flex gap-2 md:col-span-6",children:[u.jsx("button",{className:"btn btn-primary flex-1",children:i?"Salvar":"Adicionar"}),u.jsx("button",{type:"button",className:"btn bg-gray-500 hover:bg-gray-600 text-white",onClick:()=>{l(!1),s(null),localStorage.removeItem("trucks_form_draft"),a({plate:"",model:"",year:"",asset_number:"",capacity:"",km_current:"",fleet:"",category:"Canavieiro",status:"Ativo",vehicle_value:"",residual_value:"",useful_life_km:"1000000",avg_consumption:"2.5",annual_maintenance:"",annual_insurance:"",annual_taxes:"",annual_km:"120000"})},children:"Cancelar"})]})]})]}),u.jsx("div",{className:"card p-6 animate-fade overflow-x-auto hidden md:block",children:u.jsxs("table",{className:"table min-w-[1000px]",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"ID"}),u.jsx("th",{children:"Placa"}),u.jsx("th",{children:"Modelo"}),u.jsx("th",{children:"Ano"}),u.jsx("th",{children:"Chassi"}),u.jsx("th",{children:"KM atual"}),u.jsx("th",{children:"Frota"}),u.jsx("th",{children:"Categoria"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:t.map((C,H)=>u.jsxs("tr",{className:`${H%2===0?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-700"} hover:bg-slate-100 dark:hover:bg-slate-600`,children:[u.jsx("td",{children:C.id}),u.jsx("td",{children:C.plate||""}),u.jsx("td",{children:C.model||""}),u.jsx("td",{children:C.year??""}),u.jsx("td",{title:C.chassis,children:C.chassis||""}),u.jsx("td",{children:C.km_current??""}),u.jsx("td",{children:C.fleet||""}),u.jsx("td",{children:C.category||"-"}),u.jsx("td",{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:C.status})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs("label",{className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors cursor-pointer",title:"Importar Documento",children:[u.jsx("span",{className:"material-icons text-lg",children:"upload_file"}),u.jsx("input",{type:"file",className:"hidden",onChange:q=>L(C,q)})]}),u.jsx("button",{onClick:()=>U(C),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",title:"Editar",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>R(C.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})})]},C.id))})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden md:hidden",children:u.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.slice(0,v).map(C=>u.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:C.model||"Caminho"}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.plate||"Sem placa"})]})}),u.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:C.status}),u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:C.year})]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2 space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Categoria:"})," ",u.jsx("span",{className:"font-medium",children:C.category||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Frota:"})," ",u.jsx("span",{className:"font-medium",children:C.fleet||"-"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"KM:"})," ",u.jsx("span",{className:"font-medium",children:C.km_current??"-"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",onClick:()=>U(C),children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",onClick:()=>R(C.id),children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})]},C.id))})}),u.jsxs("div",{className:"flex items-center justify-between mt-4 p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Pgina ",w," de ",S||1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",onClick:()=>I(w-1),disabled:w<=1,children:"Anterior"}),u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",onClick:()=>I(w+1),disabled:w>=S,children:"Prxima"}),u.jsxs("select",{className:"select select-sm !py-1 dark:bg-slate-700 dark:border-slate-600",value:v,onChange:C=>{x(Number(C.target.value)),_(1)},children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:50,children:"50"})]})]})]}),f&&u.jsx(aT,{open:f,onClose:()=>d(!1),extracted:h,truck:g,serverDoc:m,onApplied:()=>{d(!1)}})]})}function Jie(){const e=Hc(),[t,r]=O.useState([]),[n,a]=O.useState(()=>{const j=localStorage.getItem("pranchas_form_draft");return j?JSON.parse(j):{asset_number:"",type:"",capacity:"",year:"",plate:"",chassis:"",status:"Ativo",fleet:"",conjunto:"",is_set:!1,asset_number2:"",plate2:"",chassis2:""}}),[i,s]=O.useState(null),[o,l]=O.useState(!1),c=O.useRef(null),[f,d]=O.useState(1),[h,p]=O.useState(20),[m,y]=O.useState(0);O.useEffect(()=>{i||localStorage.setItem("pranchas_form_draft",JSON.stringify(n))},[n,i]);const g={"Prancha 2 eixos":2e4,"Prancha 3 eixos":3e4,"Prancha 4 eixos":45e3,"Reboque 30 metros":37e3,"Reboque 26 metros":37e3},b=()=>{Qf({page:f,pageSize:h}).then(j=>{j.data?(r(j.data),y(Math.ceil(j.total/h))):(r(j),y(1))})},w=j=>{j>=1&&j<=m&&d(j)},_=O.useRef(b);_.current=b,O.useEffect(()=>{b()},[f,h]),O.useEffect(()=>{const j=setInterval(()=>{_.current()},1e4);let P=null;return(async()=>{Re&&(P=Re.channel("public:pranchas").on("postgres_changes",{event:"*",schema:"public",table:"pranchas"},()=>{_.current()}).subscribe())})(),()=>{P&&Re&&Re.removeChannel(P),clearInterval(j)}},[]);const v=j=>String(j||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,7),x=j=>String(j||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,17),S=async j=>{j.preventDefault();const P={asset_number:n.asset_number||null,type:n.type||null,capacity:n.capacity?Number(n.capacity):null,year:n.year?Number(n.year):null,plate:n.plate||null,chassis:n.chassis||null,status:n.status||"Ativo",fleet:n.fleet||null,conjunto:n.conjunto||null,is_set:n.is_set||!1,asset_number2:n.is_set&&n.asset_number2||null,plate2:n.is_set&&n.plate2||null,chassis2:n.is_set&&n.chassis2||null};if(!P.asset_number||!P.type||!P.year){const I=P.asset_number?P.type?"Ano":"Tipo":"N Ativo";e==null||e.show(`Erro  Aba Reboques  Campo ${I} obrigatrio`,"error");return}i?await lR(i.id,P):await oR(P),localStorage.removeItem("pranchas_form_draft"),a({asset_number:"",type:"",capacity:"",year:"",plate:"",chassis:"",status:"Ativo",fleet:"",conjunto:"",is_set:!1,asset_number2:"",plate2:"",chassis2:""}),e==null||e.show(i?"Reboque atualizado":"Reboque cadastrado","success"),s(null),l(!1),b(),window.scrollTo({top:0,behavior:"smooth"})},k=j=>{var P,I;s(j),a({asset_number:j.asset_number||"",type:j.type||"",capacity:((P=j.capacity)==null?void 0:P.toString())||"",year:((I=j.year)==null?void 0:I.toString())||"",plate:j.plate||"",chassis:j.chassis||"",status:j.status,fleet:j.fleet||"",conjunto:j.conjunto||"",is_set:j.is_set||!1,asset_number2:j.asset_number2||"",plate2:j.plate2||"",chassis2:j.chassis2||""}),l(!0),e==null||e.show("Edio carregada","info"),setTimeout(()=>{c.current?c.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},E=async j=>{await cR(j),e==null||e.show("Reboque excludo","success"),b()},A=async j=>{window.confirm("Confirma excluir este reboque?")&&await E(j)};return O.useEffect(()=>{i||localStorage.setItem("pranchas_form_draft",JSON.stringify(n))},[n,i]),u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[!o&&!i&&u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx("button",{className:"btn btn-primary w-full md:w-auto",onClick:()=>l(!0),children:"Novo"})}),(o||i)&&u.jsxs("div",{ref:c,className:"card p-6 animate-fade",children:[u.jsx("div",{className:"font-semibold mb-4 text-secondary text-xl",children:"Cadastro de Reboque"}),u.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("select",{className:"select md:col-span-2",value:n.type,onChange:j=>{const P=j.target.value;a({...n,type:P,capacity:g[P]||""})},children:[u.jsx("option",{value:"",children:"Tipo de Reboque"}),u.jsx("option",{children:"Prancha 2 eixos"}),u.jsx("option",{children:"Prancha 3 eixos"}),u.jsx("option",{children:"Prancha 4 eixos"}),u.jsx("option",{children:"Reboque 30 metros"}),u.jsx("option",{children:"Reboque 26 metros"})]}),(n.type==="Reboque 30 metros"||n.type==="Reboque 26 metros")&&u.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[u.jsx("input",{className:`input w-full ${n.conjunto==="N/A"?"bg-slate-200 dark:bg-slate-700 text-slate-500":""}`,placeholder:"Conjunto",value:n.conjunto,onChange:j=>a({...n,conjunto:j.target.value}),disabled:n.conjunto==="N/A"}),u.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 p-2 rounded whitespace-nowrap",children:[u.jsx("input",{type:"checkbox",id:"conjunto_na",className:"w-5 h-5",checked:n.conjunto==="N/A",onChange:j=>a({...n,conjunto:j.target.checked?"N/A":""})}),u.jsx("label",{htmlFor:"conjunto_na",className:"cursor-pointer text-sm font-semibold",children:"No se aplica"})]})]}),u.jsx("input",{className:"input",placeholder:"Capacidade",value:n.capacity,readOnly:!0}),u.jsx("input",{className:"input",placeholder:"Ano",value:n.year,onChange:j=>a({...n,year:j.target.value})}),u.jsxs("select",{className:"select",value:n.status,onChange:j=>a({...n,status:j.target.value}),children:[u.jsx("option",{children:"Ativo"}),u.jsx("option",{children:"Manuteno"})]}),(n.type==="Reboque 30 metros"||n.type==="Reboque 26 metros")&&u.jsxs("div",{className:"md:col-span-6 flex items-center gap-2 mt-2 p-2 bg-slate-100 dark:bg-slate-700 rounded",children:[u.jsx("input",{type:"checkbox",id:"is_set",className:"w-5 h-5",checked:n.is_set,onChange:j=>a({...n,is_set:j.target.checked})}),u.jsx("label",{htmlFor:"is_set",className:"font-semibold cursor-pointer",children:"Faz parte de um conjunto?"})]}),u.jsxs("div",{className:"md:col-span-6 grid grid-cols-1 md:grid-cols-3 gap-4 border p-4 rounded bg-slate-50 dark:bg-slate-800",children:[u.jsx("div",{className:"font-semibold md:col-span-3 mb-2",children:n.is_set?"Reboque 1":"Dados do Reboque"}),u.jsx("input",{className:"input",placeholder:"Frota",value:n.asset_number,onChange:j=>a({...n,asset_number:j.target.value})}),u.jsx("input",{className:"input",placeholder:"Placa",value:n.plate,onChange:j=>a({...n,plate:v(j.target.value)})}),u.jsx("input",{className:"input",placeholder:"Chassi",value:n.chassis,onChange:j=>a({...n,chassis:x(j.target.value)})})]}),n.is_set&&u.jsxs("div",{className:"md:col-span-6 grid grid-cols-1 md:grid-cols-3 gap-4 border p-4 rounded bg-slate-50 dark:bg-slate-800 mt-2",children:[u.jsx("div",{className:"font-semibold md:col-span-3 mb-2",children:"Reboque 2"}),u.jsx("input",{className:"input",placeholder:"Frota 2",value:n.asset_number2,onChange:j=>a({...n,asset_number2:j.target.value})}),u.jsx("input",{className:"input",placeholder:"Placa 2",value:n.plate2,onChange:j=>a({...n,plate2:v(j.target.value)})}),u.jsx("input",{className:"input",placeholder:"Chassi 2",value:n.chassis2,onChange:j=>a({...n,chassis2:x(j.target.value)})})]}),u.jsxs("div",{className:"flex gap-2 md:col-span-6 mt-4",children:[u.jsx("button",{className:"btn btn-primary flex-1",children:i?"Salvar":"Adicionar"}),u.jsx("button",{type:"button",className:"btn bg-gray-500 hover:bg-gray-600 text-white",onClick:()=>{l(!1),s(null),localStorage.removeItem("pranchas_form_draft"),a({asset_number:"",type:"",capacity:"",year:"",plate:"",chassis:"",status:"Ativo",fleet:"",conjunto:"",is_set:!1,asset_number2:"",plate2:"",chassis2:""})},children:"Cancelar"})]})]})]}),u.jsx("div",{className:"card p-6 animate-fade overflow-x-auto hidden md:block",children:u.jsxs("table",{className:"table md:min-w-[1100px] min-w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"ID"}),u.jsx("th",{children:"Frota"}),u.jsx("th",{children:"Conjunto"}),u.jsx("th",{children:"Tipo"}),u.jsx("th",{children:"Ano"}),u.jsx("th",{children:"Capacidade"}),u.jsx("th",{children:"Placa"}),u.jsx("th",{children:"Chassi"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Aes"})]})}),u.jsx("tbody",{children:t.map((j,P)=>u.jsxs("tr",{className:`${P%2===0?"bg-slate-50 dark:bg-slate-800":"bg-white dark:bg-slate-700"} hover:bg-slate-100 dark:hover:bg-slate-600`,children:[u.jsx("td",{children:j.id}),u.jsxs("td",{children:[u.jsx("div",{children:j.asset_number||"-"}),j.is_set&&j.asset_number2&&u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.asset_number2})]}),u.jsx("td",{children:j.conjunto||"-"}),u.jsx("td",{children:j.type||"-"}),u.jsx("td",{children:j.year??"-"}),u.jsx("td",{children:j.capacity??"-"}),u.jsxs("td",{children:[u.jsx("div",{children:j.plate||"-"}),j.is_set&&j.plate2&&u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.plate2})]}),u.jsxs("td",{children:[u.jsx("div",{children:j.chassis||"-"}),j.is_set&&j.chassis2&&u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:j.chassis2})]}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:j.status})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:()=>k(j),className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",title:"Editar",children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{onClick:()=>A(j.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Excluir",children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})})]},j.id))})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden md:hidden",children:u.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.slice(0,h).map(j=>u.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:[j.asset_number||"Reboque",j.is_set&&j.asset_number2&&u.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["/ ",j.asset_number2]})]}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:j.type||"-"})]}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="Ativo"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:j.status})]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2 space-y-1",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Placa:"})," ",u.jsx("span",{className:"font-medium",children:j.plate||"-"})]}),j.is_set&&j.plate2&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Placa 2:"})," ",u.jsx("span",{className:"font-medium",children:j.plate2})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Conjunto:"})," ",u.jsx("span",{className:"font-medium",children:j.conjunto||"-"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{className:"p-2 text-yellow-600 hover:bg-yellow-50 dark:text-yellow-400 dark:hover:bg-yellow-900/20 rounded-lg transition-colors",onClick:()=>k(j),children:u.jsx("span",{className:"material-icons text-lg",children:"edit"})}),u.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",onClick:()=>A(j.id),children:u.jsx("span",{className:"material-icons text-lg",children:"delete"})})]})]},j.id))})}),u.jsxs("div",{className:"flex items-center justify-between mt-4 p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Pgina ",f," de ",m||1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",onClick:()=>w(f-1),disabled:f<=1,children:"Anterior"}),u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",onClick:()=>w(f+1),disabled:f>=m,children:"Prxima"}),u.jsxs("select",{className:"select select-sm !py-1 dark:bg-slate-700 dark:border-slate-600",value:h,onChange:j=>{p(Number(j.target.value)),d(1)},children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:50,children:"50"})]})]})]})]})}function iT(){const[e,t]=O.useState(localStorage.getItem("token")),[r,n]=O.useState(()=>{try{return JSON.parse(localStorage.getItem("user")||"null")}catch{return null}}),[a,i]=O.useState(!1);return O.useEffect(()=>{e?localStorage.setItem("token",e):localStorage.removeItem("token")},[e]),O.useEffect(()=>{r?localStorage.setItem("user",JSON.stringify(r)):localStorage.removeItem("user")},[r]),O.useEffect(()=>{let o=null;return(async()=>{if(!Re)return;const{data:c}=await Re.auth.getSession(),f=(c==null?void 0:c.session)||null,d=(f==null?void 0:f.user)||null;f&&t(f.access_token||"supabase-token"),d&&n({id:d.id,username:d.email,role:"user"});const{data:h}=Re.auth.onAuthStateChange((p,m)=>{const y=(m==null?void 0:m.user)||null;t(m?m.access_token||"supabase-token":null),n(y?{id:y.id,username:y.email,role:"user"}:null)});o=h})(),()=>{var c,f;(f=(c=o==null?void 0:o.subscription)==null?void 0:c.unsubscribe)==null||f.call(c)}},[]),{token:e,setToken:t,user:r,setUser:n,logout:async()=>{try{Re&&await Re.auth.signOut()}catch{}t(null),n(null)},loading:a,setLoading:i}}const Ej=["#2563eb","#38bdf8","#22c55e","#a78bfa","#f59e0b","#ef4444","#14b8a6","#0ea5e9"];function Xie(){var Ke,lt,mt;const e=Hc();iT();const[t,r]=O.useState("lista"),[n,a]=O.useState([]),[i,s]=O.useState([]),[o,l]=O.useState([]),[c,f]=O.useState([]),[d,h]=O.useState(0),[p,m]=O.useState({startDate:"",endDate:"",caminhaoId:"",pranchaId:"",driverId:"",location:"",aprovado:"",search:"",page:1,pageSize:20}),[y,g]=O.useState(0),[b,w]=O.useState(0),[_,v]=O.useState(0),[x,S]=O.useState(()=>{const $=localStorage.getItem("costs_form_draft");return $?JSON.parse($):{viagemId:"",dataRegistro:"",consumoLitros:"",valorLitro:"",diariaMotorista:"",pedagios:"",manutencao:"",outrosCustos:[],observacoes:"",anexos:[]}}),[k,E]=O.useState({descricao:"",valor:""}),[A,j]=O.useState([]),[P,I]=O.useState(null),[D,B]=O.useState(null),[F,U]=O.useState(null),M=O.useRef(0);O.useEffect(()=>{D||localStorage.setItem("costs_form_draft",JSON.stringify(x))},[x,D]);const R=async()=>{a(await Xf()),s((await Mc()).filter(re=>re.status==="Ativo")),l((await Qf()).filter(re=>re.status==="Ativo"));const $=await Ju({page:1,pageSize:2e4});j($.data)},L=async()=>{const $={...p,aprovado:p.aprovado===""?void 0:p.aprovado==="true"};p.startDate&&H(p.startDate)&&($.startDate=q(p.startDate)),p.endDate&&H(p.endDate)&&($.endDate=q(p.endDate));const re=await oO($);re.data?(f(re.data),h(re.total)):(f(re),h(re.length||0))};O.useEffect(()=>{R()},[]),O.useEffect(()=>{(t==="lista"||t==="relatorios")&&L()},[p,t]);const C=$=>{const re=$.replace(/\D/g,"").slice(0,8),z=re.slice(0,2),Q=re.slice(2,4),pe=re.slice(4,8);return[z,Q,pe].filter(Boolean).join("/")},H=$=>{const re=$.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!re)return!1;const z=Number(re[1]),Q=Number(re[2])-1,pe=Number(re[3]),he=new Date(pe,Q,z);return he.getFullYear()===pe&&he.getMonth()===Q&&he.getDate()===z},q=$=>{const[re,z,Q]=$.split("/").map(Number);return`${Q}-${String(z).padStart(2,"0")}-${String(re).padStart(2,"0")}`},Z=$=>{S({...x,viagemId:$});const re=A.find(z=>String(z.id)===String($));re&&S(z=>({...z,kmRodado:re.km_rodado||0,tempoHoras:re.horas||0}))},le=()=>{if(!k.descricao||!k.valor){e==null||e.show("Informe descrio e valor","error");return}const $=Number(k.valor);if(isNaN($)||$<0){e==null||e.show("Valor invlido","error");return}S({...x,outrosCustos:[...x.outrosCustos||[],{descricao:k.descricao,valor:$}]}),E({descricao:"",valor:""})},je=async $=>{const re=Array.from($.target.files||[]),z=await Promise.all(re.map(Q=>new Promise(pe=>{const he=new FileReader;he.onload=()=>pe({nome:Q.name,base64:String(he.result).split(",")[1]}),he.readAsDataURL(Q)})));S({...x,anexos:[...x.anexos||[],...z]})},Ae=$=>{if($.key!=="Enter")return;$.preventDefault();const re=$.currentTarget,z=Array.from(re.querySelectorAll("input, select, textarea, button")).filter(he=>!he.disabled&&he.tabIndex!==-1&&he.type!=="hidden"),Q=z.indexOf(document.activeElement),pe=z[Q+1];pe&&pe.focus()},bt=$=>{const re=[];$.viagemId||re.push("Vincule uma viagem"),$.dataRegistro||re.push("Informe data de registro");const z=Number($.consumoLitros||0),Q=Number($.valorLitro||0),pe=Number($.diariaMotorista||0),he=Number($.pedagios||0),$e=Number($.manutencao||0),we=($.outrosCustos||[]).reduce((de,ke)=>de+Number(ke.valor||0),0);[z,Q,pe,he,$e].some(de=>de<0)&&re.push("Valores no podem ser negativos");const _t=z*Q+pe+he+$e+we;return _t>=0||re.push("Clculo invlido"),{ok:re.length===0,errs:re,custoTotal:_t}},ot=async $=>{$.preventDefault();const re={viagemId:x.viagemId||null,dataRegistro:x.dataRegistro||new Date().toISOString().slice(0,10),registradoPor:"",caminhaoId:void 0,pranchaId:void 0,consumoLitros:x.consumoLitros?Number(x.consumoLitros):0,valorLitro:x.valorLitro?Number(x.valorLitro):0,kmRodado:x.kmRodado?Number(x.kmRodado):0,tempoHoras:x.tempoHoras?Number(x.tempoHoras):0,diariaMotorista:x.diariaMotorista?Number(x.diariaMotorista):0,pedagios:x.pedagios?Number(x.pedagios):0,manutencao:x.manutencao?Number(x.manutencao):0,outrosCustos:x.outrosCustos||[],observacoes:x.observacoes||""},z=bt(re);if(!z.ok){e==null||e.show(z.errs[0],"error");return}const Q=Date.now();if(Q-M.current<3e3){e==null||e.show("Aguarde um momento antes de enviar novamente","warning");return}M.current=Q;try{D?(await fR(D,re),e==null||e.show("Custo atualizado","success")):(await dR({...re,anexos:x.anexos||[]}),e==null||e.show("Custo salvo","success")),localStorage.removeItem("costs_form_draft"),S({viagemId:"",dataRegistro:"",consumoLitros:"",valorLitro:"",diariaMotorista:"",pedagios:"",manutencao:"",outrosCustos:[],observacoes:"",anexos:[]}),B(null),r("lista"),L()}catch{e==null||e.show("Erro ao salvar","error")}},ee=$=>Number($.fuel_liters||0)*Number($.fuel_price||0)+Number($.other_costs||0)+Number($.maintenance_cost||0)+Number($.driver_daily||0),se=O.useMemo(()=>A.filter($=>{if(p.startDate&&H(p.startDate)&&$.date<q(p.startDate)||p.endDate&&H(p.endDate)&&$.date>q(p.endDate)||p.caminhaoId&&String($.truck_id)!==String(p.caminhaoId)||p.pranchaId&&String($.prancha_id)!==String(p.pranchaId)||p.driverId&&String($.driver_id)!==String(p.driverId)||p.location&&$.location!==p.location)return!1;if(p.search){const re=p.search.toLowerCase();if(!(($.description||"").toLowerCase().includes(re)||($.destination||"").toLowerCase().includes(re)))return!1}return!0}).map($=>({...$,totalCost:ee($)})),[A,p]),ue=O.useMemo(()=>{const $=se.reduce((pe,he)=>pe+he.totalCost,0),re=se.reduce((pe,he)=>{const $e=Number(he.fuel_liters||0),we=Number(he.fuel_price||0);return pe+$e*we},0),z=se.reduce((pe,he)=>pe+Number(he.maintenance_cost||0),0),Q=se.reduce((pe,he)=>pe+Number(he.other_costs||0)+Number(he.driver_daily||0),0);return{total:$,fuel:re,maintenance:z,other:Q}},[se]),G=u.jsxs("div",{className:"space-y-6",onKeyDown:Ae,children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"card p-4 border-l-4 border-blue-500 bg-white dark:bg-slate-800 shadow-sm",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider",children:"Custo Total"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R$ ",ue.total.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsx("span",{className:"material-icons text-blue-500 bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:"attach_money"})]})}),u.jsx("div",{className:"card p-4 border-l-4 border-orange-500 bg-white dark:bg-slate-800 shadow-sm",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider",children:"Combustvel"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R$ ",ue.fuel.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[ue.total>0?(ue.fuel/ue.total*100).toFixed(1):0,"% do total"]})]}),u.jsx("span",{className:"material-icons text-orange-500 bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg",children:"local_gas_station"})]})}),u.jsx("div",{className:"card p-4 border-l-4 border-red-500 bg-white dark:bg-slate-800 shadow-sm",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider",children:"Manuteno"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R$ ",ue.maintenance.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[ue.total>0?(ue.maintenance/ue.total*100).toFixed(1):0,"% do total"]})]}),u.jsx("span",{className:"material-icons text-red-500 bg-red-100 dark:bg-red-900/30 p-2 rounded-lg",children:"build"})]})}),u.jsx("div",{className:"card p-4 border-l-4 border-green-500 bg-white dark:bg-slate-800 shadow-sm",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase tracking-wider",children:"Outros / Dirias"}),u.jsxs("div",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R$ ",ue.other.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[ue.total>0?(ue.other/ue.total*100).toFixed(1):0,"% do total"]})]}),u.jsx("span",{className:"material-icons text-green-500 bg-green-100 dark:bg-green-900/30 p-2 rounded-lg",children:"account_balance_wallet"})]})})]}),u.jsxs("div",{className:"card p-6 grid grid-cols-1 md:grid-cols-9 gap-4",children:[u.jsx("input",{className:`input ${p.startDate&&!H(p.startDate)&&"ring-red-500 border-red-500"}`,placeholder:"Incio (DD/MM/YYYY)",value:p.startDate,onChange:$=>m({...p,startDate:C($.target.value)})}),u.jsx("input",{className:`input ${p.endDate&&!H(p.endDate)&&"ring-red-500 border-red-500"}`,placeholder:"Fim (DD/MM/YYYY)",value:p.endDate,onChange:$=>m({...p,endDate:C($.target.value)})}),u.jsxs("select",{className:"select",value:p.caminhaoId,onChange:$=>m({...p,caminhaoId:$.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Caminho"}),i.map($=>u.jsx("option",{value:$.id,children:$.plate||$.model||$.id},$.id))]}),u.jsxs("select",{className:"select",value:p.pranchaId,onChange:$=>m({...p,pranchaId:$.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Prancha"}),o.map($=>u.jsx("option",{value:$.id,children:$.identifier||$.model||$.id},$.id))]}),u.jsxs("select",{className:"select",value:p.driverId,onChange:$=>m({...p,driverId:$.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Motorista"}),n.map($=>u.jsx("option",{value:$.id,children:$.name},$.id))]}),u.jsxs("select",{className:"select",value:p.location,onChange:$=>m({...p,location:$.target.value}),children:[u.jsx("option",{value:"",children:"Todas as Unidades"}),u.jsx("option",{value:"Cambu",children:"Cambu"}),u.jsx("option",{value:"Vale",children:"Vale"}),u.jsx("option",{value:"Panorama",children:"Panorama"}),u.jsx("option",{value:"Floresta",children:"Floresta"})]}),u.jsxs("select",{className:"select",value:p.aprovado,onChange:$=>m({...p,aprovado:$.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Aprovado?"}),u.jsx("option",{value:"true",children:"Sim"}),u.jsx("option",{value:"false",children:"No"})]}),u.jsx("input",{className:"input",placeholder:"Pesquisa",value:p.search,onChange:$=>m({...p,search:$.target.value})}),u.jsx("input",{className:"input",placeholder:"Min custo",value:p.minCusto||"",onChange:$=>m({...p,minCusto:$.target.value})}),u.jsx("input",{className:"input",placeholder:"Max custo",value:p.maxCusto||"",onChange:$=>m({...p,maxCusto:$.target.value})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{className:"btn btn-primary",onClick:async()=>{const $=se,re=["Data","Viagem","Motorista","Caminho","Prancha","Unidade","Combustvel","Manuteno","Outros","Total"],z=$.map(we=>{var ct,St,Ja;const _t=(Number(we.fuel_liters||0)*Number(we.fuel_price||0)).toFixed(2),de=Number(we.maintenance_cost||0).toFixed(2),ke=(Number(we.other_costs||0)+Number(we.driver_daily||0)).toFixed(2),vt=we.totalCost.toFixed(2);return[we.date,we.id,((ct=n.find(fa=>fa.id===we.driver_id))==null?void 0:ct.name)||we.driver_id,((St=i.find(fa=>fa.id===we.truck_id))==null?void 0:St.plate)||we.truck_id,((Ja=o.find(fa=>fa.id===we.prancha_id))==null?void 0:Ja.asset_number)||we.prancha_id,we.location||"",_t,de,ke,vt]}),Q=[re.join(","),...z.map(we=>we.join(","))].join(`
`),pe=new Blob([Q],{type:"text/csv"}),he=URL.createObjectURL(pe),$e=document.createElement("a");$e.href=he,$e.download="custos_viagens.csv",$e.click(),URL.revokeObjectURL(he),e==null||e.show("CSV exportado","success")},children:[u.jsx("span",{className:"material-icons",children:"download"})," CSV"]}),u.jsxs("button",{className:"btn btn-secondary",onClick:async()=>{const $=se,{jsPDF:re}=await Yf(async()=>{const{jsPDF:we}=await import("./jspdf.es.min-B2dQc5b3.js").then(_t=>_t.j);return{jsPDF:we}},[]),z=new re;z.setFontSize(16),z.text("Relatrio de Custos de Viagens",105,15,{align:"center"}),z.setFontSize(10);let Q=25;$.forEach(we=>{const _t=`Data: ${we.date} | Viagem: ${we.id} | Unidade: ${we.location||"-"} | Total: R$ ${we.totalCost.toFixed(2)}`;z.text(_t,10,Q),Q+=6,Q>280&&(z.addPage(),Q=15)});const pe=z.output("blob"),he=URL.createObjectURL(pe),$e=document.createElement("a");$e.href=he,$e.download="custos_viagens.pdf",$e.click(),URL.revokeObjectURL(he),e==null||e.show("PDF exportado","success")},children:[u.jsx("span",{className:"material-icons",children:"picture_as_pdf"})," PDF"]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[u.jsxs("div",{className:"md:hidden divide-y divide-slate-100 dark:divide-slate-700",children:[se.slice((p.page-1)*p.pageSize,p.page*p.pageSize).map($=>{var z;const re=Number($.fuel_liters||0)*Number($.fuel_price||0);return u.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:["#",$.id,"  ",$.date]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Motorista: ",((z=n.find(Q=>String(Q.id)===String($.driver_id)))==null?void 0:z.name)||$.driver_id||""]})]}),u.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:["R$ ",$.totalCost.toFixed(2)]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600 dark:text-slate-300 mb-3",children:[u.jsxs("div",{children:["Combustvel: ",u.jsxs("span",{className:"font-medium",children:["R$ ",re.toFixed(2)]})]}),u.jsxs("div",{children:["Manuteno: ",u.jsxs("span",{className:"font-medium",children:["R$ ",Number($.maintenance_cost||0).toFixed(2)]})]})]}),u.jsx("div",{className:"flex justify-end pt-2 border-t border-slate-100 dark:border-slate-700",children:u.jsx("button",{onClick:()=>I($),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Ver Detalhes",children:u.jsx("span",{className:"material-icons text-lg",children:"visibility"})})})]},$.id)}),se.length===0&&u.jsx("div",{className:"p-8 text-center text-slate-500 dark:text-slate-400",children:"Nenhum registro encontrado"})]}),u.jsx("div",{className:"hidden md:block overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-400 font-semibold text-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Data"}),u.jsx("th",{className:"p-4",children:"Viagem"}),u.jsx("th",{className:"p-4",children:"Motorista"}),u.jsx("th",{className:"p-4",children:"Caminho"}),u.jsx("th",{className:"p-4",children:"Prancha"}),u.jsx("th",{className:"p-4",children:"Combustvel"}),u.jsx("th",{className:"p-4",children:"Manuteno"}),u.jsx("th",{className:"p-4",children:"Outros"}),u.jsx("th",{className:"p-4",children:"Total"}),u.jsx("th",{className:"p-4 text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:[se.slice((p.page-1)*p.pageSize,p.page*p.pageSize).map($=>{var pe,he,$e;const re=Number($.fuel_liters||0)*Number($.fuel_price||0),z=Number($.maintenance_cost||0),Q=Number($.other_costs||0)+Number($.driver_daily||0);return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:$.date?String($.date).slice(0,10):"-"}),u.jsxs("td",{className:"p-4 font-medium text-slate-800 dark:text-slate-200",children:["#",$.id]}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:((pe=n.find(we=>String(we.id)===String($.driver_id)))==null?void 0:pe.name)||$.driver_id||""}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:((he=i.find(we=>String(we.id)===String($.truck_id)))==null?void 0:he.plate)||$.truck_id||""}),u.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:(($e=o.find(we=>String(we.id)===String($.prancha_id)))==null?void 0:$e.asset_number)||$.prancha_id||""}),u.jsxs("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:["R$ ",re.toFixed(2)]}),u.jsxs("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:["R$ ",z.toFixed(2)]}),u.jsxs("td",{className:"p-4 text-slate-600 dark:text-slate-400",children:["R$ ",Q.toFixed(2)]}),u.jsxs("td",{className:"p-4 font-bold text-slate-800 dark:text-slate-200",children:["R$ ",$.totalCost.toFixed(2)]}),u.jsx("td",{className:"p-4 text-right",children:u.jsx("button",{onClick:()=>I($),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Ver Detalhes",children:u.jsx("span",{className:"material-icons text-lg",children:"visibility"})})})]},$.id)}),se.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:"10",className:"text-center p-8 text-slate-500 dark:text-slate-400",children:"Nenhum registro encontrado"})})]})]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4 p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-100 dark:border-slate-700",children:[u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Pgina ",p.page," de ",Math.ceil(d/p.pageSize)||1]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:p.page<=1,onClick:()=>m({...p,page:Math.max(1,Number(p.page)-1)}),children:"Anterior"}),u.jsx("button",{className:"btn btn-sm border border-slate-300 dark:border-slate-600",disabled:p.page*p.pageSize>=d,onClick:()=>m({...p,page:Number(p.page)+1}),children:"Prxima"}),u.jsxs("select",{className:"select select-sm !py-1 dark:bg-slate-700 dark:border-slate-600",value:p.pageSize,onChange:$=>m({...p,pageSize:Number($.target.value),page:1}),children:[u.jsx("option",{value:10,children:"10"}),u.jsx("option",{value:20,children:"20"}),u.jsx("option",{value:50,children:"50"})]})]})]})]}),Pe=O.useMemo(()=>{const $=A.map(de=>{const ke=Number(de.fuel_liters||0)*Number(de.fuel_price||0),vt=Number(de.maintenance_cost||0),ct=Number(de.driver_daily||0),St=Number(de.other_costs||0),Ja=ke+vt+ct+St;return{...de,custoTotal:Ja,custoCombustivel:ke,manutencao:vt,diariaMotorista:ct,outros:St,kmRodado:Number(de.km_rodado||0),dataRegistro:de.date||"",caminhaoId:de.truck_id}}),re=$.reduce((de,ke)=>de+ke.custoTotal,0),z=$.reduce((de,ke)=>de+ke.kmRodado,0),Q=$.reduce((de,ke)=>de+Number(ke.horas||0),0),pe=z?re/z:0,he=Q?re/Q:0,$e=$.reduce((de,ke)=>{const vt=String(ke.dataRegistro).slice(0,7),ct=de.find(St=>St.month===vt)||{month:vt,total:0,km:0};return ct.total+=ke.custoTotal,ct.km+=ke.kmRodado,de.find(St=>St.month===vt)||de.push(ct),de},[]);$e.sort((de,ke)=>de.month.localeCompare(ke.month));const we=[{name:"Combustvel",value:$.reduce((de,ke)=>de+ke.custoCombustivel,0)},{name:"Manuteno",value:$.reduce((de,ke)=>de+ke.manutencao,0)},{name:"Dirias",value:$.reduce((de,ke)=>de+ke.diariaMotorista,0)},{name:"Outros",value:$.reduce((de,ke)=>de+ke.outros,0)}],_t=i.map(de=>({truck:de.plate||de.model||String(de.id),total:$.filter(ke=>String(ke.caminhaoId||"")===String(de.id)).reduce((ke,vt)=>ke+vt.custoTotal,0)})).sort((de,ke)=>ke.total-de.total).slice(0,10);return{totalPeriodo:re,mediaKm:pe,mediaHora:he,meses:$e,dist:we,porCaminhao:_t}},[A,i]),Oe=u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"text-sm",children:"Total no perodo"}),u.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",Pe.totalPeriodo.toFixed(2)]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"text-sm",children:"Mdia custo/km"}),u.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",Pe.mediaKm.toFixed(2)]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"text-sm",children:"Mdia custo/hora"}),u.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",Pe.mediaHora.toFixed(2)]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"text-sm",children:"Registros"}),u.jsx("div",{className:"text-3xl font-bold",children:c.length})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Custo total por ms"}),u.jsx("div",{className:"h-72",children:u.jsx(Wn,{children:u.jsxs(_s,{data:Pe.meses,children:[u.jsx(qr,{dataKey:"month"}),u.jsx(Wr,{}),u.jsx(Lt,{}),u.jsx(Hr,{dataKey:"total",fill:"#2563eb",radius:[8,8,0,0]})]})})})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Custo mdio por km"}),u.jsx("div",{className:"h-72",children:u.jsx(Wn,{children:u.jsxs(tT,{data:Pe.meses.map($=>({month:$.month,value:$.km?$.total/$.km:0})),children:[u.jsx(qr,{dataKey:"month"}),u.jsx(Wr,{}),u.jsx(Lt,{}),u.jsx(Ro,{type:"monotone",dataKey:"value",stroke:"#38bdf8",strokeWidth:3,dot:!1})]})})})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Distribuio de custos"}),u.jsx("div",{className:"h-72",children:u.jsx(Wn,{children:u.jsxs(wie,{children:[u.jsx(da,{data:Pe.dist,dataKey:"value",nameKey:"name",outerRadius:110,children:Pe.dist.map(($,re)=>u.jsx(jh,{fill:Ej[re%Ej.length],stroke:"#ffffff"},re))}),u.jsx(Lt,{})]})})})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-4",children:"Custo por caminho (top 10)"}),u.jsx("div",{className:"h-72",children:u.jsx(Wn,{children:u.jsxs(_s,{data:Pe.porCaminhao,children:[u.jsx(qr,{dataKey:"truck"}),u.jsx(Wr,{}),u.jsx(Lt,{}),u.jsx(Hr,{dataKey:"total",fill:"#22c55e",radius:[8,8,0,0]})]})})})]})]}),Be=u.jsxs("div",{className:"space-y-6",onKeyDown:Ae,children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-4 text-secondary text-xl",children:"Novo custo"}),u.jsxs("form",{onSubmit:ot,className:"grid grid-cols-1 md:grid-cols-4 gap-4",onKeyDown:Ae,children:[u.jsxs("select",{className:"select",value:x.viagemId,onChange:$=>Z($.target.value),children:[u.jsx("option",{value:"",disabled:!0,children:"Vincular viagem"}),A.map($=>u.jsxs("option",{value:$.id,children:[$.id," - ",$.date]},$.id))]}),u.jsx("input",{className:`input ${x.dataRegistro&&!H(x.dataRegistro)&&"ring-red-500 border-red-500"}`,placeholder:"Data registro (DD/MM/YYYY)",value:x.dataRegistro,onChange:$=>S({...x,dataRegistro:C($.target.value)})}),u.jsxs("select",{className:"select",value:x.categoria,onChange:$=>S({...x,categoria:$.target.value}),children:[u.jsx("option",{children:"Mquinas Agrcolas"}),u.jsx("option",{children:"Mquinas de Construo"}),u.jsx("option",{children:"Equipamentos Industriais"}),u.jsx("option",{children:"Veculos Pesados"}),u.jsx("option",{children:"Veculos Leves"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:x.noFuel,onChange:$=>S({...x,noFuel:$.target.checked,consumoLitros:$.target.checked?0:x.consumoLitros,valorLitro:$.target.checked?0:x.valorLitro})})," ",u.jsx("span",{children:"No houve gasto de combustvel"})]}),u.jsx("input",{className:"input",disabled:x.noFuel,placeholder:"Consumo (litros)",value:x.consumoLitros,onChange:$=>S({...x,consumoLitros:$.target.value})}),u.jsx("input",{className:"input",disabled:x.noFuel,placeholder:"Valor por litro",value:x.valorLitro,onChange:$=>S({...x,valorLitro:$.target.value})}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:x.noDaily,onChange:$=>S({...x,noDaily:$.target.checked,diariaMotorista:$.target.checked?0:x.diariaMotorista})})," ",u.jsx("span",{children:"No houve diria"})]}),u.jsx("input",{className:"input",disabled:x.noDaily,placeholder:"Diria motorista",value:x.diariaMotorista,onChange:$=>S({...x,diariaMotorista:$.target.value})}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:x.noToll,onChange:$=>S({...x,noToll:$.target.checked,pedagios:$.target.checked?0:x.pedagios})})," ",u.jsx("span",{children:"No houve pedgios"})]}),u.jsx("input",{className:"input",disabled:x.noToll,placeholder:"Pedgios",value:x.pedagios,onChange:$=>S({...x,pedagios:$.target.value})}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:x.noMaint,onChange:$=>S({...x,noMaint:$.target.checked,manutencao:$.target.checked?0:x.manutencao})})," ",u.jsx("span",{children:"No houve manuteno"})]}),u.jsx("input",{className:"input",disabled:x.noMaint,placeholder:"Manuteno",value:x.manutencao,onChange:$=>S({...x,manutencao:$.target.value})}),u.jsx("input",{className:"input",placeholder:"KM rodado",value:x.kmRodado||"",onChange:$=>S({...x,kmRodado:$.target.value})}),u.jsx("input",{className:"input",placeholder:"Tempo (horas)",value:x.tempoHoras||"",onChange:$=>S({...x,tempoHoras:$.target.value})}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"input",placeholder:"Descrio",value:k.descricao,onChange:$=>E({...k,descricao:$.target.value})}),u.jsx("input",{className:"input",placeholder:"Valor",value:k.valor,onChange:$=>E({...k,valor:$.target.value})}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:le,children:"Adicionar"})]}),u.jsx("div",{className:"mt-2",children:(x.outrosCustos||[]).map(($,re)=>u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsx("div",{children:$.descricao}),u.jsxs("div",{children:["R$ ",Number($.valor).toFixed(2)]})]},re))})]}),u.jsx("textarea",{className:"input md:col-span-4",placeholder:"Observaes",value:x.observacoes,onChange:$=>S({...x,observacoes:$.target.value})}),u.jsxs("div",{className:"md:col-span-4",children:[u.jsx("div",{className:"font-medium mb-2",children:"Anexos"}),u.jsx("input",{type:"file",multiple:!0,onChange:je}),u.jsxs("div",{className:"mt-2 text-sm",children:[(x.anexos||[]).length," arquivo(s) selecionado(s)"]})]}),u.jsxs("div",{className:"md:col-span-4 flex gap-2",children:[u.jsx("button",{type:"button",className:"btn",onClick:()=>{const $=Number(x.noFuel?0:x.consumoLitros||0),re=Number(x.noFuel?0:x.valorLitro||0),z=Number(x.noDaily?0:x.diariaMotorista||0),Q=Number(x.noToll?0:x.pedagios||0),pe=Number(x.noMaint?0:x.manutencao||0),he=(x.outrosCustos||[]).reduce((ke,vt)=>ke+Number(vt.valor||0),0),$e=$*re,we=$e+z+Q+pe+he,_t=Number(x.kmRodado||0),de=_t>0?we/_t:0;U({custoCombustivel:$e,subtotal:we,porKm:de}),e==null||e.show("Clculo atualizado","success")},children:"Calcular"}),u.jsx("button",{className:"btn btn-primary",children:D?"Salvar":"Cadastrar"}),u.jsx("button",{type:"button",className:"btn bg-gray-500 hover:bg-gray-600 text-white",onClick:()=>{S({viagemId:"",dataRegistro:"",consumoLitros:"",valorLitro:"",diariaMotorista:"",pedagios:"",manutencao:"",outrosCustos:[],observacoes:"",anexos:[]}),B(null),localStorage.removeItem("costs_form_draft"),r("lista")},children:"Cancelar"}),u.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{e==null||e.show("Solicitao de aprovao registrada","success"),r("lista")},children:"Solicitar aprovao"})]})]})]}),F&&u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-2",children:"Passo-a-passo"}),u.jsxs("div",{children:["Combustvel: R$ ",Number(F.custoCombustivel).toFixed(2)]}),u.jsxs("div",{children:["Subtotal: R$ ",Number(F.subtotal).toFixed(2)]}),u.jsxs("div",{children:["Custo por km: R$ ",Number(F.porKm).toFixed(4)]})]})]});return u.jsxs("div",{className:"space-y-8 min-h-screen page",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-accent rounded-xl flex items-center justify-center text-white",children:""}),u.jsx("button",{className:`btn ${t==="lista"?"btn-primary":"btn-secondary"}`,onClick:()=>r("lista"),children:"Lista"}),u.jsx("button",{className:`btn ${t==="novo"?"btn-primary":"btn-secondary"}`,onClick:()=>{B(null),r("novo")},children:"Novo custo"}),u.jsx("button",{className:`btn ${t==="relatorios"?"btn-primary":"btn-secondary"}`,onClick:()=>r("relatorios"),children:"Relatrios"})]}),t==="lista"&&G,t==="novo"&&Be,t==="relatorios"&&Oe,P&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"card p-6 w-full max-w-2xl animate-fade",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Detalhes do Custo da Viagem #",P.id]}),u.jsx("button",{onClick:()=>I(null),className:"text-slate-500 hover:text-slate-700",children:u.jsx("span",{className:"material-icons",children:"close"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Data"}),u.jsx("span",{className:"font-medium",children:P.date?String(P.date).slice(0,10):"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Viagem"}),u.jsxs("span",{className:"font-medium",children:["#",P.id]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Caminho"}),u.jsx("span",{className:"font-medium",children:((Ke=i.find($=>String($.id)===String(P.truck_id)))==null?void 0:Ke.plate)||P.truck_id||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Prancha"}),u.jsx("span",{className:"font-medium",children:((lt=o.find($=>String($.id)===String(P.prancha_id)))==null?void 0:lt.asset_number)||P.prancha_id||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Motorista"}),u.jsx("span",{className:"font-medium",children:((mt=n.find($=>String($.id)===String(P.driver_id)))==null?void 0:mt.name)||P.driver_id||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"KM Rodado"}),u.jsxs("span",{className:"font-medium",children:[P.km_rodado||0," km"]})]})]}),u.jsx("div",{className:"my-4 border-t border-slate-200 dark:border-slate-700"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Combustvel"}),u.jsxs("span",{className:"font-medium",children:["R$ ",((Number(P.fuel_liters)||0)*(Number(P.fuel_price)||0)).toFixed(2)]}),u.jsxs("div",{className:"text-xs text-slate-400",children:[P.fuel_liters||0," L x R$ ",P.fuel_price||0]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Manuteno"}),u.jsxs("span",{className:"font-medium",children:["R$ ",Number(P.maintenance_cost||0).toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Diria Motorista"}),u.jsxs("span",{className:"font-medium",children:["R$ ",Number(P.driver_daily||0).toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-slate-500",children:"Outros"}),u.jsxs("span",{className:"font-medium",children:["R$ ",Number(P.other_costs||0).toFixed(2)]})]})]}),u.jsxs("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-700 rounded-lg flex justify-between items-center",children:[u.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Custo Total"}),u.jsxs("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["R$ ",Number(P.totalCost||0).toFixed(2)]})]}),P.description&&u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"font-medium mb-1",children:"Descrio / Observaes"}),u.jsx("div",{className:"text-sm p-2 bg-slate-50 dark:bg-slate-800 rounded text-slate-600 dark:text-slate-400",children:P.description})]}),u.jsx("div",{className:"mt-6 flex justify-end gap-2",children:u.jsx("button",{className:"btn bg-slate-200 text-slate-800 hover:bg-slate-300",onClick:()=>I(null),children:"Fechar"})})]})})]})}function Qie(){const{logout:e}=iT(),t=Bi(),r=Gf(),[n,a]=O.useState(!1),[i,s]=O.useState(()=>localStorage.getItem("theme")==="dark"),[o,l]=O.useState(typeof navigator<"u"?navigator.onLine:!0),[c,f]=O.useState(!1),[d,h]=O.useState(null),[p,m]=O.useState(!1);O.useEffect(()=>{const w=()=>{l(!1),m(!0),setTimeout(()=>m(!1),5e3)},_=async()=>{l(!0),m(!1);try{await qe(),f(!0),setTimeout(()=>f(!1),4e3)}catch(v){h((v==null?void 0:v.message)||"Erro ao sincronizar dados"),setTimeout(()=>h(null),6e3)}};return window.addEventListener("offline",w),window.addEventListener("online",_),()=>{window.removeEventListener("offline",w),window.removeEventListener("online",_)}},[]),O.useEffect(()=>{const w=document.documentElement;i?(w.classList.add("dark"),localStorage.setItem("theme","dark")):(w.classList.remove("dark"),localStorage.setItem("theme","light"))},[i]);const y=()=>{a(!1),e(),r("/")},g=w=>t.pathname===w||t.pathname.startsWith(w),b=()=>a(!1);return u.jsxs("div",{className:"min-h-screen md:flex bg-bg text-text dark:bg-[#0f172a] dark:text-[#f1f5f9]",children:[p&&u.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:u.jsxs("div",{className:"m-3 rounded-xl bg-yellow-500 text-white px-4 py-3 shadow-lg",children:[u.jsx("div",{className:"font-semibold",children:"Voc est offline."}),u.jsx("div",{className:"text-sm",children:"Suas aes sero sincronizadas quando a conexo voltar."})]})}),c&&u.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:u.jsxs("div",{className:"m-3 rounded-xl bg-green-600 text-white px-4 py-3 shadow-lg",children:[u.jsx("div",{className:"font-semibold",children:"Conexo restabelecida."}),u.jsx("div",{className:"text-sm",children:"Dados sincronizados com o banco."})]})}),d&&u.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:u.jsxs("div",{className:"m-3 rounded-xl bg-red-600 text-white px-4 py-3 shadow-lg",children:[u.jsx("div",{className:"font-semibold",children:"Erro de sincronizao."}),u.jsx("div",{className:"text-sm",children:d})]})}),n&&u.jsx("div",{className:"fixed inset-0 bg-black/40 md:hidden z-10",onClick:()=>a(!1)}),u.jsxs("aside",{className:`${n?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:static z-20 w-72 bg-[#1e3a8a] text-white h-full transition-transform duration-300 shadow-xl dark:bg-[#1e293b]`,children:[u.jsxs("div",{className:"p-5 flex items-center gap-3 text-white",children:[u.jsx("div",{className:"w-10 h-10 bg-accent rounded-xl flex items-center justify-center",children:""}),u.jsx("div",{className:"text-lg font-bold",children:"Gerenciamento de Viagens e Caminhes"})]}),u.jsxs("nav",{className:"px-3 space-y-1",children:[u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/dashboard")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/dashboard",children:[" ",u.jsx("span",{children:"Dashboard"})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/viagens")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/viagens",children:[" ",u.jsx("span",{children:"Viagens"})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/motoristas")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/motoristas",children:[" ",u.jsx("span",{children:"Motoristas"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"px-4 py-2 text-white/80",children:"Frota"}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/frota/caminhoes")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/frota/caminhoes",children:[" ",u.jsx("span",{children:"Caminho"})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/frota/pranchas")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/frota/pranchas",children:[" ",u.jsx("span",{children:"Reboques"})]})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/custos")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/custos",children:[" ",u.jsx("span",{children:"Custos"})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/documentos")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/documentos",children:[" ",u.jsx("span",{children:"Documentos & Tacgrafos"})]}),u.jsxs(va,{onClick:b,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${g("/exportar")?"bg-accent/20 text-white":"hover:bg-white/10"}`,to:"/exportar",children:[" ",u.jsx("span",{children:"Exportar Dados"})]}),u.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 rounded-xl transition hover:bg-white/10",onClick:y,children:[" ",u.jsx("span",{children:"Sair"})]})]})]}),u.jsxs("div",{className:"flex-1 md:ml-0 ml-0",children:[u.jsx("header",{className:"sticky top-0 z-10 bg-white shadow-md dark:bg-[#1e293b] dark:shadow-none",children:u.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[u.jsx("button",{className:"md:hidden btn btn-primary",onClick:()=>a(!n),children:"Menu"}),u.jsx("div",{className:"font-bold text-lg text-secondary",children:"Gerenciamento de Viagens e Caminhes"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:""}),u.jsx("div",{className:"text-sm",children:"Admin"}),u.jsx("button",{className:"btn",onClick:()=>s(!i),title:i?"Modo claro":"Modo escuro",children:u.jsx("span",{className:"material-icons",children:i?"light_mode":"dark_mode"})})]})]})}),u.jsx("main",{className:"p-6 page",children:u.jsx(QN,{})})]})]})}function Zie(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[a,i]=O.useState([]),[s,o]=O.useState(()=>{const g=localStorage.getItem("export_sel_draft");return g?JSON.parse(g):{truckId:"",pranchaId:"",driverId:""}}),[l,c]=O.useState("");O.useEffect(()=>{localStorage.setItem("export_sel_draft",JSON.stringify(s))},[s]),O.useEffect(()=>{Mc().then(t),Qf().then(n),Xf().then(i)},[]);const f=O.useMemo(()=>e.find(g=>String(g.id)===String(s.truckId))||null,[e,s.truckId]),d=O.useMemo(()=>r.find(g=>String(g.id)===String(s.pranchaId)||String(g.asset_number)===String(s.pranchaId))||null,[r,s.pranchaId]),h=O.useMemo(()=>a.find(g=>String(g.id)===String(s.driverId))||null,[a,s.driverId]),p=O.useMemo(()=>{const g=[];return f&&g.push(`Caminho: Frota ${f.fleet||"-"}, Placa ${f.plate||"-"}, Modelo ${f.model||"-"}, Ano ${f.year??"-"}, Status ${f.status||"-"}, KM atual ${f.km_current??"-"}`),d&&g.push(`Prancha: Frota ${d.asset_number||"-"}, Tipo ${d.type||"-"}, Capacidade ${d.capacity??"-"}, Ano ${d.year??"-"}, Placa ${d.plate||"-"}, Chassi ${d.chassis||"-"}, Status ${d.status||"-"}`),h&&g.push(`Motorista: Nome ${h.name||"-"}, CPF ${h.cpf||"-"}, CNH ${h.cnh_category||"-"}, Status ${h.status||"-"}`),g.join(`
`)},[f,d,h]),m=async()=>{const g=p.trim();if(!g){c("Nada para copiar"),setTimeout(()=>c(""),2e3);return}try{await navigator.clipboard.writeText(g),c("Copiado")}catch{const b=document.createElement("textarea");b.value=g,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),c("Copiado")}setTimeout(()=>c(""),2e3)},y=({title:g,children:b})=>u.jsxs("div",{className:"card p-6",children:[u.jsx("div",{className:"font-semibold mb-3 text-secondary",children:g}),u.jsx("div",{className:"space-y-1 text-sm",children:b})]});return u.jsxs("div",{className:"space-y-8 overflow-x-auto overflow-y-auto min-h-screen page",style:{WebkitOverflowScrolling:"touch",overscrollBehaviorX:"contain",overscrollBehaviorY:"contain",touchAction:"pan-y"},children:[u.jsxs("div",{className:"card p-6 animate-fade",children:[u.jsx("div",{className:"font-semibold mb-4 text-secondary text-xl",children:"Exportar Dados"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("select",{className:"select",value:s.truckId,onChange:g=>o({...s,truckId:g.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Selecione Caminho"}),e.map(g=>u.jsx("option",{value:g.id,children:g.fleet||g.plate||g.model||g.id},g.id))]}),u.jsxs("select",{className:"select",value:s.pranchaId,onChange:g=>o({...s,pranchaId:g.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Selecione Prancha"}),r.map(g=>u.jsx("option",{value:g.id,children:g.asset_number||g.identifier||g.model||g.id},g.id))]}),u.jsxs("select",{className:"select",value:s.driverId,onChange:g=>o({...s,driverId:g.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:"Selecione Motorista"}),a.map(g=>u.jsx("option",{value:g.id,children:g.name},g.id))]})]}),u.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[u.jsx("button",{className:"btn btn-primary",onClick:m,children:"Copiar dados formatados"}),l&&u.jsx("div",{className:"text-sm",children:l})]})]}),f&&u.jsxs(y,{title:"Caminho Selecionado",children:[u.jsxs("div",{children:["Frota: ",f.fleet||"-"]}),u.jsxs("div",{children:["Placa: ",f.plate||"-"]}),u.jsxs("div",{children:["Modelo: ",f.model||"-"]}),u.jsxs("div",{children:["Ano: ",f.year||"-"]}),u.jsxs("div",{children:["Status: ",f.status||"-"]}),u.jsxs("div",{children:["KM atual: ",f.km_current??"-"]})]}),d&&u.jsxs(y,{title:"Prancha Selecionada",children:[u.jsxs("div",{children:["Frota: ",d.asset_number||"-"]}),u.jsxs("div",{children:["Identificador: ",d.identifier||"-"]}),u.jsxs("div",{children:["Tipo: ",d.type||"-"]}),u.jsxs("div",{children:["Capacidade: ",d.capacity||"-"]}),u.jsxs("div",{children:["Ano: ",d.year||"-"]}),u.jsxs("div",{children:["Placa: ",d.plate||"-"]}),u.jsxs("div",{children:["Chassi: ",d.chassis||"-"]}),u.jsxs("div",{children:["Status: ",d.status||"-"]})]}),h&&u.jsxs(y,{title:"Motorista Selecionado",children:[u.jsxs("div",{children:["Nome: ",h.name||"-"]}),u.jsxs("div",{children:["CPF: ",h.cpf||"-"]}),u.jsxs("div",{children:["CNH: ",h.cnh_category||"-"]}),u.jsxs("div",{children:["Status: ",h.status||"-"]})]})]})}function ese(){return localStorage.getItem("token")?u.jsx(QN,{}):u.jsx(DI,{to:"/",replace:!0})}function tse(){const[e,t]=O.useState([]),[r,n]=O.useState(!1),[a,i]=O.useState(null),[s,o]=O.useState([]),[l,c]=O.useState(null),[f,d]=O.useState({documento:{},tacografo_certificado:{}}),[h,p]=O.useState({}),[m,y]=O.useState(null),[g,b]=O.useState({}),[w,_]=O.useState(""),[v,x]=O.useState(!1),[S,k]=O.useState(null),[E,A]=O.useState(null),[j,P]=O.useState(null),I=M=>{if(!M)return"";const[R,L,C]=String(M).split("-");return`${String(C).padStart(2,"0")}/${String(L).padStart(2,"0")}/${R}`},D=M=>{const R=M.some(q=>q.type==="documento"),L=M.some(q=>q.type==="tacografo_certificado"),C=M.filter(q=>q.type==="documento"||q.type==="tacografo_certificado");let H="pending";if(C.length>0){let q=!1,Z=!1,le=!1;for(const je of C){const Ae=je.expiry_status||Jf(je.expiry_date).status;Ae==="expired"&&(q=!0),Ae==="expiring"&&(Z=!0),Ae==="valid"&&(le=!0)}q?H="expired":Z?H="expiring":le&&(H="valid")}return{documento:R,tacografo_certificado:L,summary:H}},B=async()=>{const M=await Mc({page:1,pageSize:100}),R=Array.isArray(M==null?void 0:M.data)?M.data:Array.isArray(M)?M:[];t(R);try{const L={};await Promise.all(R.map(async C=>{const H=await ai(C.id);L[C.id]=D(H)})),p(L)}catch{}},F=async M=>{i(M),n(!0);const R=await ai(M.id);o(R),n(!1)};O.useEffect(()=>{B()},[]);const U=M=>{if(!(M!=null&&M.base64))return;const R=document.createElement("a");R.href=M.base64,R.download=M.filename||M.name||"documento",document.body.appendChild(R),R.click(),document.body.removeChild(R)};return u.jsxs("div",{className:"p-4 max-w-6xl mx-auto pb-24",children:[m&&u.jsx("div",{className:`fixed top-4 right-4 px-4 py-2 rounded-lg shadow-lg ${m.type==="success"?"bg-emerald-600 text-white":"bg-slate-700 text-white"}`,children:m.message}),u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Documentos & Tacgrafos"}),u.jsx("div",{className:"form-control w-full max-w-xs",children:u.jsx("input",{type:"text",placeholder:"Filtrar por placa ou frota...",className:"input input-bordered w-full",value:w,onChange:M=>_(M.target.value)})})]}),u.jsx("div",{className:"card p-4 overflow-x-auto",children:u.jsxs("table",{className:"table min-w-[1000px]",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"ID"}),u.jsx("th",{children:"Placa"}),u.jsx("th",{children:"Modelo"}),u.jsx("th",{children:"Ano"}),u.jsx("th",{children:"Frota"}),u.jsx("th",{children:"Situao"}),u.jsx("th",{children:"Documento"}),u.jsx("th",{children:"Certificado Tacgrafo"}),u.jsx("th",{children:"Detalhes"})]})}),u.jsx("tbody",{children:e.filter(M=>{if(!w)return!0;const R=w.toLowerCase();return(M.plate||"").toLowerCase().includes(R)||(M.fleet||"").toLowerCase().includes(R)}).map(M=>{var R,L,C,H,q,Z;return u.jsxs("tr",{children:[u.jsx("td",{children:M.id}),u.jsx("td",{children:M.plate||"-"}),u.jsx("td",{children:M.model||"-"}),u.jsx("td",{children:M.year??"-"}),u.jsx("td",{children:M.fleet||"-"}),u.jsx("td",{children:(()=>{var je;const le=((je=h[M.id])==null?void 0:je.summary)||"pending";return le==="expired"?u.jsx("span",{className:"badge badge-error gap-1",children:"Vencido"}):le==="expiring"?u.jsx("span",{className:"badge badge-warning gap-1",children:"Ateno"}):le==="valid"?u.jsx("span",{className:"badge badge-success gap-1",children:"Regular"}):u.jsx("span",{className:"badge badge-ghost gap-1",children:"Pendente"})})()}),u.jsx("td",{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(R=h[M.id])!=null&&R.documento?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:(L=h[M.id])!=null&&L.documento?"Enviado":"Pendente"}),((C=h[M.id])==null?void 0:C.documento)&&u.jsxs("span",{className:"text-xs px-2 py-1 rounded-lg bg-emerald-200 text-emerald-800 flex items-center gap-1",children:[u.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-violet-600 text-white text-[10px]",children:""}),"Documento"]})]})}),u.jsx("td",{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${(H=h[M.id])!=null&&H.tacografo_certificado?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:(q=h[M.id])!=null&&q.tacografo_certificado?"Enviado":"Pendente"}),((Z=h[M.id])==null?void 0:Z.tacografo_certificado)&&u.jsxs("span",{className:"text-xs px-2 py-1 rounded-lg bg-emerald-200 text-emerald-800 flex items-center gap-1",children:[u.jsx("span",{className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-violet-600 text-white text-[10px]",children:""}),"Certificado"]})]})}),u.jsx("td",{children:u.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>F(M),children:"Ver Detalhes"})})]},M.id)})})]})}),a&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-30",onClick:()=>i(null),children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl p-6",onClick:M=>M.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{className:"font-semibold text-xl",children:["Detalhes da Frota #",a.id]}),u.jsx("button",{className:"btn",onClick:()=>i(null),children:"Fechar"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Placa"}),u.jsx("div",{className:"font-medium",children:a.plate||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Modelo"}),u.jsx("div",{className:"font-medium",children:a.model||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Ano"}),u.jsx("div",{className:"font-medium",children:a.year??"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Chassi"}),u.jsx("div",{className:"font-medium",children:a.chassis||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"KM Atual"}),u.jsx("div",{className:"font-medium",children:a.km_current??"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Frota"}),u.jsx("div",{className:"font-medium",children:a.fleet||"-"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm text-slate-500",children:"Status"}),u.jsx("div",{className:"font-medium",children:a.status||"-"})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("div",{className:"font-semibold mb-2",children:"Documentos"}),!r&&s.length>0&&(()=>{const M=s.filter(L=>(L.expiry_status||(L.expiry_date?"valid":"unknown"))==="expired").length,R=s.filter(L=>(L.expiry_status||(L.expiry_date?"valid":"unknown"))==="expiring").length;return u.jsxs("div",{className:"mb-2 flex gap-2",children:[u.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-700",children:["Vencidos: ",M]}),u.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-700",children:["Expiram 30d: ",R]})]})})(),r?u.jsx("div",{children:"Carregando..."}):u.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:s.length===0?u.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum documento enviado."}):s.map(M=>u.jsxs("div",{className:"p-3 rounded-lg border dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:M.name||M.filename}),u.jsxs("div",{className:"text-xs text-slate-500",children:["Tipo: ",M.type]})]}),M.url?u.jsx("a",{className:"btn btn-sm",href:M.url,download:M.filename||M.name||"documento",children:" Download"}):u.jsx("button",{className:"btn btn-sm",onClick:()=>U(M),children:" Download"})]}),u.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-slate-500",children:"Validade"}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-slate-100 dark:bg-slate-700 dark:text-slate-200",children:M.expiry_date?I(M.expiry_date):""})]}),(()=>{const R=M.expiry_status||"unknown";let L="Sem validade",C="bg-slate-100 text-slate-600";return R==="expired"?(L="Vencido",C="bg-red-100 text-red-700"):(R==="valid"||R==="expiring")&&(L="Vlido",C=R==="expiring"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${C}`,children:L})})(),u.jsx("input",{type:"date",className:"input input-sm",value:g[M.id]??(M.expiry_date||""),onChange:R=>b(L=>({...L,[M.id]:R.target.value||""})),title:"Editar validade"}),u.jsx("button",{className:"btn btn-sm btn-secondary",onClick:async()=>{const R=g[M.id]||"";await lO(M.id,R||null);const L=await ai(a.id);o(L),p(C=>({...C,[a.id]:D(L)})),y({type:"success",message:"Validade atualizada"}),setTimeout(()=>y(null),2e3)},children:"Salvar"}),u.jsx("button",{className:"btn btn-sm btn-error ml-auto",onClick:async()=>{await pR(M.id);const R=await ai(a.id);o(R),y({type:"success",message:"Documento excludo"}),setTimeout(()=>y(null),2e3);try{const L=await ai(a.id);p(C=>({...C,[a.id]:D(L)}))}catch{}},title:"Excluir",children:"Excluir"})]})]},M.id))})]})]})}),v&&u.jsx(aT,{open:v,onClose:()=>x(!1),extracted:S,truck:j,serverDoc:E,onApplied:async()=>{try{if(j!=null&&j.id){const M=await ai(j.id);o(R=>a&&a.id===j.id?M:R),p(R=>({...R,[j.id]:D(M)}))}}catch{}}})]})}function rse(){return console.log("App Version: 1.0.2 - Fixed Storage Import"),u.jsx(KI,{children:u.jsxs(BI,{children:[u.jsx(Br,{path:"/",element:u.jsx(mR,{})}),u.jsx(Br,{element:u.jsx(ese,{}),children:u.jsxs(Br,{element:u.jsx(Qie,{}),children:[u.jsx(Br,{path:"/dashboard",element:u.jsx(_ie,{})}),u.jsx(Br,{path:"/motoristas",element:u.jsx(Lie,{})}),u.jsx(Br,{path:"/viagens",element:u.jsx(Gie,{})}),u.jsx(Br,{path:"/frota/caminhoes",element:u.jsx(Yie,{})}),u.jsx(Br,{path:"/frota/pranchas",element:u.jsx(Jie,{})}),u.jsx(Br,{path:"/custos",element:u.jsx(Xie,{})}),u.jsx(Br,{path:"/exportar",element:u.jsx(Zie,{})}),u.jsx(Br,{path:"/documentos",element:u.jsx(tse,{})})]})})]})})}function sT(){const e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`)}sT();window.addEventListener("resize",sT);zN(document.getElementById("root")).render(u.jsx(Sie,{children:u.jsx(rse,{})}));export{Yf as _,Yc as c,ze as g};
